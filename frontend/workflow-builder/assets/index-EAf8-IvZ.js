(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var df={exports:{}},pi={},ff={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mo=Symbol.for("react.element"),xm=Symbol.for("react.portal"),vm=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),Nm=Symbol.for("react.profiler"),Sm=Symbol.for("react.provider"),km=Symbol.for("react.context"),_m=Symbol.for("react.forward_ref"),Em=Symbol.for("react.suspense"),bm=Symbol.for("react.memo"),Cm=Symbol.for("react.lazy"),qu=Symbol.iterator;function jm(e){return e===null||typeof e!="object"?null:(e=qu&&e[qu]||e["@@iterator"],typeof e=="function"?e:null)}var hf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pf=Object.assign,gf={};function wr(e,t,n){this.props=e,this.context=t,this.refs=gf,this.updater=n||hf}wr.prototype.isReactComponent={};wr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};wr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mf(){}mf.prototype=wr.prototype;function $a(e,t,n){this.props=e,this.context=t,this.refs=gf,this.updater=n||hf}var za=$a.prototype=new mf;za.constructor=$a;pf(za,wr.prototype);za.isPureReactComponent=!0;var Ju=Array.isArray,yf=Object.prototype.hasOwnProperty,La={current:null},xf={key:!0,ref:!0,__self:!0,__source:!0};function vf(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)yf.call(t,r)&&!xf.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(l===1)o.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)o[r]===void 0&&(o[r]=l[r]);return{$$typeof:Mo,type:e,key:s,ref:i,props:o,_owner:La.current}}function Mm(e,t){return{$$typeof:Mo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Da(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mo}function Pm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ec=/\/+/g;function Ui(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pm(""+e.key):t.toString(36)}function ms(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Mo:case xm:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+Ui(i,0):r,Ju(o)?(n="",e!=null&&(n=e.replace(ec,"$&/")+"/"),ms(o,t,n,"",function(c){return c})):o!=null&&(Da(o)&&(o=Mm(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(ec,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Ju(e))for(var l=0;l<e.length;l++){s=e[l];var a=r+Ui(s,l);i+=ms(s,t,n,a,o)}else if(a=jm(e),typeof a=="function")for(e=a.call(e),l=0;!(s=e.next()).done;)s=s.value,a=r+Ui(s,l++),i+=ms(s,t,n,a,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Uo(e,t,n){if(e==null)return e;var r=[],o=0;return ms(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Tm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},ys={transition:null},Im={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ys,ReactCurrentOwner:La};function wf(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Uo,forEach:function(e,t,n){Uo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Uo(e,function(){t++}),t},toArray:function(e){return Uo(e,function(t){return t})||[]},only:function(e){if(!Da(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=wr;ne.Fragment=vm;ne.Profiler=Nm;ne.PureComponent=$a;ne.StrictMode=wm;ne.Suspense=Em;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Im;ne.act=wf;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pf({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=La.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)yf.call(t,a)&&!xf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Mo,type:e.type,key:o,ref:s,props:r,_owner:i}};ne.createContext=function(e){return e={$$typeof:km,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sm,_context:e},e.Consumer=e};ne.createElement=vf;ne.createFactory=function(e){var t=vf.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:_m,render:e}};ne.isValidElement=Da;ne.lazy=function(e){return{$$typeof:Cm,_payload:{_status:-1,_result:e},_init:Tm}};ne.memo=function(e,t){return{$$typeof:bm,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=ys.transition;ys.transition={};try{e()}finally{ys.transition=t}};ne.unstable_act=wf;ne.useCallback=function(e,t){return De.current.useCallback(e,t)};ne.useContext=function(e){return De.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return De.current.useDeferredValue(e)};ne.useEffect=function(e,t){return De.current.useEffect(e,t)};ne.useId=function(){return De.current.useId()};ne.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return De.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};ne.useRef=function(e){return De.current.useRef(e)};ne.useState=function(e){return De.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return De.current.useTransition()};ne.version="18.3.1";ff.exports=ne;var C=ff.exports;const Nf=cf(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m=C,zm=Symbol.for("react.element"),Lm=Symbol.for("react.fragment"),Dm=Object.prototype.hasOwnProperty,Am=$m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rm={key:!0,ref:!0,__self:!0,__source:!0};function Sf(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Dm.call(t,r)&&!Rm.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:zm,type:e,key:s,ref:i,props:o,_owner:Am.current}}pi.Fragment=Lm;pi.jsx=Sf;pi.jsxs=Sf;df.exports=pi;var u=df.exports,bl={},kf={exports:{}},Ke={},_f={exports:{}},Ef={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,j){var $=_.length;_.push(j);e:for(;0<$;){var F=$-1>>>1,O=_[F];if(0<o(O,j))_[F]=j,_[$]=O,$=F;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var j=_[0],$=_.pop();if($!==j){_[0]=$;e:for(var F=0,O=_.length,B=O>>>1;F<B;){var U=2*(F+1)-1,Q=_[U],G=U+1,X=_[G];if(0>o(Q,$))G<O&&0>o(X,Q)?(_[F]=X,_[G]=$,F=G):(_[F]=Q,_[U]=$,F=U);else if(G<O&&0>o(X,$))_[F]=X,_[G]=$,F=G;else break e}}return j}function o(_,j){var $=_.sortIndex-j.sortIndex;return $!==0?$:_.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var a=[],c=[],h=1,f=null,d=3,m=!1,x=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(_){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=_)r(c),j.sortIndex=j.expirationTime,t(a,j);else break;j=n(c)}}function w(_){if(v=!1,p(_),!x)if(n(a)!==null)x=!0,T(S);else{var j=n(c);j!==null&&M(w,j.startTime-_)}}function S(_,j){x=!1,v&&(v=!1,g(P),P=-1),m=!0;var $=d;try{for(p(j),f=n(a);f!==null&&(!(f.expirationTime>j)||_&&!L());){var F=f.callback;if(typeof F=="function"){f.callback=null,d=f.priorityLevel;var O=F(f.expirationTime<=j);j=e.unstable_now(),typeof O=="function"?f.callback=O:f===n(a)&&r(a),p(j)}else r(a);f=n(a)}if(f!==null)var B=!0;else{var U=n(c);U!==null&&M(w,U.startTime-j),B=!1}return B}finally{f=null,d=$,m=!1}}var k=!1,E=null,P=-1,I=5,R=-1;function L(){return!(e.unstable_now()-R<I)}function D(){if(E!==null){var _=e.unstable_now();R=_;var j=!0;try{j=E(!0,_)}finally{j?A():(k=!1,E=null)}}else k=!1}var A;if(typeof y=="function")A=function(){y(D)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,z=b.port2;b.port1.onmessage=D,A=function(){z.postMessage(null)}}else A=function(){N(D,0)};function T(_){E=_,k||(k=!0,A())}function M(_,j){P=N(function(){_(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,T(S))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(_){switch(d){case 1:case 2:case 3:var j=3;break;default:j=d}var $=d;d=j;try{return _()}finally{d=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,j){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var $=d;d=_;try{return j()}finally{d=$}},e.unstable_scheduleCallback=function(_,j,$){var F=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,_){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=$+O,_={id:h++,callback:j,priorityLevel:_,startTime:$,expirationTime:O,sortIndex:-1},$>F?(_.sortIndex=$,t(c,_),n(a)===null&&_===n(c)&&(v?(g(P),P=-1):v=!0,M(w,$-F))):(_.sortIndex=O,t(a,_),x||m||(x=!0,T(S))),_},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(_){var j=d;return function(){var $=d;d=j;try{return _.apply(this,arguments)}finally{d=$}}}})(Ef);_f.exports=Ef;var Fm=_f.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Om=C,Qe=Fm;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bf=new Set,to={};function Tn(e,t){or(e,t),or(e+"Capture",t)}function or(e,t){for(to[e]=t,e=0;e<t.length;e++)bf.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=Object.prototype.hasOwnProperty,Hm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tc={},nc={};function Vm(e){return Cl.call(nc,e)?!0:Cl.call(tc,e)?!1:Hm.test(e)?nc[e]=!0:(tc[e]=!0,!1)}function Bm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Um(e,t,n,r){if(t===null||typeof t>"u"||Bm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var Aa=/[\-:]([a-z])/g;function Ra(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Aa,Ra);je[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Aa,Ra);je[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Aa,Ra);je[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fa(e,t,n,r){var o=je.hasOwnProperty(t)?je[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Um(t,n,o,r)&&(n=null),r||o===null?Vm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ft=Om.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wo=Symbol.for("react.element"),Dn=Symbol.for("react.portal"),An=Symbol.for("react.fragment"),Oa=Symbol.for("react.strict_mode"),jl=Symbol.for("react.profiler"),Cf=Symbol.for("react.provider"),jf=Symbol.for("react.context"),Ha=Symbol.for("react.forward_ref"),Ml=Symbol.for("react.suspense"),Pl=Symbol.for("react.suspense_list"),Va=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),Mf=Symbol.for("react.offscreen"),rc=Symbol.iterator;function jr(e){return e===null||typeof e!="object"?null:(e=rc&&e[rc]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,Wi;function Rr(e){if(Wi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wi=t&&t[1]||""}return`
`+Wi+e}var Yi=!1;function Xi(e,t){if(!e||Yi)return"";Yi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,l=s.length-1;1<=i&&0<=l&&o[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(o[i]!==s[l]){if(i!==1||l!==1)do if(i--,l--,0>l||o[i]!==s[l]){var a=`
`+o[i].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=i&&0<=l);break}}}finally{Yi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rr(e):""}function Wm(e){switch(e.tag){case 5:return Rr(e.type);case 16:return Rr("Lazy");case 13:return Rr("Suspense");case 19:return Rr("SuspenseList");case 0:case 2:case 15:return e=Xi(e.type,!1),e;case 11:return e=Xi(e.type.render,!1),e;case 1:return e=Xi(e.type,!0),e;default:return""}}function Tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case An:return"Fragment";case Dn:return"Portal";case jl:return"Profiler";case Oa:return"StrictMode";case Ml:return"Suspense";case Pl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jf:return(e.displayName||"Context")+".Consumer";case Cf:return(e._context.displayName||"Context")+".Provider";case Ha:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Va:return t=e.displayName||null,t!==null?t:Tl(e.type)||"Memo";case Ut:t=e._payload,e=e._init;try{return Tl(e(t))}catch{}}return null}function Ym(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tl(t);case 8:return t===Oa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xm(e){var t=Pf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yo(e){e._valueTracker||(e._valueTracker=Xm(e))}function Tf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Il(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function oc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function If(e,t){t=t.checked,t!=null&&Fa(e,"checked",t,!1)}function $l(e,t){If(e,t);var n=sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zl(e,t.type,n):t.hasOwnProperty("defaultValue")&&zl(e,t.type,sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zl(e,t,n){(t!=="number"||$s(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Fr=Array.isArray;function Kn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+sn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Ll(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ic(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(H(92));if(Fr(n)){if(1<n.length)throw Error(H(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:sn(n)}}function $f(e,t){var n=sn(t.value),r=sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function lc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function zf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?zf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xo,Lf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xo=Xo||document.createElement("div"),Xo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function no(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qm=["Webkit","ms","Moz","O"];Object.keys(Ur).forEach(function(e){Qm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ur[t]=Ur[e]})});function Df(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ur.hasOwnProperty(e)&&Ur[e]?(""+t).trim():t+"px"}function Af(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Df(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Gm=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Al(e,t){if(t){if(Gm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Rl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fl=null;function Ba(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ol=null,Zn=null,qn=null;function ac(e){if(e=Io(e)){if(typeof Ol!="function")throw Error(H(280));var t=e.stateNode;t&&(t=vi(t),Ol(e.stateNode,e.type,t))}}function Rf(e){Zn?qn?qn.push(e):qn=[e]:Zn=e}function Ff(){if(Zn){var e=Zn,t=qn;if(qn=Zn=null,ac(e),t)for(e=0;e<t.length;e++)ac(t[e])}}function Of(e,t){return e(t)}function Hf(){}var Qi=!1;function Vf(e,t,n){if(Qi)return e(t,n);Qi=!0;try{return Of(e,t,n)}finally{Qi=!1,(Zn!==null||qn!==null)&&(Hf(),Ff())}}function ro(e,t){var n=e.stateNode;if(n===null)return null;var r=vi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(H(231,t,typeof n));return n}var Hl=!1;if(zt)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Hl=!1}function Km(e,t,n,r,o,s,i,l,a){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(h){this.onError(h)}}var Wr=!1,zs=null,Ls=!1,Vl=null,Zm={onError:function(e){Wr=!0,zs=e}};function qm(e,t,n,r,o,s,i,l,a){Wr=!1,zs=null,Km.apply(Zm,arguments)}function Jm(e,t,n,r,o,s,i,l,a){if(qm.apply(this,arguments),Wr){if(Wr){var c=zs;Wr=!1,zs=null}else throw Error(H(198));Ls||(Ls=!0,Vl=c)}}function In(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uc(e){if(In(e)!==e)throw Error(H(188))}function ey(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(H(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return uc(o),e;if(s===r)return uc(o),t;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?e:t}function Uf(e){return e=ey(e),e!==null?Wf(e):null}function Wf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wf(e);if(t!==null)return t;e=e.sibling}return null}var Yf=Qe.unstable_scheduleCallback,cc=Qe.unstable_cancelCallback,ty=Qe.unstable_shouldYield,ny=Qe.unstable_requestPaint,xe=Qe.unstable_now,ry=Qe.unstable_getCurrentPriorityLevel,Ua=Qe.unstable_ImmediatePriority,Xf=Qe.unstable_UserBlockingPriority,Ds=Qe.unstable_NormalPriority,oy=Qe.unstable_LowPriority,Qf=Qe.unstable_IdlePriority,gi=null,wt=null;function sy(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(gi,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:ay,iy=Math.log,ly=Math.LN2;function ay(e){return e>>>=0,e===0?32:31-(iy(e)/ly|0)|0}var Qo=64,Go=4194304;function Or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function As(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~o;l!==0?r=Or(l):(s&=i,s!==0&&(r=Or(s)))}else i=n&~o,i!==0?r=Or(i):s!==0&&(r=Or(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ft(t),o=1<<n,r|=e[n],t&=~o;return r}function uy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-ft(s),l=1<<i,a=o[i];a===-1?(!(l&n)||l&r)&&(o[i]=uy(l,t)):a<=t&&(e.expiredLanes|=l),s&=~l}}function Bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gf(){var e=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),e}function Gi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Po(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=n}function dy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ft(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function Wa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ie=0;function Kf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zf,Ya,qf,Jf,eh,Ul=!1,Ko=[],Zt=null,qt=null,Jt=null,oo=new Map,so=new Map,Yt=[],fy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dc(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":oo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(t.pointerId)}}function Pr(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=Io(t),t!==null&&Ya(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function hy(e,t,n,r,o){switch(t){case"focusin":return Zt=Pr(Zt,e,t,n,r,o),!0;case"dragenter":return qt=Pr(qt,e,t,n,r,o),!0;case"mouseover":return Jt=Pr(Jt,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return oo.set(s,Pr(oo.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,so.set(s,Pr(so.get(s)||null,e,t,n,r,o)),!0}return!1}function th(e){var t=gn(e.target);if(t!==null){var n=In(t);if(n!==null){if(t=n.tag,t===13){if(t=Bf(n),t!==null){e.blockedOn=t,eh(e.priority,function(){qf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fl=r,n.target.dispatchEvent(r),Fl=null}else return t=Io(n),t!==null&&Ya(t),e.blockedOn=n,!1;t.shift()}return!0}function fc(e,t,n){xs(e)&&n.delete(t)}function py(){Ul=!1,Zt!==null&&xs(Zt)&&(Zt=null),qt!==null&&xs(qt)&&(qt=null),Jt!==null&&xs(Jt)&&(Jt=null),oo.forEach(fc),so.forEach(fc)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ul||(Ul=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,py)))}function io(e){function t(o){return Tr(o,e)}if(0<Ko.length){Tr(Ko[0],e);for(var n=1;n<Ko.length;n++){var r=Ko[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zt!==null&&Tr(Zt,e),qt!==null&&Tr(qt,e),Jt!==null&&Tr(Jt,e),oo.forEach(t),so.forEach(t),n=0;n<Yt.length;n++)r=Yt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)th(n),n.blockedOn===null&&Yt.shift()}var Jn=Ft.ReactCurrentBatchConfig,Rs=!0;function gy(e,t,n,r){var o=ie,s=Jn.transition;Jn.transition=null;try{ie=1,Xa(e,t,n,r)}finally{ie=o,Jn.transition=s}}function my(e,t,n,r){var o=ie,s=Jn.transition;Jn.transition=null;try{ie=4,Xa(e,t,n,r)}finally{ie=o,Jn.transition=s}}function Xa(e,t,n,r){if(Rs){var o=Wl(e,t,n,r);if(o===null)sl(e,t,r,Fs,n),dc(e,r);else if(hy(o,e,t,n,r))r.stopPropagation();else if(dc(e,r),t&4&&-1<fy.indexOf(e)){for(;o!==null;){var s=Io(o);if(s!==null&&Zf(s),s=Wl(e,t,n,r),s===null&&sl(e,t,r,Fs,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else sl(e,t,r,null,n)}}var Fs=null;function Wl(e,t,n,r){if(Fs=null,e=Ba(r),e=gn(e),e!==null)if(t=In(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fs=e,null}function nh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ry()){case Ua:return 1;case Xf:return 4;case Ds:case oy:return 16;case Qf:return 536870912;default:return 16}default:return 16}}var Gt=null,Qa=null,vs=null;function rh(){if(vs)return vs;var e,t=Qa,n=t.length,r,o="value"in Gt?Gt.value:Gt.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return vs=o.slice(e,1<r?1-r:void 0)}function ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zo(){return!0}function hc(){return!1}function Ze(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zo:hc,this.isPropagationStopped=hc,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),t}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=Ze(Nr),To=ge({},Nr,{view:0,detail:0}),yy=Ze(To),Ki,Zi,Ir,mi=ge({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ir&&(Ir&&e.type==="mousemove"?(Ki=e.screenX-Ir.screenX,Zi=e.screenY-Ir.screenY):Zi=Ki=0,Ir=e),Ki)},movementY:function(e){return"movementY"in e?e.movementY:Zi}}),pc=Ze(mi),xy=ge({},mi,{dataTransfer:0}),vy=Ze(xy),wy=ge({},To,{relatedTarget:0}),qi=Ze(wy),Ny=ge({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sy=Ze(Ny),ky=ge({},Nr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_y=Ze(ky),Ey=ge({},Nr,{data:0}),gc=Ze(Ey),by={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function My(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jy[e])?!!t[e]:!1}function Ka(){return My}var Py=ge({},To,{key:function(e){if(e.key){var t=by[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(e){return e.type==="keypress"?ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ty=Ze(Py),Iy=ge({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=Ze(Iy),$y=ge({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),zy=Ze($y),Ly=ge({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dy=Ze(Ly),Ay=ge({},mi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ry=Ze(Ay),Fy=[9,13,27,32],Za=zt&&"CompositionEvent"in window,Yr=null;zt&&"documentMode"in document&&(Yr=document.documentMode);var Oy=zt&&"TextEvent"in window&&!Yr,oh=zt&&(!Za||Yr&&8<Yr&&11>=Yr),yc=" ",xc=!1;function sh(e,t){switch(e){case"keyup":return Fy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ih(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function Hy(e,t){switch(e){case"compositionend":return ih(t);case"keypress":return t.which!==32?null:(xc=!0,yc);case"textInput":return e=t.data,e===yc&&xc?null:e;default:return null}}function Vy(e,t){if(Rn)return e==="compositionend"||!Za&&sh(e,t)?(e=rh(),vs=Qa=Gt=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oh&&t.locale!=="ko"?null:t.data;default:return null}}var By={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!By[e.type]:t==="textarea"}function lh(e,t,n,r){Rf(r),t=Os(t,"onChange"),0<t.length&&(n=new Ga("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xr=null,lo=null;function Uy(e){xh(e,0)}function yi(e){var t=Hn(e);if(Tf(t))return e}function Wy(e,t){if(e==="change")return t}var ah=!1;if(zt){var Ji;if(zt){var el="oninput"in document;if(!el){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),el=typeof wc.oninput=="function"}Ji=el}else Ji=!1;ah=Ji&&(!document.documentMode||9<document.documentMode)}function Nc(){Xr&&(Xr.detachEvent("onpropertychange",uh),lo=Xr=null)}function uh(e){if(e.propertyName==="value"&&yi(lo)){var t=[];lh(t,lo,e,Ba(e)),Vf(Uy,t)}}function Yy(e,t,n){e==="focusin"?(Nc(),Xr=t,lo=n,Xr.attachEvent("onpropertychange",uh)):e==="focusout"&&Nc()}function Xy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yi(lo)}function Qy(e,t){if(e==="click")return yi(t)}function Gy(e,t){if(e==="input"||e==="change")return yi(t)}function Ky(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Ky;function ao(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Cl.call(t,o)||!pt(e[o],t[o]))return!1}return!0}function Sc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kc(e,t){var n=Sc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sc(n)}}function ch(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ch(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dh(){for(var e=window,t=$s();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$s(e.document)}return t}function qa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zy(e){var t=dh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ch(n.ownerDocument.documentElement,n)){if(r!==null&&qa(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=kc(n,s);var i=kc(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qy=zt&&"documentMode"in document&&11>=document.documentMode,Fn=null,Yl=null,Qr=null,Xl=!1;function _c(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xl||Fn==null||Fn!==$s(r)||(r=Fn,"selectionStart"in r&&qa(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qr&&ao(Qr,r)||(Qr=r,r=Os(Yl,"onSelect"),0<r.length&&(t=new Ga("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fn)))}function qo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var On={animationend:qo("Animation","AnimationEnd"),animationiteration:qo("Animation","AnimationIteration"),animationstart:qo("Animation","AnimationStart"),transitionend:qo("Transition","TransitionEnd")},tl={},fh={};zt&&(fh=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function xi(e){if(tl[e])return tl[e];if(!On[e])return e;var t=On[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fh)return tl[e]=t[n];return e}var hh=xi("animationend"),ph=xi("animationiteration"),gh=xi("animationstart"),mh=xi("transitionend"),yh=new Map,Ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){yh.set(e,t),Tn(t,[e])}for(var nl=0;nl<Ec.length;nl++){var rl=Ec[nl],Jy=rl.toLowerCase(),ex=rl[0].toUpperCase()+rl.slice(1);an(Jy,"on"+ex)}an(hh,"onAnimationEnd");an(ph,"onAnimationIteration");an(gh,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(mh,"onTransitionEnd");or("onMouseEnter",["mouseout","mouseover"]);or("onMouseLeave",["mouseout","mouseover"]);or("onPointerEnter",["pointerout","pointerover"]);or("onPointerLeave",["pointerout","pointerover"]);Tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function bc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Jm(r,t,void 0,e),e.currentTarget=null}function xh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==s&&o.isPropagationStopped())break e;bc(o,l,c),s=a}else for(i=0;i<r.length;i++){if(l=r[i],a=l.instance,c=l.currentTarget,l=l.listener,a!==s&&o.isPropagationStopped())break e;bc(o,l,c),s=a}}}if(Ls)throw e=Vl,Ls=!1,Vl=null,e}function ue(e,t){var n=t[ql];n===void 0&&(n=t[ql]=new Set);var r=e+"__bubble";n.has(r)||(vh(t,e,2,!1),n.add(r))}function ol(e,t,n){var r=0;t&&(r|=4),vh(n,e,r,t)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function uo(e){if(!e[Jo]){e[Jo]=!0,bf.forEach(function(n){n!=="selectionchange"&&(tx.has(n)||ol(n,!1,e),ol(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jo]||(t[Jo]=!0,ol("selectionchange",!1,t))}}function vh(e,t,n,r){switch(nh(t)){case 1:var o=gy;break;case 4:o=my;break;default:o=Xa}n=o.bind(null,t,n,e),o=void 0,!Hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function sl(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var a=i.tag;if((a===3||a===4)&&(a=i.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;i=i.return}for(;l!==null;){if(i=gn(l),i===null)return;if(a=i.tag,a===5||a===6){r=s=i;continue e}l=l.parentNode}}r=r.return}Vf(function(){var c=s,h=Ba(n),f=[];e:{var d=yh.get(e);if(d!==void 0){var m=Ga,x=e;switch(e){case"keypress":if(ws(n)===0)break e;case"keydown":case"keyup":m=Ty;break;case"focusin":x="focus",m=qi;break;case"focusout":x="blur",m=qi;break;case"beforeblur":case"afterblur":m=qi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=vy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zy;break;case hh:case ph:case gh:m=Sy;break;case mh:m=Dy;break;case"scroll":m=yy;break;case"wheel":m=Ry;break;case"copy":case"cut":case"paste":m=_y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mc}var v=(t&4)!==0,N=!v&&e==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var y=c,p;y!==null;){p=y;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,g!==null&&(w=ro(y,g),w!=null&&v.push(co(y,w,p)))),N)break;y=y.return}0<v.length&&(d=new m(d,x,null,n,h),f.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==Fl&&(x=n.relatedTarget||n.fromElement)&&(gn(x)||x[Lt]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?gn(x):null,x!==null&&(N=In(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(v=pc,w="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=mc,w="onPointerLeave",g="onPointerEnter",y="pointer"),N=m==null?d:Hn(m),p=x==null?d:Hn(x),d=new v(w,y+"leave",m,n,h),d.target=N,d.relatedTarget=p,w=null,gn(h)===c&&(v=new v(g,y+"enter",x,n,h),v.target=p,v.relatedTarget=N,w=v),N=w,m&&x)t:{for(v=m,g=x,y=0,p=v;p;p=zn(p))y++;for(p=0,w=g;w;w=zn(w))p++;for(;0<y-p;)v=zn(v),y--;for(;0<p-y;)g=zn(g),p--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=zn(v),g=zn(g)}v=null}else v=null;m!==null&&Cc(f,d,m,v,!1),x!==null&&N!==null&&Cc(f,N,x,v,!0)}}e:{if(d=c?Hn(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var S=Wy;else if(vc(d))if(ah)S=Gy;else{S=Xy;var k=Yy}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Qy);if(S&&(S=S(e,c))){lh(f,S,n,h);break e}k&&k(e,d,c),e==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&zl(d,"number",d.value)}switch(k=c?Hn(c):window,e){case"focusin":(vc(k)||k.contentEditable==="true")&&(Fn=k,Yl=c,Qr=null);break;case"focusout":Qr=Yl=Fn=null;break;case"mousedown":Xl=!0;break;case"contextmenu":case"mouseup":case"dragend":Xl=!1,_c(f,n,h);break;case"selectionchange":if(qy)break;case"keydown":case"keyup":_c(f,n,h)}var E;if(Za)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Rn?sh(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(oh&&n.locale!=="ko"&&(Rn||P!=="onCompositionStart"?P==="onCompositionEnd"&&Rn&&(E=rh()):(Gt=h,Qa="value"in Gt?Gt.value:Gt.textContent,Rn=!0)),k=Os(c,P),0<k.length&&(P=new gc(P,e,null,n,h),f.push({event:P,listeners:k}),E?P.data=E:(E=ih(n),E!==null&&(P.data=E)))),(E=Oy?Hy(e,n):Vy(e,n))&&(c=Os(c,"onBeforeInput"),0<c.length&&(h=new gc("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=E))}xh(f,t)})}function co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Os(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=ro(e,n),s!=null&&r.unshift(co(e,s,o)),s=ro(e,t),s!=null&&r.push(co(e,s,o))),e=e.return}return r}function zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cc(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,o?(a=ro(n,s),a!=null&&i.unshift(co(n,a,l))):o||(a=ro(n,s),a!=null&&i.push(co(n,a,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var nx=/\r\n?/g,rx=/\u0000|\uFFFD/g;function jc(e){return(typeof e=="string"?e:""+e).replace(nx,`
`).replace(rx,"")}function es(e,t,n){if(t=jc(t),jc(e)!==t&&n)throw Error(H(425))}function Hs(){}var Ql=null,Gl=null;function Kl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,ox=typeof clearTimeout=="function"?clearTimeout:void 0,Mc=typeof Promise=="function"?Promise:void 0,sx=typeof queueMicrotask=="function"?queueMicrotask:typeof Mc<"u"?function(e){return Mc.resolve(null).then(e).catch(ix)}:Zl;function ix(e){setTimeout(function(){throw e})}function il(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),io(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);io(t)}function en(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Sr=Math.random().toString(36).slice(2),vt="__reactFiber$"+Sr,fo="__reactProps$"+Sr,Lt="__reactContainer$"+Sr,ql="__reactEvents$"+Sr,lx="__reactListeners$"+Sr,ax="__reactHandles$"+Sr;function gn(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pc(e);e!==null;){if(n=e[vt])return n;e=Pc(e)}return t}e=n,n=e.parentNode}return null}function Io(e){return e=e[vt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function vi(e){return e[fo]||null}var Jl=[],Vn=-1;function un(e){return{current:e}}function ce(e){0>Vn||(e.current=Jl[Vn],Jl[Vn]=null,Vn--)}function le(e,t){Vn++,Jl[Vn]=e.current,e.current=t}var ln={},Ie=un(ln),He=un(!1),kn=ln;function sr(e,t){var n=e.type.contextTypes;if(!n)return ln;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ve(e){return e=e.childContextTypes,e!=null}function Vs(){ce(He),ce(Ie)}function Tc(e,t,n){if(Ie.current!==ln)throw Error(H(168));le(Ie,t),le(He,n)}function wh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(H(108,Ym(e)||"Unknown",o));return ge({},n,r)}function Bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ln,kn=Ie.current,le(Ie,e),le(He,He.current),!0}function Ic(e,t,n){var r=e.stateNode;if(!r)throw Error(H(169));n?(e=wh(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,ce(He),ce(Ie),le(Ie,e)):ce(He),le(He,n)}var Mt=null,wi=!1,ll=!1;function Nh(e){Mt===null?Mt=[e]:Mt.push(e)}function ux(e){wi=!0,Nh(e)}function cn(){if(!ll&&Mt!==null){ll=!0;var e=0,t=ie;try{var n=Mt;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mt=null,wi=!1}catch(o){throw Mt!==null&&(Mt=Mt.slice(e+1)),Yf(Ua,cn),o}finally{ie=t,ll=!1}}return null}var Bn=[],Un=0,Us=null,Ws=0,qe=[],Je=0,_n=null,Pt=1,Tt="";function fn(e,t){Bn[Un++]=Ws,Bn[Un++]=Us,Us=e,Ws=t}function Sh(e,t,n){qe[Je++]=Pt,qe[Je++]=Tt,qe[Je++]=_n,_n=e;var r=Pt;e=Tt;var o=32-ft(r)-1;r&=~(1<<o),n+=1;var s=32-ft(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Pt=1<<32-ft(t)+o|n<<o|r,Tt=s+e}else Pt=1<<s|n<<o|r,Tt=e}function Ja(e){e.return!==null&&(fn(e,1),Sh(e,1,0))}function eu(e){for(;e===Us;)Us=Bn[--Un],Bn[Un]=null,Ws=Bn[--Un],Bn[Un]=null;for(;e===_n;)_n=qe[--Je],qe[Je]=null,Tt=qe[--Je],qe[Je]=null,Pt=qe[--Je],qe[Je]=null}var Xe=null,Ye=null,de=!1,at=null;function kh(e,t){var n=et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function $c(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Ye=en(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_n!==null?{id:Pt,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Ye=null,!0):!1;default:return!1}}function ea(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ta(e){if(de){var t=Ye;if(t){var n=t;if(!$c(e,t)){if(ea(e))throw Error(H(418));t=en(n.nextSibling);var r=Xe;t&&$c(e,t)?kh(r,n):(e.flags=e.flags&-4097|2,de=!1,Xe=e)}}else{if(ea(e))throw Error(H(418));e.flags=e.flags&-4097|2,de=!1,Xe=e}}}function zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function ts(e){if(e!==Xe)return!1;if(!de)return zc(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kl(e.type,e.memoizedProps)),t&&(t=Ye)){if(ea(e))throw _h(),Error(H(418));for(;t;)kh(e,t),t=en(t.nextSibling)}if(zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ye=en(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=Xe?en(e.stateNode.nextSibling):null;return!0}function _h(){for(var e=Ye;e;)e=en(e.nextSibling)}function ir(){Ye=Xe=null,de=!1}function tu(e){at===null?at=[e]:at.push(e)}var cx=Ft.ReactCurrentBatchConfig;function $r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var l=o.refs;i===null?delete l[s]:l[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,e))}return e}function ns(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lc(e){var t=e._init;return t(e._payload)}function Eh(e){function t(g,y){if(e){var p=g.deletions;p===null?(g.deletions=[y],g.flags|=16):p.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function r(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function o(g,y){return g=on(g,y),g.index=0,g.sibling=null,g}function s(g,y,p){return g.index=p,e?(p=g.alternate,p!==null?(p=p.index,p<y?(g.flags|=2,y):p):(g.flags|=2,y)):(g.flags|=1048576,y)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,y,p,w){return y===null||y.tag!==6?(y=pl(p,g.mode,w),y.return=g,y):(y=o(y,p),y.return=g,y)}function a(g,y,p,w){var S=p.type;return S===An?h(g,y,p.props.children,w,p.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&Lc(S)===y.type)?(w=o(y,p.props),w.ref=$r(g,y,p),w.return=g,w):(w=Cs(p.type,p.key,p.props,null,g.mode,w),w.ref=$r(g,y,p),w.return=g,w)}function c(g,y,p,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==p.containerInfo||y.stateNode.implementation!==p.implementation?(y=gl(p,g.mode,w),y.return=g,y):(y=o(y,p.children||[]),y.return=g,y)}function h(g,y,p,w,S){return y===null||y.tag!==7?(y=wn(p,g.mode,w,S),y.return=g,y):(y=o(y,p),y.return=g,y)}function f(g,y,p){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pl(""+y,g.mode,p),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wo:return p=Cs(y.type,y.key,y.props,null,g.mode,p),p.ref=$r(g,null,y),p.return=g,p;case Dn:return y=gl(y,g.mode,p),y.return=g,y;case Ut:var w=y._init;return f(g,w(y._payload),p)}if(Fr(y)||jr(y))return y=wn(y,g.mode,p,null),y.return=g,y;ns(g,y)}return null}function d(g,y,p,w){var S=y!==null?y.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:l(g,y,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Wo:return p.key===S?a(g,y,p,w):null;case Dn:return p.key===S?c(g,y,p,w):null;case Ut:return S=p._init,d(g,y,S(p._payload),w)}if(Fr(p)||jr(p))return S!==null?null:h(g,y,p,w,null);ns(g,p)}return null}function m(g,y,p,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(p)||null,l(y,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wo:return g=g.get(w.key===null?p:w.key)||null,a(y,g,w,S);case Dn:return g=g.get(w.key===null?p:w.key)||null,c(y,g,w,S);case Ut:var k=w._init;return m(g,y,p,k(w._payload),S)}if(Fr(w)||jr(w))return g=g.get(p)||null,h(y,g,w,S,null);ns(y,w)}return null}function x(g,y,p,w){for(var S=null,k=null,E=y,P=y=0,I=null;E!==null&&P<p.length;P++){E.index>P?(I=E,E=null):I=E.sibling;var R=d(g,E,p[P],w);if(R===null){E===null&&(E=I);break}e&&E&&R.alternate===null&&t(g,E),y=s(R,y,P),k===null?S=R:k.sibling=R,k=R,E=I}if(P===p.length)return n(g,E),de&&fn(g,P),S;if(E===null){for(;P<p.length;P++)E=f(g,p[P],w),E!==null&&(y=s(E,y,P),k===null?S=E:k.sibling=E,k=E);return de&&fn(g,P),S}for(E=r(g,E);P<p.length;P++)I=m(E,g,P,p[P],w),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?P:I.key),y=s(I,y,P),k===null?S=I:k.sibling=I,k=I);return e&&E.forEach(function(L){return t(g,L)}),de&&fn(g,P),S}function v(g,y,p,w){var S=jr(p);if(typeof S!="function")throw Error(H(150));if(p=S.call(p),p==null)throw Error(H(151));for(var k=S=null,E=y,P=y=0,I=null,R=p.next();E!==null&&!R.done;P++,R=p.next()){E.index>P?(I=E,E=null):I=E.sibling;var L=d(g,E,R.value,w);if(L===null){E===null&&(E=I);break}e&&E&&L.alternate===null&&t(g,E),y=s(L,y,P),k===null?S=L:k.sibling=L,k=L,E=I}if(R.done)return n(g,E),de&&fn(g,P),S;if(E===null){for(;!R.done;P++,R=p.next())R=f(g,R.value,w),R!==null&&(y=s(R,y,P),k===null?S=R:k.sibling=R,k=R);return de&&fn(g,P),S}for(E=r(g,E);!R.done;P++,R=p.next())R=m(E,g,P,R.value,w),R!==null&&(e&&R.alternate!==null&&E.delete(R.key===null?P:R.key),y=s(R,y,P),k===null?S=R:k.sibling=R,k=R);return e&&E.forEach(function(D){return t(g,D)}),de&&fn(g,P),S}function N(g,y,p,w){if(typeof p=="object"&&p!==null&&p.type===An&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Wo:e:{for(var S=p.key,k=y;k!==null;){if(k.key===S){if(S=p.type,S===An){if(k.tag===7){n(g,k.sibling),y=o(k,p.props.children),y.return=g,g=y;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ut&&Lc(S)===k.type){n(g,k.sibling),y=o(k,p.props),y.ref=$r(g,k,p),y.return=g,g=y;break e}n(g,k);break}else t(g,k);k=k.sibling}p.type===An?(y=wn(p.props.children,g.mode,w,p.key),y.return=g,g=y):(w=Cs(p.type,p.key,p.props,null,g.mode,w),w.ref=$r(g,y,p),w.return=g,g=w)}return i(g);case Dn:e:{for(k=p.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===p.containerInfo&&y.stateNode.implementation===p.implementation){n(g,y.sibling),y=o(y,p.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=gl(p,g.mode,w),y.return=g,g=y}return i(g);case Ut:return k=p._init,N(g,y,k(p._payload),w)}if(Fr(p))return x(g,y,p,w);if(jr(p))return v(g,y,p,w);ns(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,y!==null&&y.tag===6?(n(g,y.sibling),y=o(y,p),y.return=g,g=y):(n(g,y),y=pl(p,g.mode,w),y.return=g,g=y),i(g)):n(g,y)}return N}var lr=Eh(!0),bh=Eh(!1),Ys=un(null),Xs=null,Wn=null,nu=null;function ru(){nu=Wn=Xs=null}function ou(e){var t=Ys.current;ce(Ys),e._currentValue=t}function na(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function er(e,t){Xs=e,nu=Wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fe=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(nu!==e)if(e={context:e,memoizedValue:t,next:null},Wn===null){if(Xs===null)throw Error(H(308));Wn=e,Xs.dependencies={lanes:0,firstContext:e}}else Wn=Wn.next=e;return t}var mn=null;function su(e){mn===null?mn=[e]:mn.push(e)}function Ch(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,su(t)):(n.next=o.next,o.next=n),t.interleaved=n,Dt(e,r)}function Dt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wt=!1;function iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Dt(e,n)}return o=r.interleaved,o===null?(t.next=t,su(r)):(t.next=o.next,o.next=t),r.interleaved=t,Dt(e,n)}function Ns(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wa(e,n)}}function Dc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Qs(e,t,n,r){var o=e.updateQueue;Wt=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,c=a.next;a.next=null,i===null?s=c:i.next=c,i=a;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=a))}if(s!==null){var f=o.baseState;i=0,h=c=a=null,l=s;do{var d=l.lane,m=l.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(d=t,m=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(m,f,d);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,d=typeof x=="function"?x.call(m,f,d):x,d==null)break e;f=ge({},f,d);break e;case 2:Wt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=o.effects,d===null?o.effects=[l]:d.push(l))}else m={eventTime:m,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=m,a=f):h=h.next=m,i|=d;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;d=l,l=d.next,d.next=null,o.lastBaseUpdate=d,o.shared.pending=null}}while(!0);if(h===null&&(a=f),o.baseState=a,o.firstBaseUpdate=c,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);bn|=i,e.lanes=i,e.memoizedState=f}}function Ac(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(H(191,o));o.call(r)}}}var $o={},Nt=un($o),ho=un($o),po=un($o);function yn(e){if(e===$o)throw Error(H(174));return e}function lu(e,t){switch(le(po,t),le(ho,e),le(Nt,$o),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dl(t,e)}ce(Nt),le(Nt,t)}function ar(){ce(Nt),ce(ho),ce(po)}function Mh(e){yn(po.current);var t=yn(Nt.current),n=Dl(t,e.type);t!==n&&(le(ho,e),le(Nt,n))}function au(e){ho.current===e&&(ce(Nt),ce(ho))}var he=un(0);function Gs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var al=[];function uu(){for(var e=0;e<al.length;e++)al[e]._workInProgressVersionPrimary=null;al.length=0}var Ss=Ft.ReactCurrentDispatcher,ul=Ft.ReactCurrentBatchConfig,En=0,pe=null,Ne=null,ke=null,Ks=!1,Gr=!1,go=0,dx=0;function Me(){throw Error(H(321))}function cu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function du(e,t,n,r,o,s){if(En=s,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ss.current=e===null||e.memoizedState===null?gx:mx,e=n(r,o),Gr){s=0;do{if(Gr=!1,go=0,25<=s)throw Error(H(301));s+=1,ke=Ne=null,t.updateQueue=null,Ss.current=yx,e=n(r,o)}while(Gr)}if(Ss.current=Zs,t=Ne!==null&&Ne.next!==null,En=0,ke=Ne=pe=null,Ks=!1,t)throw Error(H(300));return e}function fu(){var e=go!==0;return go=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?pe.memoizedState=ke=e:ke=ke.next=e,ke}function rt(){if(Ne===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=ke===null?pe.memoizedState:ke.next;if(t!==null)ke=t,Ne=e;else{if(e===null)throw Error(H(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},ke===null?pe.memoizedState=ke=e:ke=ke.next=e}return ke}function mo(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=rt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=Ne,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var l=i=null,a=null,c=s;do{var h=c.lane;if((En&h)===h)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=f,i=r):a=a.next=f,pe.lanes|=h,bn|=h}c=c.next}while(c!==null&&c!==s);a===null?i=r:a.next=l,pt(r,t.memoizedState)||(Fe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,pe.lanes|=s,bn|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dl(e){var t=rt(),n=t.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);pt(s,t.memoizedState)||(Fe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ph(){}function Th(e,t){var n=pe,r=rt(),o=t(),s=!pt(r.memoizedState,o);if(s&&(r.memoizedState=o,Fe=!0),r=r.queue,hu(zh.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ke!==null&&ke.memoizedState.tag&1){if(n.flags|=2048,yo(9,$h.bind(null,n,r,o,t),void 0,null),_e===null)throw Error(H(349));En&30||Ih(n,t,o)}return o}function Ih(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $h(e,t,n,r){t.value=n,t.getSnapshot=r,Lh(t)&&Dh(e)}function zh(e,t,n){return n(function(){Lh(t)&&Dh(e)})}function Lh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function Dh(e){var t=Dt(e,1);t!==null&&ht(t,e,1,-1)}function Rc(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:e},t.queue=e,e=e.dispatch=px.bind(null,pe,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ah(){return rt().memoizedState}function ks(e,t,n,r){var o=yt();pe.flags|=e,o.memoizedState=yo(1|t,n,void 0,r===void 0?null:r)}function Ni(e,t,n,r){var o=rt();r=r===void 0?null:r;var s=void 0;if(Ne!==null){var i=Ne.memoizedState;if(s=i.destroy,r!==null&&cu(r,i.deps)){o.memoizedState=yo(t,n,s,r);return}}pe.flags|=e,o.memoizedState=yo(1|t,n,s,r)}function Fc(e,t){return ks(8390656,8,e,t)}function hu(e,t){return Ni(2048,8,e,t)}function Rh(e,t){return Ni(4,2,e,t)}function Fh(e,t){return Ni(4,4,e,t)}function Oh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hh(e,t,n){return n=n!=null?n.concat([e]):null,Ni(4,4,Oh.bind(null,t,e),n)}function pu(){}function Vh(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bh(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Uh(e,t,n){return En&21?(pt(n,t)||(n=Gf(),pe.lanes|=n,bn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fe=!0),e.memoizedState=n)}function fx(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=ul.transition;ul.transition={};try{e(!1),t()}finally{ie=n,ul.transition=r}}function Wh(){return rt().memoizedState}function hx(e,t,n){var r=rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yh(e))Xh(t,n);else if(n=Ch(e,t,n,r),n!==null){var o=ze();ht(n,e,r,o),Qh(n,t,r)}}function px(e,t,n){var r=rn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yh(e))Xh(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,l=s(i,n);if(o.hasEagerState=!0,o.eagerState=l,pt(l,i)){var a=t.interleaved;a===null?(o.next=o,su(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Ch(e,t,o,r),n!==null&&(o=ze(),ht(n,e,r,o),Qh(n,t,r))}}function Yh(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Xh(e,t){Gr=Ks=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wa(e,n)}}var Zs={readContext:nt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},gx={readContext:nt,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:Fc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ks(4194308,4,Oh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return ks(4,2,e,t)},useMemo:function(e,t){var n=yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hx.bind(null,pe,e),[r.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:Rc,useDebugValue:pu,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=Rc(!1),t=e[0];return e=fx.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pe,o=yt();if(de){if(n===void 0)throw Error(H(407));n=n()}else{if(n=t(),_e===null)throw Error(H(349));En&30||Ih(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Fc(zh.bind(null,r,s,e),[e]),r.flags|=2048,yo(9,$h.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=yt(),t=_e.identifierPrefix;if(de){var n=Tt,r=Pt;n=(r&~(1<<32-ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=dx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mx={readContext:nt,useCallback:Vh,useContext:nt,useEffect:hu,useImperativeHandle:Hh,useInsertionEffect:Rh,useLayoutEffect:Fh,useMemo:Bh,useReducer:cl,useRef:Ah,useState:function(){return cl(mo)},useDebugValue:pu,useDeferredValue:function(e){var t=rt();return Uh(t,Ne.memoizedState,e)},useTransition:function(){var e=cl(mo)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Ph,useSyncExternalStore:Th,useId:Wh,unstable_isNewReconciler:!1},yx={readContext:nt,useCallback:Vh,useContext:nt,useEffect:hu,useImperativeHandle:Hh,useInsertionEffect:Rh,useLayoutEffect:Fh,useMemo:Bh,useReducer:dl,useRef:Ah,useState:function(){return dl(mo)},useDebugValue:pu,useDeferredValue:function(e){var t=rt();return Ne===null?t.memoizedState=e:Uh(t,Ne.memoizedState,e)},useTransition:function(){var e=dl(mo)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Ph,useSyncExternalStore:Th,useId:Wh,unstable_isNewReconciler:!1};function st(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Si={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ze(),o=rn(e),s=$t(r,o);s.payload=t,n!=null&&(s.callback=n),t=tn(e,s,o),t!==null&&(ht(t,e,o,r),Ns(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ze(),o=rn(e),s=$t(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=tn(e,s,o),t!==null&&(ht(t,e,o,r),Ns(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ze(),r=rn(e),o=$t(n,r);o.tag=2,t!=null&&(o.callback=t),t=tn(e,o,r),t!==null&&(ht(t,e,r,n),Ns(t,e,r))}};function Oc(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!ao(n,r)||!ao(o,s):!0}function Gh(e,t,n){var r=!1,o=ln,s=t.contextType;return typeof s=="object"&&s!==null?s=nt(s):(o=Ve(t)?kn:Ie.current,r=t.contextTypes,s=(r=r!=null)?sr(e,o):ln),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Si,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Si.enqueueReplaceState(t,t.state,null)}function oa(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},iu(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=nt(s):(s=Ve(t)?kn:Ie.current,o.context=sr(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ra(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Si.enqueueReplaceState(o,o.state,null),Qs(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ur(e,t){try{var n="",r=t;do n+=Wm(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function fl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function sa(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var xx=typeof WeakMap=="function"?WeakMap:Map;function Kh(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Js||(Js=!0,ga=r),sa(e,t)},n}function Zh(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){sa(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sa(e,t),typeof r!="function"&&(nn===null?nn=new Set([this]):nn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Vc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new xx;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Ix.bind(null,e,t,n),t.then(e,e))}function Bc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Uc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,tn(n,t,1))),n.lanes|=1),e)}var vx=Ft.ReactCurrentOwner,Fe=!1;function $e(e,t,n,r){t.child=e===null?bh(t,null,n,r):lr(t,e.child,n,r)}function Wc(e,t,n,r,o){n=n.render;var s=t.ref;return er(t,o),r=du(e,t,n,r,s,o),n=fu(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,At(e,t,o)):(de&&n&&Ja(t),t.flags|=1,$e(e,t,r,o),t.child)}function Yc(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Su(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,qh(e,t,s,r,o)):(e=Cs(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:ao,n(i,r)&&e.ref===t.ref)return At(e,t,o)}return t.flags|=1,e=on(s,r),e.ref=t.ref,e.return=t,t.child=e}function qh(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(ao(s,r)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(Fe=!0);else return t.lanes=e.lanes,At(e,t,o)}return ia(e,t,n,r,o)}function Jh(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Xn,Ue),Ue|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Xn,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,le(Xn,Ue),Ue|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,le(Xn,Ue),Ue|=r;return $e(e,t,o,n),t.child}function ep(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ia(e,t,n,r,o){var s=Ve(n)?kn:Ie.current;return s=sr(t,s),er(t,o),n=du(e,t,n,r,s,o),r=fu(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,At(e,t,o)):(de&&r&&Ja(t),t.flags|=1,$e(e,t,n,o),t.child)}function Xc(e,t,n,r,o){if(Ve(n)){var s=!0;Bs(t)}else s=!1;if(er(t,o),t.stateNode===null)_s(e,t),Gh(t,n,r),oa(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var a=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=nt(c):(c=Ve(n)?kn:Ie.current,c=sr(t,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||a!==c)&&Hc(t,i,r,c),Wt=!1;var d=t.memoizedState;i.state=d,Qs(t,r,i,o),a=t.memoizedState,l!==r||d!==a||He.current||Wt?(typeof h=="function"&&(ra(t,n,h,r),a=t.memoizedState),(l=Wt||Oc(t,n,l,r,d,a,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),i.props=r,i.state=a,i.context=c,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,jh(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:st(t.type,l),i.props=c,f=t.pendingProps,d=i.context,a=n.contextType,typeof a=="object"&&a!==null?a=nt(a):(a=Ve(n)?kn:Ie.current,a=sr(t,a));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||d!==a)&&Hc(t,i,r,a),Wt=!1,d=t.memoizedState,i.state=d,Qs(t,r,i,o);var x=t.memoizedState;l!==f||d!==x||He.current||Wt?(typeof m=="function"&&(ra(t,n,m,r),x=t.memoizedState),(c=Wt||Oc(t,n,c,r,d,x,a)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,a),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,a)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=a,r=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return la(e,t,n,r,s,o)}function la(e,t,n,r,o,s){ep(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Ic(t,n,!1),At(e,t,s);r=t.stateNode,vx.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=lr(t,e.child,null,s),t.child=lr(t,null,l,s)):$e(e,t,l,s),t.memoizedState=r.state,o&&Ic(t,n,!0),t.child}function tp(e){var t=e.stateNode;t.pendingContext?Tc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tc(e,t.context,!1),lu(e,t.containerInfo)}function Qc(e,t,n,r,o){return ir(),tu(o),t.flags|=256,$e(e,t,n,r),t.child}var aa={dehydrated:null,treeContext:null,retryLane:0};function ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function np(e,t,n){var r=t.pendingProps,o=he.current,s=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),le(he,o&1),e===null)return ta(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Ei(i,r,0,null),e=wn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ua(n),t.memoizedState=aa,e):gu(t,i));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return wx(e,t,i,r,l,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=on(o,a),r.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=on(l,s):(s=wn(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?ua(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=aa,r}return s=e.child,e=s.sibling,r=on(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gu(e,t){return t=Ei({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rs(e,t,n,r){return r!==null&&tu(r),lr(t,e.child,null,n),e=gu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wx(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=fl(Error(H(422))),rs(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Ei({mode:"visible",children:r.children},o,0,null),s=wn(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&lr(t,e.child,null,i),t.child.memoizedState=ua(i),t.memoizedState=aa,s);if(!(t.mode&1))return rs(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(H(419)),r=fl(s,r,void 0),rs(e,t,i,r)}if(l=(i&e.childLanes)!==0,Fe||l){if(r=_e,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Dt(e,o),ht(r,e,o,-1))}return Nu(),r=fl(Error(H(421))),rs(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=$x.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,Ye=en(o.nextSibling),Xe=t,de=!0,at=null,e!==null&&(qe[Je++]=Pt,qe[Je++]=Tt,qe[Je++]=_n,Pt=e.id,Tt=e.overflow,_n=t),t=gu(t,r.children),t.flags|=4096,t)}function Gc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),na(e.return,t,n)}function hl(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function rp(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if($e(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gc(e,n,t);else if(e.tag===19)Gc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(he,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Gs(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),hl(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Gs(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}hl(t,!0,n,null,s);break;case"together":hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _s(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nx(e,t,n){switch(t.tag){case 3:tp(t),ir();break;case 5:Mh(t);break;case 1:Ve(t.type)&&Bs(t);break;case 4:lu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;le(Ys,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?np(e,t,n):(le(he,he.current&1),e=At(e,t,n),e!==null?e.sibling:null);le(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),le(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,Jh(e,t,n)}return At(e,t,n)}var op,ca,sp,ip;op=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ca=function(){};sp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,yn(Nt.current);var s=null;switch(n){case"input":o=Il(e,o),r=Il(e,r),s=[];break;case"select":o=ge({},o,{value:void 0}),r=ge({},r,{value:void 0}),s=[];break;case"textarea":o=Ll(e,o),r=Ll(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Hs)}Al(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var l=o[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(to.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var a=r[c];if(l=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(i in l)!l.hasOwnProperty(i)||a&&a.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in a)a.hasOwnProperty(i)&&l[i]!==a[i]&&(n||(n={}),n[i]=a[i])}else n||(s||(s=[]),s.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(to.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ue("scroll",e),s||l===a||(s=[])):(s=s||[]).push(c,a))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};ip=function(e,t,n,r){n!==r&&(t.flags|=4)};function zr(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Sx(e,t,n){var r=t.pendingProps;switch(eu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Ve(t.type)&&Vs(),Pe(t),null;case 3:return r=t.stateNode,ar(),ce(He),ce(Ie),uu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ts(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(xa(at),at=null))),ca(e,t),Pe(t),null;case 5:au(t);var o=yn(po.current);if(n=t.type,e!==null&&t.stateNode!=null)sp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(H(166));return Pe(t),null}if(e=yn(Nt.current),ts(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[vt]=t,r[fo]=s,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(o=0;o<Hr.length;o++)ue(Hr[o],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":oc(r,s),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ue("invalid",r);break;case"textarea":ic(r,s),ue("invalid",r)}Al(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&es(r.textContent,l,e),o=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&es(r.textContent,l,e),o=["children",""+l]):to.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ue("scroll",r)}switch(n){case"input":Yo(r),sc(r,s,!0);break;case"textarea":Yo(r),lc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hs)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=zf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[vt]=t,e[fo]=r,op(e,t,!1,!1),t.stateNode=e;e:{switch(i=Rl(n,r),n){case"dialog":ue("cancel",e),ue("close",e),o=r;break;case"iframe":case"object":case"embed":ue("load",e),o=r;break;case"video":case"audio":for(o=0;o<Hr.length;o++)ue(Hr[o],e);o=r;break;case"source":ue("error",e),o=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=r;break;case"details":ue("toggle",e),o=r;break;case"input":oc(e,r),o=Il(e,r),ue("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ge({},r,{value:void 0}),ue("invalid",e);break;case"textarea":ic(e,r),o=Ll(e,r),ue("invalid",e);break;default:o=r}Al(n,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Af(e,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Lf(e,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&no(e,a):typeof a=="number"&&no(e,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(to.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ue("scroll",e):a!=null&&Fa(e,s,a,i))}switch(n){case"input":Yo(e),sc(e,r,!1);break;case"textarea":Yo(e),lc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+sn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Kn(e,!!r.multiple,s,!1):r.defaultValue!=null&&Kn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Hs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pe(t),null;case 6:if(e&&t.stateNode!=null)ip(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(H(166));if(n=yn(po.current),yn(Nt.current),ts(t)){if(r=t.stateNode,n=t.memoizedProps,r[vt]=t,(s=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:es(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&es(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vt]=t,t.stateNode=r}return Pe(t),null;case 13:if(ce(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&Ye!==null&&t.mode&1&&!(t.flags&128))_h(),ir(),t.flags|=98560,s=!1;else if(s=ts(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(H(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[vt]=t}else ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pe(t),s=!1}else at!==null&&(xa(at),at=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Se===0&&(Se=3):Nu())),t.updateQueue!==null&&(t.flags|=4),Pe(t),null);case 4:return ar(),ca(e,t),e===null&&uo(t.stateNode.containerInfo),Pe(t),null;case 10:return ou(t.type._context),Pe(t),null;case 17:return Ve(t.type)&&Vs(),Pe(t),null;case 19:if(ce(he),s=t.memoizedState,s===null)return Pe(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)zr(s,!1);else{if(Se!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gs(e),i!==null){for(t.flags|=128,zr(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(he,he.current&1|2),t.child}e=e.sibling}s.tail!==null&&xe()>cr&&(t.flags|=128,r=!0,zr(s,!1),t.lanes=4194304)}else{if(!r)if(e=Gs(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!de)return Pe(t),null}else 2*xe()-s.renderingStartTime>cr&&n!==1073741824&&(t.flags|=128,r=!0,zr(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xe(),t.sibling=null,n=he.current,le(he,r?n&1|2:n&1),t):(Pe(t),null);case 22:case 23:return wu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ue&1073741824&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function kx(e,t){switch(eu(t),t.tag){case 1:return Ve(t.type)&&Vs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ar(),ce(He),ce(Ie),uu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return au(t),null;case 13:if(ce(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(he),null;case 4:return ar(),null;case 10:return ou(t.type._context),null;case 22:case 23:return wu(),null;case 24:return null;default:return null}}var os=!1,Te=!1,_x=typeof WeakSet=="function"?WeakSet:Set,W=null;function Yn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function da(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Kc=!1;function Ex(e,t){if(Ql=Rs,e=dh(),qa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,l=-1,a=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(l=i+o),f!==s||r!==0&&f.nodeType!==3||(a=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++c===o&&(l=i),d===s&&++h===r&&(a=i),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gl={focusedElem:e,selectionRange:n},Rs=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,N=x.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:st(t.type,v),N);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){ye(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return x=Kc,Kc=!1,x}function Kr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&da(t,n,s)}o=o.next}while(o!==r)}}function ki(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fa(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function lp(e){var t=e.alternate;t!==null&&(e.alternate=null,lp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[fo],delete t[ql],delete t[lx],delete t[ax])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ap(e){return e.tag===5||e.tag===3||e.tag===4}function Zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ha(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Hs));else if(r!==4&&(e=e.child,e!==null))for(ha(e,t,n),e=e.sibling;e!==null;)ha(e,t,n),e=e.sibling}function pa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pa(e,t,n),e=e.sibling;e!==null;)pa(e,t,n),e=e.sibling}var be=null,it=!1;function Ht(e,t,n){for(n=n.child;n!==null;)up(e,t,n),n=n.sibling}function up(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(gi,n)}catch{}switch(n.tag){case 5:Te||Yn(n,t);case 6:var r=be,o=it;be=null,Ht(e,t,n),be=r,it=o,be!==null&&(it?(e=be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):be.removeChild(n.stateNode));break;case 18:be!==null&&(it?(e=be,n=n.stateNode,e.nodeType===8?il(e.parentNode,n):e.nodeType===1&&il(e,n),io(e)):il(be,n.stateNode));break;case 4:r=be,o=it,be=n.stateNode.containerInfo,it=!0,Ht(e,t,n),be=r,it=o;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&da(n,t,i),o=o.next}while(o!==r)}Ht(e,t,n);break;case 1:if(!Te&&(Yn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ye(n,t,l)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,Ht(e,t,n),Te=r):Ht(e,t,n);break;default:Ht(e,t,n)}}function qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new _x),t.forEach(function(r){var o=zx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:be=l.stateNode,it=!1;break e;case 3:be=l.stateNode.containerInfo,it=!0;break e;case 4:be=l.stateNode.containerInfo,it=!0;break e}l=l.return}if(be===null)throw Error(H(160));up(s,i,o),be=null,it=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(c){ye(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cp(t,e),t=t.sibling}function cp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),mt(e),r&4){try{Kr(3,e,e.return),ki(3,e)}catch(v){ye(e,e.return,v)}try{Kr(5,e,e.return)}catch(v){ye(e,e.return,v)}}break;case 1:ot(t,e),mt(e),r&512&&n!==null&&Yn(n,n.return);break;case 5:if(ot(t,e),mt(e),r&512&&n!==null&&Yn(n,n.return),e.flags&32){var o=e.stateNode;try{no(o,"")}catch(v){ye(e,e.return,v)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&If(o,s),Rl(l,i);var c=Rl(l,s);for(i=0;i<a.length;i+=2){var h=a[i],f=a[i+1];h==="style"?Af(o,f):h==="dangerouslySetInnerHTML"?Lf(o,f):h==="children"?no(o,f):Fa(o,h,f,c)}switch(l){case"input":$l(o,s);break;case"textarea":$f(o,s);break;case"select":var d=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Kn(o,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?Kn(o,!!s.multiple,s.defaultValue,!0):Kn(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(v){ye(e,e.return,v)}}break;case 6:if(ot(t,e),mt(e),r&4){if(e.stateNode===null)throw Error(H(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(v){ye(e,e.return,v)}}break;case 3:if(ot(t,e),mt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{io(t.containerInfo)}catch(v){ye(e,e.return,v)}break;case 4:ot(t,e),mt(e);break;case 13:ot(t,e),mt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(xu=xe())),r&4&&qc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(c=Te)||h,ot(t,e),Te=c):ot(t,e),mt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!h&&e.mode&1)for(W=e,h=e.child;h!==null;){for(f=W=h;W!==null;){switch(d=W,m=d.child,d.tag){case 0:case 11:case 14:case 15:Kr(4,d,d.return);break;case 1:Yn(d,d.return);var x=d.stateNode;if(typeof x.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){ye(r,n,v)}}break;case 5:Yn(d,d.return);break;case 22:if(d.memoizedState!==null){ed(f);continue}}m!==null?(m.return=d,W=m):ed(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{o=f.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,a=f.memoizedProps.style,i=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Df("display",i))}catch(v){ye(e,e.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){ye(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ot(t,e),mt(e),r&4&&qc(e);break;case 21:break;default:ot(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ap(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(no(o,""),r.flags&=-33);var s=Zc(e);pa(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Zc(e);ha(e,l,i);break;default:throw Error(H(161))}}catch(a){ye(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bx(e,t,n){W=e,dp(e)}function dp(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var o=W,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||os;if(!i){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Te;l=os;var c=Te;if(os=i,(Te=a)&&!c)for(W=o;W!==null;)i=W,a=i.child,i.tag===22&&i.memoizedState!==null?td(o):a!==null?(a.return=i,W=a):td(o);for(;s!==null;)W=s,dp(s),s=s.sibling;W=o,os=l,Te=c}Jc(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,W=s):Jc(e)}}function Jc(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||ki(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Te)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:st(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Ac(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ac(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&io(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Te||t.flags&512&&fa(t)}catch(d){ye(t,t.return,d)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function ed(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function td(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ki(4,t)}catch(a){ye(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){ye(t,o,a)}}var s=t.return;try{fa(t)}catch(a){ye(t,s,a)}break;case 5:var i=t.return;try{fa(t)}catch(a){ye(t,i,a)}}}catch(a){ye(t,t.return,a)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Cx=Math.ceil,qs=Ft.ReactCurrentDispatcher,mu=Ft.ReactCurrentOwner,tt=Ft.ReactCurrentBatchConfig,oe=0,_e=null,ve=null,Ce=0,Ue=0,Xn=un(0),Se=0,xo=null,bn=0,_i=0,yu=0,Zr=null,Re=null,xu=0,cr=1/0,jt=null,Js=!1,ga=null,nn=null,ss=!1,Kt=null,ei=0,qr=0,ma=null,Es=-1,bs=0;function ze(){return oe&6?xe():Es!==-1?Es:Es=xe()}function rn(e){return e.mode&1?oe&2&&Ce!==0?Ce&-Ce:cx.transition!==null?(bs===0&&(bs=Gf()),bs):(e=ie,e!==0||(e=window.event,e=e===void 0?16:nh(e.type)),e):1}function ht(e,t,n,r){if(50<qr)throw qr=0,ma=null,Error(H(185));Po(e,n,r),(!(oe&2)||e!==_e)&&(e===_e&&(!(oe&2)&&(_i|=n),Se===4&&Xt(e,Ce)),Be(e,r),n===1&&oe===0&&!(t.mode&1)&&(cr=xe()+500,wi&&cn()))}function Be(e,t){var n=e.callbackNode;cy(e,t);var r=As(e,e===_e?Ce:0);if(r===0)n!==null&&cc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cc(n),t===1)e.tag===0?ux(nd.bind(null,e)):Nh(nd.bind(null,e)),sx(function(){!(oe&6)&&cn()}),n=null;else{switch(Kf(r)){case 1:n=Ua;break;case 4:n=Xf;break;case 16:n=Ds;break;case 536870912:n=Qf;break;default:n=Ds}n=vp(n,fp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fp(e,t){if(Es=-1,bs=0,oe&6)throw Error(H(327));var n=e.callbackNode;if(tr()&&e.callbackNode!==n)return null;var r=As(e,e===_e?Ce:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ti(e,r);else{t=r;var o=oe;oe|=2;var s=pp();(_e!==e||Ce!==t)&&(jt=null,cr=xe()+500,vn(e,t));do try{Px();break}catch(l){hp(e,l)}while(!0);ru(),qs.current=s,oe=o,ve!==null?t=0:(_e=null,Ce=0,t=Se)}if(t!==0){if(t===2&&(o=Bl(e),o!==0&&(r=o,t=ya(e,o))),t===1)throw n=xo,vn(e,0),Xt(e,r),Be(e,xe()),n;if(t===6)Xt(e,r);else{if(o=e.current.alternate,!(r&30)&&!jx(o)&&(t=ti(e,r),t===2&&(s=Bl(e),s!==0&&(r=s,t=ya(e,s))),t===1))throw n=xo,vn(e,0),Xt(e,r),Be(e,xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(H(345));case 2:hn(e,Re,jt);break;case 3:if(Xt(e,r),(r&130023424)===r&&(t=xu+500-xe(),10<t)){if(As(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){ze(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Zl(hn.bind(null,e,Re,jt),t);break}hn(e,Re,jt);break;case 4:if(Xt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-ft(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cx(r/1960))-r,10<r){e.timeoutHandle=Zl(hn.bind(null,e,Re,jt),r);break}hn(e,Re,jt);break;case 5:hn(e,Re,jt);break;default:throw Error(H(329))}}}return Be(e,xe()),e.callbackNode===n?fp.bind(null,e):null}function ya(e,t){var n=Zr;return e.current.memoizedState.isDehydrated&&(vn(e,t).flags|=256),e=ti(e,t),e!==2&&(t=Re,Re=n,t!==null&&xa(t)),e}function xa(e){Re===null?Re=e:Re.push.apply(Re,e)}function jx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!pt(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~yu,t&=~_i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function nd(e){if(oe&6)throw Error(H(327));tr();var t=As(e,0);if(!(t&1))return Be(e,xe()),null;var n=ti(e,t);if(e.tag!==0&&n===2){var r=Bl(e);r!==0&&(t=r,n=ya(e,r))}if(n===1)throw n=xo,vn(e,0),Xt(e,t),Be(e,xe()),n;if(n===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hn(e,Re,jt),Be(e,xe()),null}function vu(e,t){var n=oe;oe|=1;try{return e(t)}finally{oe=n,oe===0&&(cr=xe()+500,wi&&cn())}}function Cn(e){Kt!==null&&Kt.tag===0&&!(oe&6)&&tr();var t=oe;oe|=1;var n=tt.transition,r=ie;try{if(tt.transition=null,ie=1,e)return e()}finally{ie=r,tt.transition=n,oe=t,!(oe&6)&&cn()}}function wu(){Ue=Xn.current,ce(Xn)}function vn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ox(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(eu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vs();break;case 3:ar(),ce(He),ce(Ie),uu();break;case 5:au(r);break;case 4:ar();break;case 13:ce(he);break;case 19:ce(he);break;case 10:ou(r.type._context);break;case 22:case 23:wu()}n=n.return}if(_e=e,ve=e=on(e.current,null),Ce=Ue=t,Se=0,xo=null,yu=_i=bn=0,Re=Zr=null,mn!==null){for(t=0;t<mn.length;t++)if(n=mn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}mn=null}return e}function hp(e,t){do{var n=ve;try{if(ru(),Ss.current=Zs,Ks){for(var r=pe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ks=!1}if(En=0,ke=Ne=pe=null,Gr=!1,go=0,mu.current=null,n===null||n.return===null){Se=1,xo=t,ve=null;break}e:{var s=e,i=n.return,l=n,a=t;if(t=Ce,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Bc(i);if(m!==null){m.flags&=-257,Uc(m,i,l,s,t),m.mode&1&&Vc(s,c,t),t=m,a=c;var x=t.updateQueue;if(x===null){var v=new Set;v.add(a),t.updateQueue=v}else x.add(a);break e}else{if(!(t&1)){Vc(s,c,t),Nu();break e}a=Error(H(426))}}else if(de&&l.mode&1){var N=Bc(i);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Uc(N,i,l,s,t),tu(ur(a,l));break e}}s=a=ur(a,l),Se!==4&&(Se=2),Zr===null?Zr=[s]:Zr.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Kh(s,a,t);Dc(s,g);break e;case 1:l=a;var y=s.type,p=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(nn===null||!nn.has(p)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=Zh(s,l,t);Dc(s,w);break e}}s=s.return}while(s!==null)}mp(n)}catch(S){t=S,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function pp(){var e=qs.current;return qs.current=Zs,e===null?Zs:e}function Nu(){(Se===0||Se===3||Se===2)&&(Se=4),_e===null||!(bn&268435455)&&!(_i&268435455)||Xt(_e,Ce)}function ti(e,t){var n=oe;oe|=2;var r=pp();(_e!==e||Ce!==t)&&(jt=null,vn(e,t));do try{Mx();break}catch(o){hp(e,o)}while(!0);if(ru(),oe=n,qs.current=r,ve!==null)throw Error(H(261));return _e=null,Ce=0,Se}function Mx(){for(;ve!==null;)gp(ve)}function Px(){for(;ve!==null&&!ty();)gp(ve)}function gp(e){var t=xp(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?mp(e):ve=t,mu.current=null}function mp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=kx(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Se=6,ve=null;return}}else if(n=Sx(n,t,Ue),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Se===0&&(Se=5)}function hn(e,t,n){var r=ie,o=tt.transition;try{tt.transition=null,ie=1,Tx(e,t,n,r)}finally{tt.transition=o,ie=r}return null}function Tx(e,t,n,r){do tr();while(Kt!==null);if(oe&6)throw Error(H(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(dy(e,s),e===_e&&(ve=_e=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ss||(ss=!0,vp(Ds,function(){return tr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tt.transition,tt.transition=null;var i=ie;ie=1;var l=oe;oe|=4,mu.current=null,Ex(e,n),cp(n,e),Zy(Gl),Rs=!!Ql,Gl=Ql=null,e.current=n,bx(n),ny(),oe=l,ie=i,tt.transition=s}else e.current=n;if(ss&&(ss=!1,Kt=e,ei=o),s=e.pendingLanes,s===0&&(nn=null),sy(n.stateNode),Be(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Js)throw Js=!1,e=ga,ga=null,e;return ei&1&&e.tag!==0&&tr(),s=e.pendingLanes,s&1?e===ma?qr++:(qr=0,ma=e):qr=0,cn(),null}function tr(){if(Kt!==null){var e=Kf(ei),t=tt.transition,n=ie;try{if(tt.transition=null,ie=16>e?16:e,Kt===null)var r=!1;else{if(e=Kt,Kt=null,ei=0,oe&6)throw Error(H(331));var o=oe;for(oe|=4,W=e.current;W!==null;){var s=W,i=s.child;if(W.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(W=c;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:Kr(8,h,s)}var f=h.child;if(f!==null)f.return=h,W=f;else for(;W!==null;){h=W;var d=h.sibling,m=h.return;if(lp(h),h===c){W=null;break}if(d!==null){d.return=m,W=d;break}W=m}}}var x=s.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}W=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,W=i;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kr(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,W=g;break e}W=s.return}}var y=e.current;for(W=y;W!==null;){i=W;var p=i.child;if(i.subtreeFlags&2064&&p!==null)p.return=i,W=p;else e:for(i=y;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ki(9,l)}}catch(S){ye(l,l.return,S)}if(l===i){W=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,W=w;break e}W=l.return}}if(oe=o,cn(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(gi,e)}catch{}r=!0}return r}finally{ie=n,tt.transition=t}}return!1}function rd(e,t,n){t=ur(n,t),t=Kh(e,t,1),e=tn(e,t,1),t=ze(),e!==null&&(Po(e,1,t),Be(e,t))}function ye(e,t,n){if(e.tag===3)rd(e,e,n);else for(;t!==null;){if(t.tag===3){rd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nn===null||!nn.has(r))){e=ur(n,e),e=Zh(t,e,1),t=tn(t,e,1),e=ze(),t!==null&&(Po(t,1,e),Be(t,e));break}}t=t.return}}function Ix(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ze(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Ce&n)===n&&(Se===4||Se===3&&(Ce&130023424)===Ce&&500>xe()-xu?vn(e,0):yu|=n),Be(e,t)}function yp(e,t){t===0&&(e.mode&1?(t=Go,Go<<=1,!(Go&130023424)&&(Go=4194304)):t=1);var n=ze();e=Dt(e,t),e!==null&&(Po(e,t,n),Be(e,n))}function $x(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),yp(e,n)}function zx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(t),yp(e,n)}var xp;xp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)Fe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fe=!1,Nx(e,t,n);Fe=!!(e.flags&131072)}else Fe=!1,de&&t.flags&1048576&&Sh(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_s(e,t),e=t.pendingProps;var o=sr(t,Ie.current);er(t,n),o=du(null,t,r,e,o,n);var s=fu();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(r)?(s=!0,Bs(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,iu(t),o.updater=Si,t.stateNode=o,o._reactInternals=t,oa(t,r,e,n),t=la(null,t,r,!0,s,n)):(t.tag=0,de&&s&&Ja(t),$e(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_s(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Dx(r),e=st(r,e),o){case 0:t=ia(null,t,r,e,n);break e;case 1:t=Xc(null,t,r,e,n);break e;case 11:t=Wc(null,t,r,e,n);break e;case 14:t=Yc(null,t,r,st(r.type,e),n);break e}throw Error(H(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),ia(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),Xc(e,t,r,o,n);case 3:e:{if(tp(t),e===null)throw Error(H(387));r=t.pendingProps,s=t.memoizedState,o=s.element,jh(e,t),Qs(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=ur(Error(H(423)),t),t=Qc(e,t,r,n,o);break e}else if(r!==o){o=ur(Error(H(424)),t),t=Qc(e,t,r,n,o);break e}else for(Ye=en(t.stateNode.containerInfo.firstChild),Xe=t,de=!0,at=null,n=bh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ir(),r===o){t=At(e,t,n);break e}$e(e,t,r,n)}t=t.child}return t;case 5:return Mh(t),e===null&&ta(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,Kl(r,o)?i=null:s!==null&&Kl(r,s)&&(t.flags|=32),ep(e,t),$e(e,t,i,n),t.child;case 6:return e===null&&ta(t),null;case 13:return np(e,t,n);case 4:return lu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=lr(t,null,r,n):$e(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),Wc(e,t,r,o,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,le(Ys,r._currentValue),r._currentValue=i,s!==null)if(pt(s.value,i)){if(s.children===o.children&&!He.current){t=At(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){i=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=$t(-1,n&-n),a.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?a.next=a:(a.next=h.next,h.next=a),c.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),na(s.return,n,t),l.lanes|=n;break}a=a.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(H(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),na(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}$e(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,er(t,n),o=nt(o),r=r(o),t.flags|=1,$e(e,t,r,n),t.child;case 14:return r=t.type,o=st(r,t.pendingProps),o=st(r.type,o),Yc(e,t,r,o,n);case 15:return qh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:st(r,o),_s(e,t),t.tag=1,Ve(r)?(e=!0,Bs(t)):e=!1,er(t,n),Gh(t,r,o),oa(t,r,o,n),la(null,t,r,!0,e,n);case 19:return rp(e,t,n);case 22:return Jh(e,t,n)}throw Error(H(156,t.tag))};function vp(e,t){return Yf(e,t)}function Lx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(e,t,n,r){return new Lx(e,t,n,r)}function Su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dx(e){if(typeof e=="function")return Su(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ha)return 11;if(e===Va)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cs(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Su(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case An:return wn(n.children,o,s,t);case Oa:i=8,o|=8;break;case jl:return e=et(12,n,t,o|2),e.elementType=jl,e.lanes=s,e;case Ml:return e=et(13,n,t,o),e.elementType=Ml,e.lanes=s,e;case Pl:return e=et(19,n,t,o),e.elementType=Pl,e.lanes=s,e;case Mf:return Ei(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Cf:i=10;break e;case jf:i=9;break e;case Ha:i=11;break e;case Va:i=14;break e;case Ut:i=16,r=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=et(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function wn(e,t,n,r){return e=et(7,e,r,t),e.lanes=n,e}function Ei(e,t,n,r){return e=et(22,e,r,t),e.elementType=Mf,e.lanes=n,e.stateNode={isHidden:!1},e}function pl(e,t,n){return e=et(6,e,null,t),e.lanes=n,e}function gl(e,t,n){return t=et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ax(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gi(0),this.expirationTimes=Gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ku(e,t,n,r,o,s,i,l,a){return e=new Ax(e,t,n,l,a),t===1?(t=1,s===!0&&(t|=8)):t=0,s=et(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},iu(s),e}function Rx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wp(e){if(!e)return ln;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var n=e.type;if(Ve(n))return wh(e,n,t)}return t}function Np(e,t,n,r,o,s,i,l,a){return e=ku(n,r,!0,e,o,s,i,l,a),e.context=wp(null),n=e.current,r=ze(),o=rn(n),s=$t(r,o),s.callback=t??null,tn(n,s,o),e.current.lanes=o,Po(e,o,r),Be(e,r),e}function bi(e,t,n,r){var o=t.current,s=ze(),i=rn(o);return n=wp(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=tn(o,t,i),e!==null&&(ht(e,o,i,s),Ns(e,o,i)),i}function ni(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _u(e,t){od(e,t),(e=e.alternate)&&od(e,t)}function Fx(){return null}var Sp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eu(e){this._internalRoot=e}Ci.prototype.render=Eu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));bi(e,t,null,null)};Ci.prototype.unmount=Eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){bi(null,e,null,null)}),t[Lt]=null}};function Ci(e){this._internalRoot=e}Ci.prototype.unstable_scheduleHydration=function(e){if(e){var t=Jf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&th(e)}};function bu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sd(){}function Ox(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=ni(i);s.call(c)}}var i=Np(t,r,e,0,null,!1,!1,"",sd);return e._reactRootContainer=i,e[Lt]=i.current,uo(e.nodeType===8?e.parentNode:e),Cn(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var l=r;r=function(){var c=ni(a);l.call(c)}}var a=ku(e,0,!1,null,null,!1,!1,"",sd);return e._reactRootContainer=a,e[Lt]=a.current,uo(e.nodeType===8?e.parentNode:e),Cn(function(){bi(t,a,n,r)}),a}function Mi(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var l=o;o=function(){var a=ni(i);l.call(a)}}bi(t,i,e,o)}else i=Ox(n,t,e,o,r);return ni(i)}Zf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Or(t.pendingLanes);n!==0&&(Wa(t,n|1),Be(t,xe()),!(oe&6)&&(cr=xe()+500,cn()))}break;case 13:Cn(function(){var r=Dt(e,1);if(r!==null){var o=ze();ht(r,e,1,o)}}),_u(e,1)}};Ya=function(e){if(e.tag===13){var t=Dt(e,134217728);if(t!==null){var n=ze();ht(t,e,134217728,n)}_u(e,134217728)}};qf=function(e){if(e.tag===13){var t=rn(e),n=Dt(e,t);if(n!==null){var r=ze();ht(n,e,t,r)}_u(e,t)}};Jf=function(){return ie};eh=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};Ol=function(e,t,n){switch(t){case"input":if($l(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=vi(r);if(!o)throw Error(H(90));Tf(r),$l(r,o)}}}break;case"textarea":$f(e,n);break;case"select":t=n.value,t!=null&&Kn(e,!!n.multiple,t,!1)}};Of=vu;Hf=Cn;var Hx={usingClientEntryPoint:!1,Events:[Io,Hn,vi,Rf,Ff,vu]},Lr={findFiberByHostInstance:gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vx={bundleType:Lr.bundleType,version:Lr.version,rendererPackageName:Lr.rendererPackageName,rendererConfig:Lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uf(e),e===null?null:e.stateNode},findFiberByHostInstance:Lr.findFiberByHostInstance||Fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!is.isDisabled&&is.supportsFiber)try{gi=is.inject(Vx),wt=is}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hx;Ke.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(t))throw Error(H(200));return Rx(e,t,null,n)};Ke.createRoot=function(e,t){if(!bu(e))throw Error(H(299));var n=!1,r="",o=Sp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ku(e,1,!1,null,null,n,!1,r,o),e[Lt]=t.current,uo(e.nodeType===8?e.parentNode:e),new Eu(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=Uf(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return Cn(e)};Ke.hydrate=function(e,t,n){if(!ji(t))throw Error(H(200));return Mi(null,e,t,!0,n)};Ke.hydrateRoot=function(e,t,n){if(!bu(e))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=Sp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Np(t,null,e,1,n??null,o,!1,s,i),e[Lt]=t.current,uo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ci(t)};Ke.render=function(e,t,n){if(!ji(t))throw Error(H(200));return Mi(null,e,t,!1,n)};Ke.unmountComponentAtNode=function(e){if(!ji(e))throw Error(H(40));return e._reactRootContainer?(Cn(function(){Mi(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1};Ke.unstable_batchedUpdates=vu;Ke.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ji(n))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return Mi(e,t,n,!1,r)};Ke.version="18.3.1-next-f1338f8080-20240426";function kp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kp)}catch(e){console.error(e)}}kp(),kf.exports=Ke;var _p=kf.exports,id=_p;bl.createRoot=id.createRoot,bl.hydrateRoot=id.hydrateRoot;function we(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=we(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Bx={value:()=>{}};function Pi(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new js(n)}function js(e){this._=e}function Ux(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}js.prototype=Pi.prototype={constructor:js,on:function(e,t){var n=this._,r=Ux(e+"",n),o,s=-1,i=r.length;if(arguments.length<2){for(;++s<i;)if((o=(e=r[s]).type)&&(o=Wx(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(o=(e=r[s]).type)n[o]=ld(n[o],e.name,t);else if(t==null)for(o in n)n[o]=ld(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new js(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function Wx(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function ld(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Bx,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var va="http://www.w3.org/1999/xhtml";const ad={svg:"http://www.w3.org/2000/svg",xhtml:va,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ti(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ad.hasOwnProperty(t)?{space:ad[t],local:e}:e}function Yx(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===va&&t.documentElement.namespaceURI===va?t.createElement(e):t.createElementNS(n,e)}}function Xx(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ep(e){var t=Ti(e);return(t.local?Xx:Yx)(t)}function Qx(){}function Cu(e){return e==null?Qx:function(){return this.querySelector(e)}}function Gx(e){typeof e!="function"&&(e=Cu(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=new Array(i),a,c,h=0;h<i;++h)(a=s[h])&&(c=e.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c);return new Ge(r,this._parents)}function Kx(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Zx(){return[]}function bp(e){return e==null?Zx:function(){return this.querySelectorAll(e)}}function qx(e){return function(){return Kx(e.apply(this,arguments))}}function Jx(e){typeof e=="function"?e=qx(e):e=bp(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var i=t[s],l=i.length,a,c=0;c<l;++c)(a=i[c])&&(r.push(e.call(a,a.__data__,c,i)),o.push(a));return new Ge(r,o)}function Cp(e){return function(){return this.matches(e)}}function jp(e){return function(t){return t.matches(e)}}var ev=Array.prototype.find;function tv(e){return function(){return ev.call(this.children,e)}}function nv(){return this.firstElementChild}function rv(e){return this.select(e==null?nv:tv(typeof e=="function"?e:jp(e)))}var ov=Array.prototype.filter;function sv(){return Array.from(this.children)}function iv(e){return function(){return ov.call(this.children,e)}}function lv(e){return this.selectAll(e==null?sv:iv(typeof e=="function"?e:jp(e)))}function av(e){typeof e!="function"&&(e=Cp(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=[],a,c=0;c<i;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new Ge(r,this._parents)}function Mp(e){return new Array(e.length)}function uv(){return new Ge(this._enter||this._groups.map(Mp),this._parents)}function ri(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ri.prototype={constructor:ri,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function cv(e){return function(){return e}}function dv(e,t,n,r,o,s){for(var i=0,l,a=t.length,c=s.length;i<c;++i)(l=t[i])?(l.__data__=s[i],r[i]=l):n[i]=new ri(e,s[i]);for(;i<a;++i)(l=t[i])&&(o[i]=l)}function fv(e,t,n,r,o,s,i){var l,a,c=new Map,h=t.length,f=s.length,d=new Array(h),m;for(l=0;l<h;++l)(a=t[l])&&(d[l]=m=i.call(a,a.__data__,l,t)+"",c.has(m)?o[l]=a:c.set(m,a));for(l=0;l<f;++l)m=i.call(e,s[l],l,s)+"",(a=c.get(m))?(r[l]=a,a.__data__=s[l],c.delete(m)):n[l]=new ri(e,s[l]);for(l=0;l<h;++l)(a=t[l])&&c.get(d[l])===a&&(o[l]=a)}function hv(e){return e.__data__}function pv(e,t){if(!arguments.length)return Array.from(this,hv);var n=t?fv:dv,r=this._parents,o=this._groups;typeof e!="function"&&(e=cv(e));for(var s=o.length,i=new Array(s),l=new Array(s),a=new Array(s),c=0;c<s;++c){var h=r[c],f=o[c],d=f.length,m=gv(e.call(h,h&&h.__data__,c,r)),x=m.length,v=l[c]=new Array(x),N=i[c]=new Array(x),g=a[c]=new Array(d);n(h,f,v,N,g,m,t);for(var y=0,p=0,w,S;y<x;++y)if(w=v[y]){for(y>=p&&(p=y+1);!(S=N[p])&&++p<x;);w._next=S||null}}return i=new Ge(i,r),i._enter=l,i._exit=a,i}function gv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mv(){return new Ge(this._exit||this._groups.map(Mp),this._parents)}function yv(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function xv(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,i=Math.min(o,s),l=new Array(o),a=0;a<i;++a)for(var c=n[a],h=r[a],f=c.length,d=l[a]=new Array(f),m,x=0;x<f;++x)(m=c[x]||h[x])&&(d[x]=m);for(;a<o;++a)l[a]=n[a];return new Ge(l,this._parents)}function vv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],i;--o>=0;)(i=r[o])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function wv(e){e||(e=Nv);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var i=n[s],l=i.length,a=o[s]=new Array(l),c,h=0;h<l;++h)(c=i[h])&&(a[h]=c);a.sort(t)}return new Ge(o,this._parents).order()}function Nv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Sv(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function kv(){return Array.from(this)}function _v(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var i=r[o];if(i)return i}return null}function Ev(){let e=0;for(const t of this)++e;return e}function bv(){return!this.node()}function Cv(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,i=o.length,l;s<i;++s)(l=o[s])&&e.call(l,l.__data__,s,o);return this}function jv(e){return function(){this.removeAttribute(e)}}function Mv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pv(e,t){return function(){this.setAttribute(e,t)}}function Tv(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Iv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function $v(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function zv(e,t){var n=Ti(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Mv:jv:typeof t=="function"?n.local?$v:Iv:n.local?Tv:Pv)(n,t))}function Pp(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Lv(e){return function(){this.style.removeProperty(e)}}function Dv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Av(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Rv(e,t,n){return arguments.length>1?this.each((t==null?Lv:typeof t=="function"?Av:Dv)(e,t,n??"")):dr(this.node(),e)}function dr(e,t){return e.style.getPropertyValue(t)||Pp(e).getComputedStyle(e,null).getPropertyValue(t)}function Fv(e){return function(){delete this[e]}}function Ov(e,t){return function(){this[e]=t}}function Hv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Vv(e,t){return arguments.length>1?this.each((t==null?Fv:typeof t=="function"?Hv:Ov)(e,t)):this.node()[e]}function Tp(e){return e.trim().split(/^|\s+/)}function ju(e){return e.classList||new Ip(e)}function Ip(e){this._node=e,this._names=Tp(e.getAttribute("class")||"")}Ip.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $p(e,t){for(var n=ju(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function zp(e,t){for(var n=ju(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Bv(e){return function(){$p(this,e)}}function Uv(e){return function(){zp(this,e)}}function Wv(e,t){return function(){(t.apply(this,arguments)?$p:zp)(this,e)}}function Yv(e,t){var n=Tp(e+"");if(arguments.length<2){for(var r=ju(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Wv:t?Bv:Uv)(n,t))}function Xv(){this.textContent=""}function Qv(e){return function(){this.textContent=e}}function Gv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Kv(e){return arguments.length?this.each(e==null?Xv:(typeof e=="function"?Gv:Qv)(e)):this.node().textContent}function Zv(){this.innerHTML=""}function qv(e){return function(){this.innerHTML=e}}function Jv(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ew(e){return arguments.length?this.each(e==null?Zv:(typeof e=="function"?Jv:qv)(e)):this.node().innerHTML}function tw(){this.nextSibling&&this.parentNode.appendChild(this)}function nw(){return this.each(tw)}function rw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ow(){return this.each(rw)}function sw(e){var t=typeof e=="function"?e:Ep(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function iw(){return null}function lw(e,t){var n=typeof e=="function"?e:Ep(e),r=t==null?iw:typeof t=="function"?t:Cu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function aw(){var e=this.parentNode;e&&e.removeChild(this)}function uw(){return this.each(aw)}function cw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fw(e){return this.select(e?dw:cw)}function hw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function pw(e){return function(t){e.call(this,t,this.__data__)}}function gw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function mw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function yw(e,t,n){return function(){var r=this.__on,o,s=pw(t);if(r){for(var i=0,l=r.length;i<l;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function xw(e,t,n){var r=gw(e+""),o,s=r.length,i;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,c=l.length,h;a<c;++a)for(o=0,h=l[a];o<s;++o)if((i=r[o]).type===h.type&&i.name===h.name)return h.value}return}for(l=t?yw:mw,o=0;o<s;++o)this.each(l(r[o],t,n));return this}function Lp(e,t,n){var r=Pp(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function vw(e,t){return function(){return Lp(this,e,t)}}function ww(e,t){return function(){return Lp(this,e,t.apply(this,arguments))}}function Nw(e,t){return this.each((typeof t=="function"?ww:vw)(e,t))}function*Sw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,i;o<s;++o)(i=r[o])&&(yield i)}var Dp=[null];function Ge(e,t){this._groups=e,this._parents=t}function zo(){return new Ge([[document.documentElement]],Dp)}function kw(){return this}Ge.prototype=zo.prototype={constructor:Ge,select:Gx,selectAll:Jx,selectChild:rv,selectChildren:lv,filter:av,data:pv,enter:uv,exit:mv,join:yv,merge:xv,selection:kw,order:vv,sort:wv,call:Sv,nodes:kv,node:_v,size:Ev,empty:bv,each:Cv,attr:zv,style:Rv,property:Vv,classed:Yv,text:Kv,html:ew,raise:nw,lower:ow,append:sw,insert:lw,remove:uw,clone:fw,datum:hw,on:xw,dispatch:Nw,[Symbol.iterator]:Sw};function We(e){return typeof e=="string"?new Ge([[document.querySelector(e)]],[document.documentElement]):new Ge([[e]],Dp)}function _w(e){let t;for(;t=e.sourceEvent;)e=t;return e}function lt(e,t){if(e=_w(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ew={passive:!1},vo={capture:!0,passive:!1};function ml(e){e.stopImmediatePropagation()}function nr(e){e.preventDefault(),e.stopImmediatePropagation()}function Ap(e){var t=e.document.documentElement,n=We(e).on("dragstart.drag",nr,vo);"onselectstart"in t?n.on("selectstart.drag",nr,vo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Rp(e,t){var n=e.document.documentElement,r=We(e).on("dragstart.drag",null);t&&(r.on("click.drag",nr,vo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ls=e=>()=>e;function wa(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:i,y:l,dx:a,dy:c,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}wa.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function bw(e){return!e.ctrlKey&&!e.button}function Cw(){return this.parentNode}function jw(e,t){return t??{x:e.x,y:e.y}}function Mw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Fp(){var e=bw,t=Cw,n=jw,r=Mw,o={},s=Pi("start","drag","end"),i=0,l,a,c,h,f=0;function d(w){w.on("mousedown.drag",m).filter(r).on("touchstart.drag",N).on("touchmove.drag",g,Ew).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(w,S){if(!(h||!e.call(this,w,S))){var k=p(this,t.call(this,w,S),w,S,"mouse");k&&(We(w.view).on("mousemove.drag",x,vo).on("mouseup.drag",v,vo),Ap(w.view),ml(w),c=!1,l=w.clientX,a=w.clientY,k("start",w))}}function x(w){if(nr(w),!c){var S=w.clientX-l,k=w.clientY-a;c=S*S+k*k>f}o.mouse("drag",w)}function v(w){We(w.view).on("mousemove.drag mouseup.drag",null),Rp(w.view,c),nr(w),o.mouse("end",w)}function N(w,S){if(e.call(this,w,S)){var k=w.changedTouches,E=t.call(this,w,S),P=k.length,I,R;for(I=0;I<P;++I)(R=p(this,E,w,S,k[I].identifier,k[I]))&&(ml(w),R("start",w,k[I]))}}function g(w){var S=w.changedTouches,k=S.length,E,P;for(E=0;E<k;++E)(P=o[S[E].identifier])&&(nr(w),P("drag",w,S[E]))}function y(w){var S=w.changedTouches,k=S.length,E,P;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),E=0;E<k;++E)(P=o[S[E].identifier])&&(ml(w),P("end",w,S[E]))}function p(w,S,k,E,P,I){var R=s.copy(),L=lt(I||k,S),D,A,b;if((b=n.call(w,new wa("beforestart",{sourceEvent:k,target:d,identifier:P,active:i,x:L[0],y:L[1],dx:0,dy:0,dispatch:R}),E))!=null)return D=b.x-L[0]||0,A=b.y-L[1]||0,function z(T,M,_){var j=L,$;switch(T){case"start":o[P]=z,$=i++;break;case"end":delete o[P],--i;case"drag":L=lt(_||M,S),$=i;break}R.call(T,w,new wa(T,{sourceEvent:M,subject:b,target:d,identifier:P,active:$,x:L[0]+D,y:L[1]+A,dx:L[0]-j[0],dy:L[1]-j[1],dispatch:R}),E)}}return d.filter=function(w){return arguments.length?(e=typeof w=="function"?w:ls(!!w),d):e},d.container=function(w){return arguments.length?(t=typeof w=="function"?w:ls(w),d):t},d.subject=function(w){return arguments.length?(n=typeof w=="function"?w:ls(w),d):n},d.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:ls(!!w),d):r},d.on=function(){var w=s.on.apply(s,arguments);return w===s?d:w},d.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,d):Math.sqrt(f)},d}function Mu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Op(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Lo(){}var wo=.7,oi=1/wo,rr="\\s*([+-]?\\d+)\\s*",No="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",St="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pw=/^#([0-9a-f]{3,8})$/,Tw=new RegExp(`^rgb\\(${rr},${rr},${rr}\\)$`),Iw=new RegExp(`^rgb\\(${St},${St},${St}\\)$`),$w=new RegExp(`^rgba\\(${rr},${rr},${rr},${No}\\)$`),zw=new RegExp(`^rgba\\(${St},${St},${St},${No}\\)$`),Lw=new RegExp(`^hsl\\(${No},${St},${St}\\)$`),Dw=new RegExp(`^hsla\\(${No},${St},${St},${No}\\)$`),ud={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mu(Lo,jn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cd,formatHex:cd,formatHex8:Aw,formatHsl:Rw,formatRgb:dd,toString:dd});function cd(){return this.rgb().formatHex()}function Aw(){return this.rgb().formatHex8()}function Rw(){return Hp(this).formatHsl()}function dd(){return this.rgb().formatRgb()}function jn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Pw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fd(t):n===3?new Oe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?as(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?as(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Tw.exec(e))?new Oe(t[1],t[2],t[3],1):(t=Iw.exec(e))?new Oe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$w.exec(e))?as(t[1],t[2],t[3],t[4]):(t=zw.exec(e))?as(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Lw.exec(e))?gd(t[1],t[2]/100,t[3]/100,1):(t=Dw.exec(e))?gd(t[1],t[2]/100,t[3]/100,t[4]):ud.hasOwnProperty(e)?fd(ud[e]):e==="transparent"?new Oe(NaN,NaN,NaN,0):null}function fd(e){return new Oe(e>>16&255,e>>8&255,e&255,1)}function as(e,t,n,r){return r<=0&&(e=t=n=NaN),new Oe(e,t,n,r)}function Fw(e){return e instanceof Lo||(e=jn(e)),e?(e=e.rgb(),new Oe(e.r,e.g,e.b,e.opacity)):new Oe}function Na(e,t,n,r){return arguments.length===1?Fw(e):new Oe(e,t,n,r??1)}function Oe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Mu(Oe,Na,Op(Lo,{brighter(e){return e=e==null?oi:Math.pow(oi,e),new Oe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wo:Math.pow(wo,e),new Oe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Oe(Nn(this.r),Nn(this.g),Nn(this.b),si(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hd,formatHex:hd,formatHex8:Ow,formatRgb:pd,toString:pd}));function hd(){return`#${xn(this.r)}${xn(this.g)}${xn(this.b)}`}function Ow(){return`#${xn(this.r)}${xn(this.g)}${xn(this.b)}${xn((isNaN(this.opacity)?1:this.opacity)*255)}`}function pd(){const e=si(this.opacity);return`${e===1?"rgb(":"rgba("}${Nn(this.r)}, ${Nn(this.g)}, ${Nn(this.b)}${e===1?")":`, ${e})`}`}function si(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xn(e){return e=Nn(e),(e<16?"0":"")+e.toString(16)}function gd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ut(e,t,n,r)}function Hp(e){if(e instanceof ut)return new ut(e.h,e.s,e.l,e.opacity);if(e instanceof Lo||(e=jn(e)),!e)return new ut;if(e instanceof ut)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,l=s-o,a=(s+o)/2;return l?(t===s?i=(n-r)/l+(n<r)*6:n===s?i=(r-t)/l+2:i=(t-n)/l+4,l/=a<.5?s+o:2-s-o,i*=60):l=a>0&&a<1?0:i,new ut(i,l,a,e.opacity)}function Hw(e,t,n,r){return arguments.length===1?Hp(e):new ut(e,t,n,r??1)}function ut(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Mu(ut,Hw,Op(Lo,{brighter(e){return e=e==null?oi:Math.pow(oi,e),new ut(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wo:Math.pow(wo,e),new ut(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Oe(yl(e>=240?e-240:e+120,o,r),yl(e,o,r),yl(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new ut(md(this.h),us(this.s),us(this.l),si(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=si(this.opacity);return`${e===1?"hsl(":"hsla("}${md(this.h)}, ${us(this.s)*100}%, ${us(this.l)*100}%${e===1?")":`, ${e})`}`}}));function md(e){return e=(e||0)%360,e<0?e+360:e}function us(e){return Math.max(0,Math.min(1,e||0))}function yl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Pu=e=>()=>e;function Vw(e,t){return function(n){return e+n*t}}function Bw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Uw(e){return(e=+e)==1?Vp:function(t,n){return n-t?Bw(t,n,e):Pu(isNaN(t)?n:t)}}function Vp(e,t){var n=t-e;return n?Vw(e,n):Pu(isNaN(e)?t:e)}const ii=function e(t){var n=Uw(t);function r(o,s){var i=n((o=Na(o)).r,(s=Na(s)).r),l=n(o.g,s.g),a=n(o.b,s.b),c=Vp(o.opacity,s.opacity);return function(h){return o.r=i(h),o.g=l(h),o.b=a(h),o.opacity=c(h),o+""}}return r.gamma=e,r}(1);function Ww(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(s){for(o=0;o<n;++o)r[o]=e[o]*(1-s)+t[o]*s;return r}}function Yw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Xw(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),s=new Array(n),i;for(i=0;i<r;++i)o[i]=Jr(e[i],t[i]);for(;i<n;++i)s[i]=t[i];return function(l){for(i=0;i<r;++i)s[i]=o[i](l);return s}}function Qw(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function xt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Gw(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Jr(e[o],t[o]):r[o]=t[o];return function(s){for(o in n)r[o]=n[o](s);return r}}var Sa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xl=new RegExp(Sa.source,"g");function Kw(e){return function(){return e}}function Zw(e){return function(t){return e(t)+""}}function Bp(e,t){var n=Sa.lastIndex=xl.lastIndex=0,r,o,s,i=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Sa.exec(e))&&(o=xl.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),l[i]?l[i]+=s:l[++i]=s),(r=r[0])===(o=o[0])?l[i]?l[i]+=o:l[++i]=o:(l[++i]=null,a.push({i,x:xt(r,o)})),n=xl.lastIndex;return n<t.length&&(s=t.slice(n),l[i]?l[i]+=s:l[++i]=s),l.length<2?a[0]?Zw(a[0].x):Kw(t):(t=a.length,function(c){for(var h=0,f;h<t;++h)l[(f=a[h]).i]=f.x(c);return l.join("")})}function Jr(e,t){var n=typeof t,r;return t==null||n==="boolean"?Pu(t):(n==="number"?xt:n==="string"?(r=jn(t))?(t=r,ii):Bp:t instanceof jn?ii:t instanceof Date?Qw:Yw(t)?Ww:Array.isArray(t)?Xw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Gw:xt)(e,t)}var yd=180/Math.PI,ka={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Up(e,t,n,r,o,s){var i,l,a;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,i=-i),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*yd,skewX:Math.atan(a)*yd,scaleX:i,scaleY:l}}var cs;function qw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ka:Up(t.a,t.b,t.c,t.d,t.e,t.f)}function Jw(e){return e==null||(cs||(cs=document.createElementNS("http://www.w3.org/2000/svg","g")),cs.setAttribute("transform",e),!(e=cs.transform.baseVal.consolidate()))?ka:(e=e.matrix,Up(e.a,e.b,e.c,e.d,e.e,e.f))}function Wp(e,t,n,r){function o(c){return c.length?c.pop()+" ":""}function s(c,h,f,d,m,x){if(c!==f||h!==d){var v=m.push("translate(",null,t,null,n);x.push({i:v-4,x:xt(c,f)},{i:v-2,x:xt(h,d)})}else(f||d)&&m.push("translate("+f+t+d+n)}function i(c,h,f,d){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),d.push({i:f.push(o(f)+"rotate(",null,r)-2,x:xt(c,h)})):h&&f.push(o(f)+"rotate("+h+r)}function l(c,h,f,d){c!==h?d.push({i:f.push(o(f)+"skewX(",null,r)-2,x:xt(c,h)}):h&&f.push(o(f)+"skewX("+h+r)}function a(c,h,f,d,m,x){if(c!==f||h!==d){var v=m.push(o(m)+"scale(",null,",",null,")");x.push({i:v-4,x:xt(c,f)},{i:v-2,x:xt(h,d)})}else(f!==1||d!==1)&&m.push(o(m)+"scale("+f+","+d+")")}return function(c,h){var f=[],d=[];return c=e(c),h=e(h),s(c.translateX,c.translateY,h.translateX,h.translateY,f,d),i(c.rotate,h.rotate,f,d),l(c.skewX,h.skewX,f,d),a(c.scaleX,c.scaleY,h.scaleX,h.scaleY,f,d),c=h=null,function(m){for(var x=-1,v=d.length,N;++x<v;)f[(N=d[x]).i]=N.x(m);return f.join("")}}}var e1=Wp(qw,"px, ","px)","deg)"),t1=Wp(Jw,", ",")",")"),n1=1e-12;function xd(e){return((e=Math.exp(e))+1/e)/2}function r1(e){return((e=Math.exp(e))-1/e)/2}function o1(e){return((e=Math.exp(2*e))-1)/(e+1)}const Ms=function e(t,n,r){function o(s,i){var l=s[0],a=s[1],c=s[2],h=i[0],f=i[1],d=i[2],m=h-l,x=f-a,v=m*m+x*x,N,g;if(v<n1)g=Math.log(d/c)/t,N=function(E){return[l+E*m,a+E*x,c*Math.exp(t*E*g)]};else{var y=Math.sqrt(v),p=(d*d-c*c+r*v)/(2*c*n*y),w=(d*d-c*c-r*v)/(2*d*n*y),S=Math.log(Math.sqrt(p*p+1)-p),k=Math.log(Math.sqrt(w*w+1)-w);g=(k-S)/t,N=function(E){var P=E*g,I=xd(S),R=c/(n*y)*(I*o1(t*P+S)-r1(S));return[l+R*m,a+R*x,c*I/xd(t*P+S)]}}return N.duration=g*1e3*t/Math.SQRT2,N}return o.rho=function(s){var i=Math.max(.001,+s),l=i*i,a=l*l;return e(i,l,a)},o}(Math.SQRT2,2,4);var fr=0,Vr=0,Dr=0,Yp=1e3,li,Br,ai=0,Mn=0,Ii=0,So=typeof performance=="object"&&performance.now?performance:Date,Xp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Tu(){return Mn||(Xp(s1),Mn=So.now()+Ii)}function s1(){Mn=0}function ui(){this._call=this._time=this._next=null}ui.prototype=Qp.prototype={constructor:ui,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Tu():+n)+(t==null?0:+t),!this._next&&Br!==this&&(Br?Br._next=this:li=this,Br=this),this._call=e,this._time=n,_a()},stop:function(){this._call&&(this._call=null,this._time=1/0,_a())}};function Qp(e,t,n){var r=new ui;return r.restart(e,t,n),r}function i1(){Tu(),++fr;for(var e=li,t;e;)(t=Mn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fr}function vd(){Mn=(ai=So.now())+Ii,fr=Vr=0;try{i1()}finally{fr=0,a1(),Mn=0}}function l1(){var e=So.now(),t=e-ai;t>Yp&&(Ii-=t,ai=e)}function a1(){for(var e,t=li,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:li=n);Br=e,_a(r)}function _a(e){if(!fr){Vr&&(Vr=clearTimeout(Vr));var t=e-Mn;t>24?(e<1/0&&(Vr=setTimeout(vd,e-So.now()-Ii)),Dr&&(Dr=clearInterval(Dr))):(Dr||(ai=So.now(),Dr=setInterval(l1,Yp)),fr=1,Xp(vd))}}function wd(e,t,n){var r=new ui;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var u1=Pi("start","end","cancel","interrupt"),c1=[],Gp=0,Nd=1,Ea=2,Ps=3,Sd=4,ba=5,Ts=6;function $i(e,t,n,r,o,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;d1(e,n,{name:t,index:r,group:o,on:u1,tween:c1,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Gp})}function Iu(e,t){var n=gt(e,t);if(n.state>Gp)throw new Error("too late; already scheduled");return n}function Et(e,t){var n=gt(e,t);if(n.state>Ps)throw new Error("too late; already running");return n}function gt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function d1(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Qp(s,0,n.time);function s(c){n.state=Nd,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var h,f,d,m;if(n.state!==Nd)return a();for(h in r)if(m=r[h],m.name===n.name){if(m.state===Ps)return wd(i);m.state===Sd?(m.state=Ts,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[h]):+h<t&&(m.state=Ts,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[h])}if(wd(function(){n.state===Ps&&(n.state=Sd,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Ea,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ea){for(n.state=Ps,o=new Array(d=n.tween.length),h=0,f=-1;h<d;++h)(m=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=m);o.length=f+1}}function l(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(a),n.state=ba,1),f=-1,d=o.length;++f<d;)o[f].call(e,h);n.state===ba&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Ts,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Is(e,t){var n=e.__transition,r,o,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){s=!1;continue}o=r.state>Ea&&r.state<ba,r.state=Ts,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}s&&delete e.__transition}}function f1(e){return this.each(function(){Is(this,e)})}function h1(e,t){var n,r;return function(){var o=Et(this,e),s=o.tween;if(s!==n){r=n=s;for(var i=0,l=r.length;i<l;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function p1(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=Et(this,e),i=s.tween;if(i!==r){o=(r=i).slice();for(var l={name:t,value:n},a=0,c=o.length;a<c;++a)if(o[a].name===t){o[a]=l;break}a===c&&o.push(l)}s.tween=o}}function g1(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=gt(this.node(),n).tween,o=0,s=r.length,i;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?h1:p1)(n,e,t))}function $u(e,t,n){var r=e._id;return e.each(function(){var o=Et(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return gt(o,r).value[t]}}function Kp(e,t){var n;return(typeof t=="number"?xt:t instanceof jn?ii:(n=jn(t))?(t=n,ii):Bp)(e,t)}function m1(e){return function(){this.removeAttribute(e)}}function y1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function x1(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttribute(e);return i===o?null:i===r?s:s=t(r=i,n)}}function v1(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?s:s=t(r=i,n)}}function w1(e,t,n){var r,o,s;return function(){var i,l=n(this),a;return l==null?void this.removeAttribute(e):(i=this.getAttribute(e),a=l+"",i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l)))}}function N1(e,t,n){var r,o,s;return function(){var i,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),a=l+"",i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l)))}}function S1(e,t){var n=Ti(e),r=n==="transform"?t1:Kp;return this.attrTween(e,typeof t=="function"?(n.local?N1:w1)(n,r,$u(this,"attr."+e,t)):t==null?(n.local?y1:m1)(n):(n.local?v1:x1)(n,r,t))}function k1(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function _1(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function E1(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&_1(e,s)),n}return o._value=t,o}function b1(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&k1(e,s)),n}return o._value=t,o}function C1(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ti(e);return this.tween(n,(r.local?E1:b1)(r,t))}function j1(e,t){return function(){Iu(this,e).delay=+t.apply(this,arguments)}}function M1(e,t){return t=+t,function(){Iu(this,e).delay=t}}function P1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?j1:M1)(t,e)):gt(this.node(),t).delay}function T1(e,t){return function(){Et(this,e).duration=+t.apply(this,arguments)}}function I1(e,t){return t=+t,function(){Et(this,e).duration=t}}function $1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?T1:I1)(t,e)):gt(this.node(),t).duration}function z1(e,t){if(typeof t!="function")throw new Error;return function(){Et(this,e).ease=t}}function L1(e){var t=this._id;return arguments.length?this.each(z1(t,e)):gt(this.node(),t).ease}function D1(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Et(this,e).ease=n}}function A1(e){if(typeof e!="function")throw new Error;return this.each(D1(this._id,e))}function R1(e){typeof e!="function"&&(e=Cp(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,l=r[o]=[],a,c=0;c<i;++c)(a=s[c])&&e.call(a,a.__data__,c,s)&&l.push(a);return new Rt(r,this._parents,this._name,this._id)}function F1(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),i=new Array(r),l=0;l<s;++l)for(var a=t[l],c=n[l],h=a.length,f=i[l]=new Array(h),d,m=0;m<h;++m)(d=a[m]||c[m])&&(f[m]=d);for(;l<r;++l)i[l]=t[l];return new Rt(i,this._parents,this._name,this._id)}function O1(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function H1(e,t,n){var r,o,s=O1(t)?Iu:Et;return function(){var i=s(this,e),l=i.on;l!==r&&(o=(r=l).copy()).on(t,n),i.on=o}}function V1(e,t){var n=this._id;return arguments.length<2?gt(this.node(),n).on.on(e):this.each(H1(n,e,t))}function B1(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function U1(){return this.on("end.remove",B1(this._id))}function W1(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Cu(e));for(var r=this._groups,o=r.length,s=new Array(o),i=0;i<o;++i)for(var l=r[i],a=l.length,c=s[i]=new Array(a),h,f,d=0;d<a;++d)(h=l[d])&&(f=e.call(h,h.__data__,d,l))&&("__data__"in h&&(f.__data__=h.__data__),c[d]=f,$i(c[d],t,n,d,c,gt(h,n)));return new Rt(s,this._parents,t,n)}function Y1(e){var t=this._name,n=this._id;typeof e!="function"&&(e=bp(e));for(var r=this._groups,o=r.length,s=[],i=[],l=0;l<o;++l)for(var a=r[l],c=a.length,h,f=0;f<c;++f)if(h=a[f]){for(var d=e.call(h,h.__data__,f,a),m,x=gt(h,n),v=0,N=d.length;v<N;++v)(m=d[v])&&$i(m,t,n,v,d,x);s.push(d),i.push(h)}return new Rt(s,i,t,n)}var X1=zo.prototype.constructor;function Q1(){return new X1(this._groups,this._parents)}function G1(e,t){var n,r,o;return function(){var s=dr(this,e),i=(this.style.removeProperty(e),dr(this,e));return s===i?null:s===n&&i===r?o:o=t(n=s,r=i)}}function Zp(e){return function(){this.style.removeProperty(e)}}function K1(e,t,n){var r,o=n+"",s;return function(){var i=dr(this,e);return i===o?null:i===r?s:s=t(r=i,n)}}function Z1(e,t,n){var r,o,s;return function(){var i=dr(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),dr(this,e))),i===a?null:i===r&&a===o?s:(o=a,s=t(r=i,l))}}function q1(e,t){var n,r,o,s="style."+t,i="end."+s,l;return function(){var a=Et(this,e),c=a.on,h=a.value[s]==null?l||(l=Zp(t)):void 0;(c!==n||o!==h)&&(r=(n=c).copy()).on(i,o=h),a.on=r}}function J1(e,t,n){var r=(e+="")=="transform"?e1:Kp;return t==null?this.styleTween(e,G1(e,r)).on("end.style."+e,Zp(e)):typeof t=="function"?this.styleTween(e,Z1(e,r,$u(this,"style."+e,t))).each(q1(this._id,e)):this.styleTween(e,K1(e,r,t),n).on("end.style."+e,null)}function eN(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function tN(e,t,n){var r,o;function s(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&eN(e,i,n)),r}return s._value=t,s}function nN(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,tN(e,t,n??""))}function rN(e){return function(){this.textContent=e}}function oN(e){return function(){var t=e(this);this.textContent=t??""}}function sN(e){return this.tween("text",typeof e=="function"?oN($u(this,"text",e)):rN(e==null?"":e+""))}function iN(e){return function(t){this.textContent=e.call(this,t)}}function lN(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&iN(o)),t}return r._value=e,r}function aN(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,lN(e))}function uN(){for(var e=this._name,t=this._id,n=qp(),r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],l=i.length,a,c=0;c<l;++c)if(a=i[c]){var h=gt(a,t);$i(a,e,n,c,i,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Rt(r,this._parents,e,n)}function cN(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,i){var l={value:i},a={value:function(){--o===0&&s()}};n.each(function(){var c=Et(this,r),h=c.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),c.on=t}),o===0&&s()})}var dN=0;function Rt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function qp(){return++dN}var Ct=zo.prototype;Rt.prototype={constructor:Rt,select:W1,selectAll:Y1,selectChild:Ct.selectChild,selectChildren:Ct.selectChildren,filter:R1,merge:F1,selection:Q1,transition:uN,call:Ct.call,nodes:Ct.nodes,node:Ct.node,size:Ct.size,empty:Ct.empty,each:Ct.each,on:V1,attr:S1,attrTween:C1,style:J1,styleTween:nN,text:sN,textTween:aN,remove:U1,tween:g1,delay:P1,duration:$1,ease:L1,easeVarying:A1,end:cN,[Symbol.iterator]:Ct[Symbol.iterator]};function fN(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var hN={time:null,delay:0,duration:250,ease:fN};function pN(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function gN(e){var t,n;e instanceof Rt?(t=e._id,e=e._name):(t=qp(),(n=hN).time=Tu(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],l=i.length,a,c=0;c<l;++c)(a=i[c])&&$i(a,e,t,c,i,n||pN(a,t));return new Rt(r,this._parents,e,t)}zo.prototype.interrupt=f1;zo.prototype.transition=gN;const ds=e=>()=>e;function mN(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function It(e,t,n){this.k=e,this.x=t,this.y=n}It.prototype={constructor:It,scale:function(e){return e===1?this:new It(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new It(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var zi=new It(1,0,0);Jp.prototype=It.prototype;function Jp(e){for(;!e.__zoom;)if(!(e=e.parentNode))return zi;return e.__zoom}function vl(e){e.stopImmediatePropagation()}function Ar(e){e.preventDefault(),e.stopImmediatePropagation()}function yN(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function xN(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function kd(){return this.__zoom||zi}function vN(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function wN(){return navigator.maxTouchPoints||"ontouchstart"in this}function NN(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function e0(){var e=yN,t=xN,n=NN,r=vN,o=wN,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Ms,c=Pi("start","zoom","end"),h,f,d,m=500,x=150,v=0,N=10;function g(b){b.property("__zoom",kd).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",R).filter(o).on("touchstart.zoom",L).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(b,z,T,M){var _=b.selection?b.selection():b;_.property("__zoom",kd),b!==_?S(b,z,T,M):_.interrupt().each(function(){k(this,arguments).event(M).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},g.scaleBy=function(b,z,T,M){g.scaleTo(b,function(){var _=this.__zoom.k,j=typeof z=="function"?z.apply(this,arguments):z;return _*j},T,M)},g.scaleTo=function(b,z,T,M){g.transform(b,function(){var _=t.apply(this,arguments),j=this.__zoom,$=T==null?w(_):typeof T=="function"?T.apply(this,arguments):T,F=j.invert($),O=typeof z=="function"?z.apply(this,arguments):z;return n(p(y(j,O),$,F),_,i)},T,M)},g.translateBy=function(b,z,T,M){g.transform(b,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),i)},null,M)},g.translateTo=function(b,z,T,M,_){g.transform(b,function(){var j=t.apply(this,arguments),$=this.__zoom,F=M==null?w(j):typeof M=="function"?M.apply(this,arguments):M;return n(zi.translate(F[0],F[1]).scale($.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof T=="function"?-T.apply(this,arguments):-T),j,i)},M,_)};function y(b,z){return z=Math.max(s[0],Math.min(s[1],z)),z===b.k?b:new It(z,b.x,b.y)}function p(b,z,T){var M=z[0]-T[0]*b.k,_=z[1]-T[1]*b.k;return M===b.x&&_===b.y?b:new It(b.k,M,_)}function w(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function S(b,z,T,M){b.on("start.zoom",function(){k(this,arguments).event(M).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(M).end()}).tween("zoom",function(){var _=this,j=arguments,$=k(_,j).event(M),F=t.apply(_,j),O=T==null?w(F):typeof T=="function"?T.apply(_,j):T,B=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),U=_.__zoom,Q=typeof z=="function"?z.apply(_,j):z,G=a(U.invert(O).concat(B/U.k),Q.invert(O).concat(B/Q.k));return function(X){if(X===1)X=Q;else{var V=G(X),K=B/V[2];X=new It(K,O[0]-V[0]*K,O[1]-V[1]*K)}$.zoom(null,X)}})}function k(b,z,T){return!T&&b.__zooming||new E(b,z)}function E(b,z){this.that=b,this.args=z,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,z),this.taps=0}E.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,z){return this.mouse&&b!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var z=We(this.that).datum();c.call(b,this.that,new mN(b,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:c}),z)}};function P(b,...z){if(!e.apply(this,arguments))return;var T=k(this,z).event(b),M=this.__zoom,_=Math.max(s[0],Math.min(s[1],M.k*Math.pow(2,r.apply(this,arguments)))),j=lt(b);if(T.wheel)(T.mouse[0][0]!==j[0]||T.mouse[0][1]!==j[1])&&(T.mouse[1]=M.invert(T.mouse[0]=j)),clearTimeout(T.wheel);else{if(M.k===_)return;T.mouse=[j,M.invert(j)],Is(this),T.start()}Ar(b),T.wheel=setTimeout($,x),T.zoom("mouse",n(p(y(M,_),T.mouse[0],T.mouse[1]),T.extent,i));function $(){T.wheel=null,T.end()}}function I(b,...z){if(d||!e.apply(this,arguments))return;var T=b.currentTarget,M=k(this,z,!0).event(b),_=We(b.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",B,!0),j=lt(b,T),$=b.clientX,F=b.clientY;Ap(b.view),vl(b),M.mouse=[j,this.__zoom.invert(j)],Is(this),M.start();function O(U){if(Ar(U),!M.moved){var Q=U.clientX-$,G=U.clientY-F;M.moved=Q*Q+G*G>v}M.event(U).zoom("mouse",n(p(M.that.__zoom,M.mouse[0]=lt(U,T),M.mouse[1]),M.extent,i))}function B(U){_.on("mousemove.zoom mouseup.zoom",null),Rp(U.view,M.moved),Ar(U),M.event(U).end()}}function R(b,...z){if(e.apply(this,arguments)){var T=this.__zoom,M=lt(b.changedTouches?b.changedTouches[0]:b,this),_=T.invert(M),j=T.k*(b.shiftKey?.5:2),$=n(p(y(T,j),M,_),t.apply(this,z),i);Ar(b),l>0?We(this).transition().duration(l).call(S,$,M,b):We(this).call(g.transform,$,M,b)}}function L(b,...z){if(e.apply(this,arguments)){var T=b.touches,M=T.length,_=k(this,z,b.changedTouches.length===M).event(b),j,$,F,O;for(vl(b),$=0;$<M;++$)F=T[$],O=lt(F,this),O=[O,this.__zoom.invert(O),F.identifier],_.touch0?!_.touch1&&_.touch0[2]!==O[2]&&(_.touch1=O,_.taps=0):(_.touch0=O,j=!0,_.taps=1+!!h);h&&(h=clearTimeout(h)),j&&(_.taps<2&&(f=O[0],h=setTimeout(function(){h=null},m)),Is(this),_.start())}}function D(b,...z){if(this.__zooming){var T=k(this,z).event(b),M=b.changedTouches,_=M.length,j,$,F,O;for(Ar(b),j=0;j<_;++j)$=M[j],F=lt($,this),T.touch0&&T.touch0[2]===$.identifier?T.touch0[0]=F:T.touch1&&T.touch1[2]===$.identifier&&(T.touch1[0]=F);if($=T.that.__zoom,T.touch1){var B=T.touch0[0],U=T.touch0[1],Q=T.touch1[0],G=T.touch1[1],X=(X=Q[0]-B[0])*X+(X=Q[1]-B[1])*X,V=(V=G[0]-U[0])*V+(V=G[1]-U[1])*V;$=y($,Math.sqrt(X/V)),F=[(B[0]+Q[0])/2,(B[1]+Q[1])/2],O=[(U[0]+G[0])/2,(U[1]+G[1])/2]}else if(T.touch0)F=T.touch0[0],O=T.touch0[1];else return;T.zoom("touch",n(p($,F,O),T.extent,i))}}function A(b,...z){if(this.__zooming){var T=k(this,z).event(b),M=b.changedTouches,_=M.length,j,$;for(vl(b),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),j=0;j<_;++j)$=M[j],T.touch0&&T.touch0[2]===$.identifier?delete T.touch0:T.touch1&&T.touch1[2]===$.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&($=lt($,this),Math.hypot(f[0]-$[0],f[1]-$[1])<N)){var F=We(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return g.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:ds(+b),g):r},g.filter=function(b){return arguments.length?(e=typeof b=="function"?b:ds(!!b),g):e},g.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:ds(!!b),g):o},g.extent=function(b){return arguments.length?(t=typeof b=="function"?b:ds([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),g):t},g.scaleExtent=function(b){return arguments.length?(s[0]=+b[0],s[1]=+b[1],g):[s[0],s[1]]},g.translateExtent=function(b){return arguments.length?(i[0][0]=+b[0][0],i[1][0]=+b[1][0],i[0][1]=+b[0][1],i[1][1]=+b[1][1],g):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},g.constrain=function(b){return arguments.length?(n=b,g):n},g.duration=function(b){return arguments.length?(l=+b,g):l},g.interpolate=function(b){return arguments.length?(a=b,g):a},g.on=function(){var b=c.on.apply(c,arguments);return b===c?g:b},g.clickDistance=function(b){return arguments.length?(v=(b=+b)*b,g):Math.sqrt(v)},g.tapDistance=function(b){return arguments.length?(N=+b,g):N},g}const _t={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},ko=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],t0=["Enter"," ","Escape"],n0={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var hr;(function(e){e.Strict="strict",e.Loose="loose"})(hr||(hr={}));var Sn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Sn||(Sn={}));var _o;(function(e){e.Partial="partial",e.Full="full"})(_o||(_o={}));const r0={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Qt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Qt||(Qt={}));var ci;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ci||(ci={}));var Y;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Y||(Y={}));const _d={[Y.Left]:Y.Right,[Y.Right]:Y.Left,[Y.Top]:Y.Bottom,[Y.Bottom]:Y.Top};function o0(e){return e===null?null:e?"valid":"invalid"}const s0=e=>"id"in e&&"source"in e&&"target"in e,SN=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),zu=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Do=(e,t=[0,0])=>{const{width:n,height:r}=Ot(e),o=e.origin??t,s=n*o[0],i=r*o[1];return{x:e.position.x-s,y:e.position.y-i}},kN=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const s=typeof o=="string";let i=!t.nodeLookup&&!s?o:void 0;t.nodeLookup&&(i=s?t.nodeLookup.get(o):zu(o)?o:t.nodeLookup.get(o.id));const l=i?di(i,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Li(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Di(n)},Ao=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(o=>{(t.filter===void 0||t.filter(o))&&(n=Li(n,di(o)),r=!0)}),r?Di(n):{x:0,y:0,width:0,height:0}},Lu=(e,t,[n,r,o]=[0,0,1],s=!1,i=!1)=>{const l={...Fo(t,[n,r,o]),width:t.width/o,height:t.height/o},a=[];for(const c of e.values()){const{measured:h,selectable:f=!0,hidden:d=!1}=c;if(i&&!f||d)continue;const m=h.width??c.width??c.initialWidth??null,x=h.height??c.height??c.initialHeight??null,v=Eo(l,gr(c)),N=(m??0)*(x??0),g=s&&v>0;(!c.internals.handleBounds||g||v>=N||c.dragging)&&a.push(c)}return a},_N=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function EN(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function bN({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:s},i){if(e.size===0)return Promise.resolve(!0);const l=EN(e,i),a=Ao(l),c=Du(a,t,n,(i==null?void 0:i.minZoom)??o,(i==null?void 0:i.maxZoom)??s,(i==null?void 0:i.padding)??.1);return await r.setViewport(c,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)}function i0({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:s}){const i=n.get(e),l=i.parentId?n.get(i.parentId):void 0,{x:a,y:c}=l?l.internals.positionAbsolute:{x:0,y:0},h=i.origin??r;let f=i.extent||o;if(i.extent==="parent"&&!i.expandParent)if(!l)s==null||s("005",_t.error005());else{const m=l.measured.width,x=l.measured.height;m&&x&&(f=[[a,c],[a+m,c+x]])}else l&&mr(i.extent)&&(f=[[i.extent[0][0]+a,i.extent[0][1]+c],[i.extent[1][0]+a,i.extent[1][1]+c]]);const d=mr(f)?Pn(t,f,i.measured):t;return(i.measured.width===void 0||i.measured.height===void 0)&&(s==null||s("015",_t.error015())),{position:{x:d.x-a+(i.measured.width??0)*h[0],y:d.y-c+(i.measured.height??0)*h[1]},positionAbsolute:d}}async function CN({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const s=new Set(e.map(d=>d.id)),i=[];for(const d of n){if(d.deletable===!1)continue;const m=s.has(d.id),x=!m&&d.parentId&&i.find(v=>v.id===d.parentId);(m||x)&&i.push(d)}const l=new Set(t.map(d=>d.id)),a=r.filter(d=>d.deletable!==!1),h=_N(i,a);for(const d of a)l.has(d.id)&&!h.find(x=>x.id===d.id)&&h.push(d);if(!o)return{edges:h,nodes:i};const f=await o({nodes:i,edges:h});return typeof f=="boolean"?f?{edges:h,nodes:i}:{edges:[],nodes:[]}:f}const pr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Pn=(e={x:0,y:0},t,n)=>({x:pr(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:pr(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function l0(e,t,n){const{width:r,height:o}=Ot(n),{x:s,y:i}=n.internals.positionAbsolute;return Pn(e,[[s,i],[s+r,i+o]],t)}const Ed=(e,t,n)=>e<t?pr(Math.abs(e-t),1,t)/t:e>n?-pr(Math.abs(e-n),1,t)/t:0,a0=(e,t,n=15,r=40)=>{const o=Ed(e.x,r,t.width-r)*n,s=Ed(e.y,r,t.height-r)*n;return[o,s]},Li=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ca=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Di=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),gr=(e,t=[0,0])=>{var o,s;const{x:n,y:r}=zu(e)?e.internals.positionAbsolute:Do(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},di=(e,t=[0,0])=>{var o,s;const{x:n,y:r}=zu(e)?e.internals.positionAbsolute:Do(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},u0=(e,t)=>Di(Li(Ca(e),Ca(t))),Eo=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},bd=e=>ct(e.width)&&ct(e.height)&&ct(e.x)&&ct(e.y),ct=e=>!isNaN(e)&&isFinite(e),jN=(e,t)=>{},Ro=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Fo=({x:e,y:t},[n,r,o],s=!1,i=[1,1])=>{const l={x:(e-n)/o,y:(t-r)/o};return s?Ro(l,i):l},fi=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function Ln(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function MN(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=Ln(e,n),o=Ln(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=Ln(e.top??e.y??0,n),o=Ln(e.bottom??e.y??0,n),s=Ln(e.left??e.x??0,t),i=Ln(e.right??e.x??0,t);return{top:r,right:i,bottom:o,left:s,x:s+i,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function PN(e,t,n,r,o,s){const{x:i,y:l}=fi(e,[t,n,r]),{x:a,y:c}=fi({x:e.x+e.width,y:e.y+e.height},[t,n,r]),h=o-a,f=s-c;return{left:Math.floor(i),top:Math.floor(l),right:Math.floor(h),bottom:Math.floor(f)}}const Du=(e,t,n,r,o,s)=>{const i=MN(s,t,n),l=(t-i.x)/e.width,a=(n-i.y)/e.height,c=Math.min(l,a),h=pr(c,r,o),f=e.x+e.width/2,d=e.y+e.height/2,m=t/2-f*h,x=n/2-d*h,v=PN(e,m,x,h,t,n),N={left:Math.min(v.left-i.left,0),top:Math.min(v.top-i.top,0),right:Math.min(v.right-i.right,0),bottom:Math.min(v.bottom-i.bottom,0)};return{x:m-N.left+N.right,y:x-N.top+N.bottom,zoom:h}},bo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function mr(e){return e!=null&&e!=="parent"}function Ot(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function c0(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function d0(e,t={width:0,height:0},n,r,o){const s={...e},i=r.get(n);if(i){const l=i.origin||o;s.x+=i.internals.positionAbsolute.x-(t.width??0)*l[0],s.y+=i.internals.positionAbsolute.y-(t.height??0)*l[1]}return s}function Cd(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function TN(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function IN(e){return{...n0,...e||{}}}function eo(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:s,y:i}=dt(e),l=Fo({x:s-((o==null?void 0:o.left)??0),y:i-((o==null?void 0:o.top)??0)},r),{x:a,y:c}=n?Ro(l,t):l;return{xSnapped:a,ySnapped:c,...l}}const Au=e=>({width:e.offsetWidth,height:e.offsetHeight}),f0=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},$N=["INPUT","SELECT","TEXTAREA"];function h0(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:$N.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const p0=e=>"clientX"in e,dt=(e,t)=>{var s,i;const n=p0(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,o=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},jd=(e,t,n,r,o)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(i=>{const l=i.getBoundingClientRect();return{id:i.getAttribute("data-handleid"),type:e,nodeId:o,position:i.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Au(i)}})};function g0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:i,targetControlY:l}){const a=e*.125+o*.375+i*.375+n*.125,c=t*.125+s*.375+l*.375+r*.125,h=Math.abs(a-e),f=Math.abs(c-t);return[a,c,h,f]}function fs(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Md({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case Y.Left:return[t-fs(t-r,s),n];case Y.Right:return[t+fs(r-t,s),n];case Y.Top:return[t,n-fs(n-o,s)];case Y.Bottom:return[t,n+fs(o-n,s)]}}function Ru({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:s=Y.Top,curvature:i=.25}){const[l,a]=Md({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[c,h]=Md({pos:s,x1:r,y1:o,x2:e,y2:t,c:i}),[f,d,m,x]=g0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:l,sourceControlY:a,targetControlX:c,targetControlY:h});return[`M${e},${t} C${l},${a} ${c},${h} ${r},${o}`,f,d,m,x]}function m0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,i=Math.abs(r-t)/2,l=r<t?r+i:r-i;return[s,l,o,i]}function zN({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:o=!1}){if(r!==void 0)return r;const s=o&&n?1e3:0,i=Math.max(e.parentId||o&&e.selected?e.internals.z:0,t.parentId||o&&t.selected?t.internals.z:0);return s+i}function LN({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const s=Li(di(e),di(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const i={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Eo(i,Di(s))>0}const DN=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,AN=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),y0=(e,t)=>{if(!e.source||!e.target)return t;let n;return s0(e)?n={...e}:n={...e,id:DN(e)},AN(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function Fu({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,i,l]=m0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,i,l]}const Pd={[Y.Left]:{x:-1,y:0},[Y.Right]:{x:1,y:0},[Y.Top]:{x:0,y:-1},[Y.Bottom]:{x:0,y:1}},RN=({source:e,sourcePosition:t=Y.Bottom,target:n})=>t===Y.Left||t===Y.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Td=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function FN({source:e,sourcePosition:t=Y.Bottom,target:n,targetPosition:r=Y.Top,center:o,offset:s,stepPosition:i}){const l=Pd[t],a=Pd[r],c={x:e.x+l.x*s,y:e.y+l.y*s},h={x:n.x+a.x*s,y:n.y+a.y*s},f=RN({source:c,sourcePosition:t,target:h}),d=f.x!==0?"x":"y",m=f[d];let x=[],v,N;const g={x:0,y:0},y={x:0,y:0},[,,p,w]=m0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(l[d]*a[d]===-1){d==="x"?(v=o.x??c.x+(h.x-c.x)*i,N=o.y??(c.y+h.y)/2):(v=o.x??(c.x+h.x)/2,N=o.y??c.y+(h.y-c.y)*i);const k=[{x:v,y:c.y},{x:v,y:h.y}],E=[{x:c.x,y:N},{x:h.x,y:N}];l[d]===m?x=d==="x"?k:E:x=d==="x"?E:k}else{const k=[{x:c.x,y:h.y}],E=[{x:h.x,y:c.y}];if(d==="x"?x=l.x===m?E:k:x=l.y===m?k:E,t===r){const D=Math.abs(e[d]-n[d]);if(D<=s){const A=Math.min(s-1,s-D);l[d]===m?g[d]=(c[d]>e[d]?-1:1)*A:y[d]=(h[d]>n[d]?-1:1)*A}}if(t!==r){const D=d==="x"?"y":"x",A=l[d]===a[D],b=c[D]>h[D],z=c[D]<h[D];(l[d]===1&&(!A&&b||A&&z)||l[d]!==1&&(!A&&z||A&&b))&&(x=d==="x"?k:E)}const P={x:c.x+g.x,y:c.y+g.y},I={x:h.x+y.x,y:h.y+y.y},R=Math.max(Math.abs(P.x-x[0].x),Math.abs(I.x-x[0].x)),L=Math.max(Math.abs(P.y-x[0].y),Math.abs(I.y-x[0].y));R>=L?(v=(P.x+I.x)/2,N=x[0].y):(v=x[0].x,N=(P.y+I.y)/2)}return[[e,{x:c.x+g.x,y:c.y+g.y},...x,{x:h.x+y.x,y:h.y+y.y},n],v,N,p,w]}function ON(e,t,n,r){const o=Math.min(Td(e,t)/2,Td(t,n)/2,r),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const c=e.x<n.x?-1:1,h=e.y<n.y?1:-1;return`L ${s+o*c},${i}Q ${s},${i} ${s},${i+o*h}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${s},${i+o*a}Q ${s},${i} ${s+o*l},${i}`}function ja({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:s=Y.Top,borderRadius:i=5,centerX:l,centerY:a,offset:c=20,stepPosition:h=.5}){const[f,d,m,x,v]=FN({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:l,y:a},offset:c,stepPosition:h});return[f.reduce((g,y,p)=>{let w="";return p>0&&p<f.length-1?w=ON(f[p-1],y,f[p+1],i):w=`${p===0?"M":"L"}${y.x} ${y.y}`,g+=w,g},""),d,m,x,v]}function Id(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function HN(e){var f;const{sourceNode:t,targetNode:n}=e;if(!Id(t)||!Id(n))return null;const r=t.internals.handleBounds||$d(t.handles),o=n.internals.handleBounds||$d(n.handles),s=zd((r==null?void 0:r.source)??[],e.sourceHandle),i=zd(e.connectionMode===hr.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!s||!i)return(f=e.onError)==null||f.call(e,"008",_t.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const l=(s==null?void 0:s.position)||Y.Bottom,a=(i==null?void 0:i.position)||Y.Top,c=Co(t,s,l),h=Co(n,i,a);return{sourceX:c.x,sourceY:c.y,targetX:h.x,targetY:h.y,sourcePosition:l,targetPosition:a}}function $d(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Co(e,t,n=Y.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:i,height:l}=t??Ot(e);if(r)return{x:o+i/2,y:s+l/2};switch((t==null?void 0:t.position)??n){case Y.Top:return{x:o+i/2,y:s};case Y.Right:return{x:o+i,y:s+l/2};case Y.Bottom:return{x:o+i/2,y:s+l};case Y.Left:return{x:o,y:s+l/2}}}function zd(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function Ma(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function VN(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const s=new Set;return e.reduce((i,l)=>([l.markerStart||r,l.markerEnd||o].forEach(a=>{if(a&&typeof a=="object"){const c=Ma(a,t);s.has(c)||(i.push({id:c,color:a.color||n,...a}),s.add(c))}}),i),[]).sort((i,l)=>i.id.localeCompare(l.id))}const x0=1e3,BN=10,Ou={nodeOrigin:[0,0],nodeExtent:ko,elevateNodesOnSelect:!0,defaults:{}},UN={...Ou,checkEquality:!0};function Hu(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function WN(e,t,n){const r=Hu(Ou,n);for(const o of e.values())if(o.parentId)Vu(o,e,t,r);else{const s=Do(o,r.nodeOrigin),i=mr(o.extent)?o.extent:r.nodeExtent,l=Pn(s,i,Ot(o));o.internals.positionAbsolute=l}}function YN(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const o of e.handles){const s={id:o.id,width:o.width??1,height:o.height??1,nodeId:e.id,x:o.x,y:o.y,position:o.position,type:o.type};o.type==="source"?n.push(s):o.type==="target"&&r.push(s)}return{source:n,target:r}}function Pa(e,t,n,r){var c,h;const o=Hu(UN,r);let s={i:-1},i=e.length>0;const l=new Map(t),a=o!=null&&o.elevateNodesOnSelect?x0:0;t.clear(),n.clear();for(const f of e){let d=l.get(f.id);if(o.checkEquality&&f===(d==null?void 0:d.internals.userNode))t.set(f.id,d);else{const m=Do(f,o.nodeOrigin),x=mr(f.extent)?f.extent:o.nodeExtent,v=Pn(m,x,Ot(f));d={...o.defaults,...f,measured:{width:(c=f.measured)==null?void 0:c.width,height:(h=f.measured)==null?void 0:h.height},internals:{positionAbsolute:v,handleBounds:YN(f,d),z:v0(f,a),userNode:f}},t.set(f.id,d)}(d.measured===void 0||d.measured.width===void 0||d.measured.height===void 0)&&!d.hidden&&(i=!1),f.parentId&&Vu(d,t,n,r,s)}return i}function XN(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Vu(e,t,n,r,o){const{elevateNodesOnSelect:s,nodeOrigin:i,nodeExtent:l}=Hu(Ou,r),a=e.parentId,c=t.get(a);if(!c){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}XN(e,n),o&&!c.parentId&&c.internals.rootParentIndex===void 0&&(c.internals.rootParentIndex=++o.i,c.internals.z=c.internals.z+o.i*BN),o&&c.internals.rootParentIndex!==void 0&&(o.i=c.internals.rootParentIndex);const h=s?x0:0,{x:f,y:d,z:m}=QN(e,c,i,l,h),{positionAbsolute:x}=e.internals,v=f!==x.x||d!==x.y;(v||m!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:f,y:d}:x,z:m}})}function v0(e,t){return(ct(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function QN(e,t,n,r,o){const{x:s,y:i}=t.internals.positionAbsolute,l=Ot(e),a=Do(e,n),c=mr(e.extent)?Pn(a,e.extent,l):a;let h=Pn({x:s+c.x,y:i+c.y},r,l);e.extent==="parent"&&(h=l0(h,l,t));const f=v0(e,o),d=t.internals.z??0;return{x:h.x,y:h.y,z:d>=f?d+1:f}}function Bu(e,t,n,r=[0,0]){var i;const o=[],s=new Map;for(const l of e){const a=t.get(l.parentId);if(!a)continue;const c=((i=s.get(l.parentId))==null?void 0:i.expandedRect)??gr(a),h=u0(c,l.rect);s.set(l.parentId,{expandedRect:h,parent:a})}return s.size>0&&s.forEach(({expandedRect:l,parent:a},c)=>{var p;const h=a.internals.positionAbsolute,f=Ot(a),d=a.origin??r,m=l.x<h.x?Math.round(Math.abs(h.x-l.x)):0,x=l.y<h.y?Math.round(Math.abs(h.y-l.y)):0,v=Math.max(f.width,Math.round(l.width)),N=Math.max(f.height,Math.round(l.height)),g=(v-f.width)*d[0],y=(N-f.height)*d[1];(m>0||x>0||g||y)&&(o.push({id:c,type:"position",position:{x:a.position.x-m+g,y:a.position.y-x+y}}),(p=n.get(c))==null||p.forEach(w=>{e.some(S=>S.id===w.id)||o.push({id:w.id,type:"position",position:{x:w.position.x+m,y:w.position.y+x}})})),(f.width<l.width||f.height<l.height||m||x)&&o.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:v+(m?d[0]*m-g:0),height:N+(x?d[1]*x-y:0)}})}),o}function GN(e,t,n,r,o,s){const i=r==null?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!i)return{changes:[],updatedInternals:l};const a=[],c=window.getComputedStyle(i),{m22:h}=new window.DOMMatrixReadOnly(c.transform),f=[];for(const d of e.values()){const m=t.get(d.id);if(!m)continue;if(m.hidden){t.set(m.id,{...m,internals:{...m.internals,handleBounds:void 0}}),l=!0;continue}const x=Au(d.nodeElement),v=m.measured.width!==x.width||m.measured.height!==x.height;if(!!(x.width&&x.height&&(v||!m.internals.handleBounds||d.force))){const g=d.nodeElement.getBoundingClientRect(),y=mr(m.extent)?m.extent:s;let{positionAbsolute:p}=m.internals;m.parentId&&m.extent==="parent"?p=l0(p,x,t.get(m.parentId)):y&&(p=Pn(p,y,x));const w={...m,measured:x,internals:{...m.internals,positionAbsolute:p,handleBounds:{source:jd("source",d.nodeElement,g,h,m.id),target:jd("target",d.nodeElement,g,h,m.id)}}};t.set(m.id,w),m.parentId&&Vu(w,t,n,{nodeOrigin:o}),l=!0,v&&(a.push({id:m.id,type:"dimensions",dimensions:x}),m.expandParent&&m.parentId&&f.push({id:m.id,parentId:m.parentId,rect:gr(w,o)}))}}if(f.length>0){const d=Bu(f,t,n,o);a.push(...d)}return{changes:a,updatedInternals:l}}async function KN({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const i=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,s]],r),l=!!i&&(i.x!==n[0]||i.y!==n[1]||i.k!==n[2]);return Promise.resolve(l)}function Ld(e,t,n,r,o,s){let i=o;const l=r.get(i)||new Map;r.set(i,l.set(n,t)),i=`${o}-${e}`;const a=r.get(i)||new Map;if(r.set(i,a.set(n,t)),s){i=`${o}-${e}-${s}`;const c=r.get(i)||new Map;r.set(i,c.set(n,t))}}function w0(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:s,sourceHandle:i=null,targetHandle:l=null}=r,a={edgeId:r.id,source:o,target:s,sourceHandle:i,targetHandle:l},c=`${o}-${i}--${s}-${l}`,h=`${s}-${l}--${o}-${i}`;Ld("source",a,h,e,o,i),Ld("target",a,c,e,s,l),t.set(r.id,r)}}function N0(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:N0(n,t):!1}function Dd(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function ZN(e,t,n,r){const o=new Map;for(const[s,i]of e)if((i.selected||i.id===r)&&(!i.parentId||!N0(i,e))&&(i.draggable||t&&typeof i.draggable>"u")){const l=e.get(s);l&&o.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return o}function wl({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var i,l,a;const o=[];for(const[c,h]of t){const f=(i=n.get(c))==null?void 0:i.internals.userNode;f&&o.push({...f,position:h.position,dragging:r})}if(!e)return[o[0],o];const s=(l=n.get(e))==null?void 0:l.internals.userNode;return[s?{...s,position:((a=t.get(e))==null?void 0:a.position)||s.position,dragging:r}:o[0],o]}function qN({dragItems:e,snapGrid:t,x:n,y:r}){const o=e.values().next().value;if(!o)return null;const s={x:n-o.distance.x,y:r-o.distance.y},i=Ro(s,t);return{x:i.x-s.x,y:i.y-s.y}}function JN({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let s={x:null,y:null},i=0,l=new Map,a=!1,c={x:0,y:0},h=null,f=!1,d=null,m=!1,x=!1,v=null;function N({noDragClassName:y,handleSelector:p,domNode:w,isSelectable:S,nodeId:k,nodeClickDistance:E=0}){d=We(w);function P({x:D,y:A}){const{nodeLookup:b,nodeExtent:z,snapGrid:T,snapToGrid:M,nodeOrigin:_,onNodeDrag:j,onSelectionDrag:$,onError:F,updateNodePositions:O}=t();s={x:D,y:A};let B=!1;const U=l.size>1,Q=U&&z?Ca(Ao(l)):null,G=U&&M?qN({dragItems:l,snapGrid:T,x:D,y:A}):null;for(const[X,V]of l){if(!b.has(X))continue;let K={x:D-V.distance.x,y:A-V.distance.y};M&&(K=G?{x:Math.round(K.x+G.x),y:Math.round(K.y+G.y)}:Ro(K,T));let ee=null;if(U&&z&&!V.extent&&Q){const{positionAbsolute:Z}=V.internals,te=Z.x-Q.x+z[0][0],ae=Z.x+V.measured.width-Q.x2+z[1][0],se=Z.y-Q.y+z[0][1],Ee=Z.y+V.measured.height-Q.y2+z[1][1];ee=[[te,se],[ae,Ee]]}const{position:J,positionAbsolute:q}=i0({nodeId:X,nextPosition:K,nodeLookup:b,nodeExtent:ee||z,nodeOrigin:_,onError:F});B=B||V.position.x!==J.x||V.position.y!==J.y,V.position=J,V.internals.positionAbsolute=q}if(x=x||B,!!B&&(O(l,!0),v&&(r||j||!k&&$))){const[X,V]=wl({nodeId:k,dragItems:l,nodeLookup:b});r==null||r(v,l,X,V),j==null||j(v,X,V),k||$==null||$(v,V)}}async function I(){if(!h)return;const{transform:D,panBy:A,autoPanSpeed:b,autoPanOnNodeDrag:z}=t();if(!z){a=!1,cancelAnimationFrame(i);return}const[T,M]=a0(c,h,b);(T!==0||M!==0)&&(s.x=(s.x??0)-T/D[2],s.y=(s.y??0)-M/D[2],await A({x:T,y:M})&&P(s)),i=requestAnimationFrame(I)}function R(D){var U;const{nodeLookup:A,multiSelectionActive:b,nodesDraggable:z,transform:T,snapGrid:M,snapToGrid:_,selectNodesOnDrag:j,onNodeDragStart:$,onSelectionDragStart:F,unselectNodesAndEdges:O}=t();f=!0,(!j||!S)&&!b&&k&&((U=A.get(k))!=null&&U.selected||O()),S&&j&&k&&(e==null||e(k));const B=eo(D.sourceEvent,{transform:T,snapGrid:M,snapToGrid:_,containerBounds:h});if(s=B,l=ZN(A,z,B,k),l.size>0&&(n||$||!k&&F)){const[Q,G]=wl({nodeId:k,dragItems:l,nodeLookup:A});n==null||n(D.sourceEvent,l,Q,G),$==null||$(D.sourceEvent,Q,G),k||F==null||F(D.sourceEvent,G)}}const L=Fp().clickDistance(E).on("start",D=>{const{domNode:A,nodeDragThreshold:b,transform:z,snapGrid:T,snapToGrid:M}=t();h=(A==null?void 0:A.getBoundingClientRect())||null,m=!1,x=!1,v=D.sourceEvent,b===0&&R(D),s=eo(D.sourceEvent,{transform:z,snapGrid:T,snapToGrid:M,containerBounds:h}),c=dt(D.sourceEvent,h)}).on("drag",D=>{const{autoPanOnNodeDrag:A,transform:b,snapGrid:z,snapToGrid:T,nodeDragThreshold:M,nodeLookup:_}=t(),j=eo(D.sourceEvent,{transform:b,snapGrid:z,snapToGrid:T,containerBounds:h});if(v=D.sourceEvent,(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1||k&&!_.has(k))&&(m=!0),!m){if(!a&&A&&f&&(a=!0,I()),!f){const $=dt(D.sourceEvent,h),F=$.x-c.x,O=$.y-c.y;Math.sqrt(F*F+O*O)>M&&R(D)}(s.x!==j.xSnapped||s.y!==j.ySnapped)&&l&&f&&(c=dt(D.sourceEvent,h),P(j))}}).on("end",D=>{if(!(!f||m)&&(a=!1,f=!1,cancelAnimationFrame(i),l.size>0)){const{nodeLookup:A,updateNodePositions:b,onNodeDragStop:z,onSelectionDragStop:T}=t();if(x&&(b(l,!1),x=!1),o||z||!k&&T){const[M,_]=wl({nodeId:k,dragItems:l,nodeLookup:A,dragging:!1});o==null||o(D.sourceEvent,l,M,_),z==null||z(D.sourceEvent,M,_),k||T==null||T(D.sourceEvent,_)}}}).filter(D=>{const A=D.target;return!D.button&&(!y||!Dd(A,`.${y}`,w))&&(!p||Dd(A,p,w))});d.call(L)}function g(){d==null||d.on(".drag",null)}return{update:N,destroy:g}}function eS(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Eo(o,gr(s))>0&&r.push(s);return r}const tS=250;function nS(e,t,n,r){var l,a;let o=[],s=1/0;const i=eS(e,n,t+tS);for(const c of i){const h=[...((l=c.internals.handleBounds)==null?void 0:l.source)??[],...((a=c.internals.handleBounds)==null?void 0:a.target)??[]];for(const f of h){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:d,y:m}=Co(c,f,f.position,!0),x=Math.sqrt(Math.pow(d-e.x,2)+Math.pow(m-e.y,2));x>t||(x<s?(o=[{...f,x:d,y:m}],s=x):x===s&&o.push({...f,x:d,y:m}))}}if(!o.length)return null;if(o.length>1){const c=r.type==="source"?"target":"source";return o.find(h=>h.type===c)??o[0]}return o[0]}function S0(e,t,n,r,o,s=!1){var c,h,f;const i=r.get(e);if(!i)return null;const l=o==="strict"?(c=i.internals.handleBounds)==null?void 0:c[t]:[...((h=i.internals.handleBounds)==null?void 0:h.source)??[],...((f=i.internals.handleBounds)==null?void 0:f.target)??[]],a=(n?l==null?void 0:l.find(d=>d.id===n):l==null?void 0:l[0])??null;return a&&s?{...a,...Co(i,a,a.position,!0)}:a}function k0(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function rS(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const _0=()=>!0;function oS(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:s,isTarget:i,domNode:l,nodeLookup:a,lib:c,autoPanOnConnect:h,flowId:f,panBy:d,cancelConnection:m,onConnectStart:x,onConnect:v,onConnectEnd:N,isValidConnection:g=_0,onReconnectEnd:y,updateConnection:p,getTransform:w,getFromHandle:S,autoPanSpeed:k,dragThreshold:E=1,handleDomNode:P}){const I=f0(e.target);let R=0,L;const{x:D,y:A}=dt(e),b=k0(s,P),z=l==null?void 0:l.getBoundingClientRect();let T=!1;if(!z||!b)return;const M=S0(o,b,r,a,t);if(!M)return;let _=dt(e,z),j=!1,$=null,F=!1,O=null;function B(){if(!h||!z)return;const[J,q]=a0(_,z,k);d({x:J,y:q}),R=requestAnimationFrame(B)}const U={...M,nodeId:o,type:b,position:M.position},Q=a.get(o);let X={inProgress:!0,isValid:null,from:Co(Q,U,Y.Left,!0),fromHandle:U,fromPosition:U.position,fromNode:Q,to:_,toHandle:null,toPosition:_d[U.position],toNode:null};function V(){T=!0,p(X),x==null||x(e,{nodeId:o,handleId:r,handleType:b})}E===0&&V();function K(J){if(!T){const{x:ae,y:se}=dt(J),Ee=ae-D,bt=se-A;if(!(Ee*Ee+bt*bt>E*E))return;V()}if(!S()||!U){ee(J);return}const q=w();_=dt(J,z),L=nS(Fo(_,q,!1,[1,1]),n,a,U),j||(B(),j=!0);const Z=E0(J,{handle:L,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:i?"target":"source",isValidConnection:g,doc:I,lib:c,flowId:f,nodeLookup:a});O=Z.handleDomNode,$=Z.connection,F=rS(!!L,Z.isValid);const te={...X,isValid:F,to:Z.toHandle&&F?fi({x:Z.toHandle.x,y:Z.toHandle.y},q):_,toHandle:Z.toHandle,toPosition:F&&Z.toHandle?Z.toHandle.position:_d[U.position],toNode:Z.toHandle?a.get(Z.toHandle.nodeId):null};F&&L&&X.toHandle&&te.toHandle&&X.toHandle.type===te.toHandle.type&&X.toHandle.nodeId===te.toHandle.nodeId&&X.toHandle.id===te.toHandle.id&&X.to.x===te.to.x&&X.to.y===te.to.y||(p(te),X=te)}function ee(J){if(!("touches"in J&&J.touches.length>0)){if(T){(L||O)&&$&&F&&(v==null||v($));const{inProgress:q,...Z}=X,te={...Z,toPosition:X.toHandle?X.toPosition:null};N==null||N(J,te),s&&(y==null||y(J,te))}m(),cancelAnimationFrame(R),j=!1,F=!1,$=null,O=null,I.removeEventListener("mousemove",K),I.removeEventListener("mouseup",ee),I.removeEventListener("touchmove",K),I.removeEventListener("touchend",ee)}}I.addEventListener("mousemove",K),I.addEventListener("mouseup",ee),I.addEventListener("touchmove",K),I.addEventListener("touchend",ee)}function E0(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:s,doc:i,lib:l,flowId:a,isValidConnection:c=_0,nodeLookup:h}){const f=s==="target",d=t?i.querySelector(`.${l}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:m,y:x}=dt(e),v=i.elementFromPoint(m,x),N=v!=null&&v.classList.contains(`${l}-flow__handle`)?v:d,g={handleDomNode:N,isValid:!1,connection:null,toHandle:null};if(N){const y=k0(void 0,N),p=N.getAttribute("data-nodeid"),w=N.getAttribute("data-handleid"),S=N.classList.contains("connectable"),k=N.classList.contains("connectableend");if(!p||!y)return g;const E={source:f?p:r,sourceHandle:f?w:o,target:f?r:p,targetHandle:f?o:w};g.connection=E;const I=S&&k&&(n===hr.Strict?f&&y==="source"||!f&&y==="target":p!==r||w!==o);g.isValid=I&&c(E),g.toHandle=S0(p,y,w,h,n,!0)}return g}const Ta={onPointerDown:oS,isValid:E0};function sS({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=We(e);function s({translateExtent:l,width:a,height:c,zoomStep:h=1,pannable:f=!0,zoomable:d=!0,inversePan:m=!1}){const x=p=>{if(p.sourceEvent.type!=="wheel"||!t)return;const w=n(),S=p.sourceEvent.ctrlKey&&bo()?10:1,k=-p.sourceEvent.deltaY*(p.sourceEvent.deltaMode===1?.05:p.sourceEvent.deltaMode?1:.002)*h,E=w[2]*Math.pow(2,k*S);t.scaleTo(E)};let v=[0,0];const N=p=>{(p.sourceEvent.type==="mousedown"||p.sourceEvent.type==="touchstart")&&(v=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY])},g=p=>{const w=n();if(p.sourceEvent.type!=="mousemove"&&p.sourceEvent.type!=="touchmove"||!t)return;const S=[p.sourceEvent.clientX??p.sourceEvent.touches[0].clientX,p.sourceEvent.clientY??p.sourceEvent.touches[0].clientY],k=[S[0]-v[0],S[1]-v[1]];v=S;const E=r()*Math.max(w[2],Math.log(w[2]))*(m?-1:1),P={x:w[0]-k[0]*E,y:w[1]-k[1]*E},I=[[0,0],[a,c]];t.setViewportConstrained({x:P.x,y:P.y,zoom:w[2]},I,l)},y=e0().on("start",N).on("zoom",f?g:null).on("zoom.wheel",d?x:null);o.call(y,{})}function i(){o.on("zoom",null)}return{update:s,destroy:i,pointer:lt}}const Ai=e=>({x:e.x,y:e.y,zoom:e.k}),Nl=({x:e,y:t,zoom:n})=>zi.translate(e,t).scale(n),Qn=(e,t)=>e.target.closest(`.${t}`),b0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),iS=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Sl=(e,t=0,n=iS,r=()=>{})=>{const o=typeof t=="number"&&t>0;return o||r(),o?e.transition().duration(t).ease(n).on("end",r):e},C0=e=>{const t=e.ctrlKey&&bo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function lS({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:i,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:c}){return h=>{if(Qn(h,t))return h.ctrlKey&&h.preventDefault(),!1;h.preventDefault(),h.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(h.ctrlKey&&i){const N=lt(h),g=C0(h),y=f*Math.pow(2,g);r.scaleTo(n,y,N,h);return}const d=h.deltaMode===1?20:1;let m=o===Sn.Vertical?0:h.deltaX*d,x=o===Sn.Horizontal?0:h.deltaY*d;!bo()&&h.shiftKey&&o!==Sn.Vertical&&(m=h.deltaY*d,x=0),r.translateBy(n,-(m/f)*s,-(x/f)*s,{internal:!0});const v=Ai(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(a==null||a(h,v),e.panScrollTimeout=setTimeout(()=>{c==null||c(h,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,l==null||l(h,v))}}function aS({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const s=r.type==="wheel",i=!t&&s&&!r.ctrlKey,l=Qn(r,e);if(r.ctrlKey&&s&&l&&r.preventDefault(),i||l)return null;r.preventDefault(),n.call(this,r,o)}}function uS({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var s,i,l;if((s=r.sourceEvent)!=null&&s.internal)return;const o=Ai(r.transform);e.mouseButton=((i=r.sourceEvent)==null?void 0:i.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((l=r.sourceEvent)==null?void 0:l.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function cS({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return s=>{var i,l;e.usedRightMouseButton=!!(n&&b0(t,e.mouseButton??0)),(i=s.sourceEvent)!=null&&i.sync||r([s.transform.x,s.transform.y,s.transform.k]),o&&!((l=s.sourceEvent)!=null&&l.internal)&&(o==null||o(s.sourceEvent,Ai(s.transform)))}}function dS({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:s}){return i=>{var l;if(!((l=i.sourceEvent)!=null&&l.internal)&&(e.isZoomingOrPanning=!1,s&&b0(t,e.mouseButton??0)&&!e.usedRightMouseButton&&i.sourceEvent&&s(i.sourceEvent),e.usedRightMouseButton=!1,r(!1),o)){const a=Ai(i.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(i.sourceEvent,a)},n?150:0)}}}function fS({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:i,noWheelClassName:l,noPanClassName:a,lib:c,connectionInProgress:h}){return f=>{var N;const d=e||t,m=n&&f.ctrlKey,x=f.type==="wheel";if(f.button===1&&f.type==="mousedown"&&(Qn(f,`${c}-flow__node`)||Qn(f,`${c}-flow__edge`)))return!0;if(!r&&!d&&!o&&!s&&!n||i||h&&!x||Qn(f,l)&&x||Qn(f,a)&&(!x||o&&x&&!e)||!n&&f.ctrlKey&&x)return!1;if(!n&&f.type==="touchstart"&&((N=f.touches)==null?void 0:N.length)>1)return f.preventDefault(),!1;if(!d&&!o&&!m&&x||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||x)&&v}}function hS({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:o,onPanZoom:s,onPanZoomStart:i,onPanZoomEnd:l,onDraggingChange:a}){const c={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),f=e0().scaleExtent([t,n]).translateExtent(r),d=We(e).call(f);y({x:o.x,y:o.y,zoom:pr(o.zoom,t,n)},[[0,0],[h.width,h.height]],r);const m=d.on("wheel.zoom"),x=d.on("dblclick.zoom");f.wheelDelta(C0);function v(L,D){return d?new Promise(A=>{f==null||f.interpolate((D==null?void 0:D.interpolate)==="linear"?Jr:Ms).transform(Sl(d,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>A(!0)),L)}):Promise.resolve(!1)}function N({noWheelClassName:L,noPanClassName:D,onPaneContextMenu:A,userSelectionActive:b,panOnScroll:z,panOnDrag:T,panOnScrollMode:M,panOnScrollSpeed:_,preventScrolling:j,zoomOnPinch:$,zoomOnScroll:F,zoomOnDoubleClick:O,zoomActivationKeyPressed:B,lib:U,onTransformChange:Q,connectionInProgress:G,paneClickDistance:X,selectionOnDrag:V}){b&&!c.isZoomingOrPanning&&g();const K=z&&!B&&!b;f.clickDistance(V?1/0:!ct(X)||X<0?0:X);const ee=K?lS({zoomPanValues:c,noWheelClassName:L,d3Selection:d,d3Zoom:f,panOnScrollMode:M,panOnScrollSpeed:_,zoomOnPinch:$,onPanZoomStart:i,onPanZoom:s,onPanZoomEnd:l}):aS({noWheelClassName:L,preventScrolling:j,d3ZoomHandler:m});if(d.on("wheel.zoom",ee,{passive:!1}),!b){const q=uS({zoomPanValues:c,onDraggingChange:a,onPanZoomStart:i});f.on("start",q);const Z=cS({zoomPanValues:c,panOnDrag:T,onPaneContextMenu:!!A,onPanZoom:s,onTransformChange:Q});f.on("zoom",Z);const te=dS({zoomPanValues:c,panOnDrag:T,panOnScroll:z,onPaneContextMenu:A,onPanZoomEnd:l,onDraggingChange:a});f.on("end",te)}const J=fS({zoomActivationKeyPressed:B,panOnDrag:T,zoomOnScroll:F,panOnScroll:z,zoomOnDoubleClick:O,zoomOnPinch:$,userSelectionActive:b,noPanClassName:D,noWheelClassName:L,lib:U,connectionInProgress:G});f.filter(J),O?d.on("dblclick.zoom",x):d.on("dblclick.zoom",null)}function g(){f.on("zoom",null)}async function y(L,D,A){const b=Nl(L),z=f==null?void 0:f.constrain()(b,D,A);return z&&await v(z),new Promise(T=>T(z))}async function p(L,D){const A=Nl(L);return await v(A,D),new Promise(b=>b(A))}function w(L){if(d){const D=Nl(L),A=d.property("__zoom");(A.k!==L.zoom||A.x!==L.x||A.y!==L.y)&&(f==null||f.transform(d,D,null,{sync:!0}))}}function S(){const L=d?Jp(d.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function k(L,D){return d?new Promise(A=>{f==null||f.interpolate((D==null?void 0:D.interpolate)==="linear"?Jr:Ms).scaleTo(Sl(d,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>A(!0)),L)}):Promise.resolve(!1)}function E(L,D){return d?new Promise(A=>{f==null||f.interpolate((D==null?void 0:D.interpolate)==="linear"?Jr:Ms).scaleBy(Sl(d,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>A(!0)),L)}):Promise.resolve(!1)}function P(L){f==null||f.scaleExtent(L)}function I(L){f==null||f.translateExtent(L)}function R(L){const D=!ct(L)||L<0?0:L;f==null||f.clickDistance(D)}return{update:N,destroy:g,setViewport:p,setViewportConstrained:y,getViewport:S,scaleTo:k,scaleBy:E,setScaleExtent:P,setTranslateExtent:I,syncViewport:w,setClickDistance:R}}var yr;(function(e){e.Line="line",e.Handle="handle"})(yr||(yr={}));function pS({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:s}){const i=e-t,l=n-r,a=[i>0?1:i<0?-1:0,l>0?1:l<0?-1:0];return i&&o&&(a[0]=a[0]*-1),l&&s&&(a[1]=a[1]*-1),a}function Ad(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function Vt(e,t){return Math.max(0,t-e)}function Bt(e,t){return Math.max(0,e-t)}function hs(e,t,n){return Math.max(0,t-e,e-n)}function Rd(e,t){return e?!t:t}function gS(e,t,n,r,o,s,i,l){let{affectsX:a,affectsY:c}=t;const{isHorizontal:h,isVertical:f}=t,d=h&&f,{xSnapped:m,ySnapped:x}=n,{minWidth:v,maxWidth:N,minHeight:g,maxHeight:y}=r,{x:p,y:w,width:S,height:k,aspectRatio:E}=e;let P=Math.floor(h?m-e.pointerX:0),I=Math.floor(f?x-e.pointerY:0);const R=S+(a?-P:P),L=k+(c?-I:I),D=-s[0]*S,A=-s[1]*k;let b=hs(R,v,N),z=hs(L,g,y);if(i){let _=0,j=0;a&&P<0?_=Vt(p+P+D,i[0][0]):!a&&P>0&&(_=Bt(p+R+D,i[1][0])),c&&I<0?j=Vt(w+I+A,i[0][1]):!c&&I>0&&(j=Bt(w+L+A,i[1][1])),b=Math.max(b,_),z=Math.max(z,j)}if(l){let _=0,j=0;a&&P>0?_=Bt(p+P,l[0][0]):!a&&P<0&&(_=Vt(p+R,l[1][0])),c&&I>0?j=Bt(w+I,l[0][1]):!c&&I<0&&(j=Vt(w+L,l[1][1])),b=Math.max(b,_),z=Math.max(z,j)}if(o){if(h){const _=hs(R/E,g,y)*E;if(b=Math.max(b,_),i){let j=0;!a&&!c||a&&!c&&d?j=Bt(w+A+R/E,i[1][1])*E:j=Vt(w+A+(a?P:-P)/E,i[0][1])*E,b=Math.max(b,j)}if(l){let j=0;!a&&!c||a&&!c&&d?j=Vt(w+R/E,l[1][1])*E:j=Bt(w+(a?P:-P)/E,l[0][1])*E,b=Math.max(b,j)}}if(f){const _=hs(L*E,v,N)/E;if(z=Math.max(z,_),i){let j=0;!a&&!c||c&&!a&&d?j=Bt(p+L*E+D,i[1][0])/E:j=Vt(p+(c?I:-I)*E+D,i[0][0])/E,z=Math.max(z,j)}if(l){let j=0;!a&&!c||c&&!a&&d?j=Vt(p+L*E,l[1][0])/E:j=Bt(p+(c?I:-I)*E,l[0][0])/E,z=Math.max(z,j)}}}I=I+(I<0?z:-z),P=P+(P<0?b:-b),o&&(d?R>L*E?I=(Rd(a,c)?-P:P)/E:P=(Rd(a,c)?-I:I)*E:h?(I=P/E,c=a):(P=I*E,a=c));const T=a?p+P:p,M=c?w+I:w;return{width:S+(a?-P:P),height:k+(c?-I:I),x:s[0]*P*(a?-1:1)+T,y:s[1]*I*(c?-1:1)+M}}const j0={width:0,height:0,x:0,y:0},mS={...j0,pointerX:0,pointerY:0,aspectRatio:1};function yS(e){return[[0,0],[e.measured.width,e.measured.height]]}function xS(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,s=e.measured.width??0,i=e.measured.height??0,l=n[0]*s,a=n[1]*i;return[[r-l,o-a],[r+s-l,o+i-a]]}function vS({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const s=We(e);let i={controlDirection:Ad("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function l({controlPosition:c,boundaries:h,keepAspectRatio:f,resizeDirection:d,onResizeStart:m,onResize:x,onResizeEnd:v,shouldResize:N}){let g={...j0},y={...mS};i={boundaries:h,resizeDirection:d,keepAspectRatio:f,controlDirection:Ad(c)};let p,w=null,S=[],k,E,P,I=!1;const R=Fp().on("start",L=>{const{nodeLookup:D,transform:A,snapGrid:b,snapToGrid:z,nodeOrigin:T,paneDomNode:M}=n();if(p=D.get(t),!p)return;w=(M==null?void 0:M.getBoundingClientRect())??null;const{xSnapped:_,ySnapped:j}=eo(L.sourceEvent,{transform:A,snapGrid:b,snapToGrid:z,containerBounds:w});g={width:p.measured.width??0,height:p.measured.height??0,x:p.position.x??0,y:p.position.y??0},y={...g,pointerX:_,pointerY:j,aspectRatio:g.width/g.height},k=void 0,p.parentId&&(p.extent==="parent"||p.expandParent)&&(k=D.get(p.parentId),E=k&&p.extent==="parent"?yS(k):void 0),S=[],P=void 0;for(const[$,F]of D)if(F.parentId===t&&(S.push({id:$,position:{...F.position},extent:F.extent}),F.extent==="parent"||F.expandParent)){const O=xS(F,p,F.origin??T);P?P=[[Math.min(O[0][0],P[0][0]),Math.min(O[0][1],P[0][1])],[Math.max(O[1][0],P[1][0]),Math.max(O[1][1],P[1][1])]]:P=O}m==null||m(L,{...g})}).on("drag",L=>{const{transform:D,snapGrid:A,snapToGrid:b,nodeOrigin:z}=n(),T=eo(L.sourceEvent,{transform:D,snapGrid:A,snapToGrid:b,containerBounds:w}),M=[];if(!p)return;const{x:_,y:j,width:$,height:F}=g,O={},B=p.origin??z,{width:U,height:Q,x:G,y:X}=gS(y,i.controlDirection,T,i.boundaries,i.keepAspectRatio,B,E,P),V=U!==$,K=Q!==F,ee=G!==_&&V,J=X!==j&&K;if(!ee&&!J&&!V&&!K)return;if((ee||J||B[0]===1||B[1]===1)&&(O.x=ee?G:g.x,O.y=J?X:g.y,g.x=O.x,g.y=O.y,S.length>0)){const ae=G-_,se=X-j;for(const Ee of S)Ee.position={x:Ee.position.x-ae+B[0]*(U-$),y:Ee.position.y-se+B[1]*(Q-F)},M.push(Ee)}if((V||K)&&(O.width=V&&(!i.resizeDirection||i.resizeDirection==="horizontal")?U:g.width,O.height=K&&(!i.resizeDirection||i.resizeDirection==="vertical")?Q:g.height,g.width=O.width,g.height=O.height),k&&p.expandParent){const ae=B[0]*(O.width??0);O.x&&O.x<ae&&(g.x=ae,y.x=y.x-(O.x-ae));const se=B[1]*(O.height??0);O.y&&O.y<se&&(g.y=se,y.y=y.y-(O.y-se))}const q=pS({width:g.width,prevWidth:$,height:g.height,prevHeight:F,affectsX:i.controlDirection.affectsX,affectsY:i.controlDirection.affectsY}),Z={...g,direction:q};(N==null?void 0:N(L,Z))!==!1&&(I=!0,x==null||x(L,Z),r(O,M))}).on("end",L=>{I&&(v==null||v(L,{...g}),o==null||o({...g}),I=!1)});s.call(R)}function a(){s.on(".drag",null)}return{update:l,destroy:a}}var M0={exports:{}},P0={},T0={exports:{}},I0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=C;function wS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NS=typeof Object.is=="function"?Object.is:wS,SS=xr.useState,kS=xr.useEffect,_S=xr.useLayoutEffect,ES=xr.useDebugValue;function bS(e,t){var n=t(),r=SS({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return _S(function(){o.value=n,o.getSnapshot=t,kl(o)&&s({inst:o})},[e,n,t]),kS(function(){return kl(o)&&s({inst:o}),e(function(){kl(o)&&s({inst:o})})},[e]),ES(n),n}function kl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!NS(e,n)}catch{return!0}}function CS(e,t){return t()}var jS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?CS:bS;I0.useSyncExternalStore=xr.useSyncExternalStore!==void 0?xr.useSyncExternalStore:jS;T0.exports=I0;var MS=T0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ri=C,PS=MS;function TS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IS=typeof Object.is=="function"?Object.is:TS,$S=PS.useSyncExternalStore,zS=Ri.useRef,LS=Ri.useEffect,DS=Ri.useMemo,AS=Ri.useDebugValue;P0.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=zS(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=DS(function(){function a(m){if(!c){if(c=!0,h=m,m=r(m),o!==void 0&&i.hasValue){var x=i.value;if(o(x,m))return f=x}return f=m}if(x=f,IS(h,m))return x;var v=r(m);return o!==void 0&&o(x,v)?(h=m,x):(h=m,f=v)}var c=!1,h,f,d=n===void 0?null:n;return[function(){return a(t())},d===null?void 0:function(){return a(d())}]},[t,n,r,o]);var l=$S(e,s[0],s[1]);return LS(function(){i.hasValue=!0,i.value=l},[l]),AS(l),l};M0.exports=P0;var RS=M0.exports;const FS=cf(RS),OS={},Fd=e=>{let t;const n=new Set,r=(h,f)=>{const d=typeof h=="function"?h(t):h;if(!Object.is(d,t)){const m=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(x=>x(t,m))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(OS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,o,a);return a},HS=e=>e?Fd(e):Fd,{useDebugValue:VS}=Nf,{useSyncExternalStoreWithSelector:BS}=FS,US=e=>e;function $0(e,t=US,n){const r=BS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return VS(r),r}const Od=(e,t)=>{const n=HS(e),r=(o,s=t)=>$0(n,o,s);return Object.assign(r,n),r},WS=(e,t)=>e?Od(e,t):Od;function me(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Fi=C.createContext(null),YS=Fi.Provider,z0=_t.error001();function re(e,t){const n=C.useContext(Fi);if(n===null)throw new Error(z0);return $0(n,e,t)}function fe(){const e=C.useContext(Fi);if(e===null)throw new Error(z0);return C.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Hd={display:"none"},XS={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},L0="react-flow__node-desc",D0="react-flow__edge-desc",QS="react-flow__aria-live",GS=e=>e.ariaLiveMessage,KS=e=>e.ariaLabelConfig;function ZS({rfId:e}){const t=re(GS);return u.jsx("div",{id:`${QS}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:XS,children:t})}function qS({rfId:e,disableKeyboardA11y:t}){const n=re(KS);return u.jsxs(u.Fragment,{children:[u.jsx("div",{id:`${L0}-${e}`,style:Hd,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),u.jsx("div",{id:`${D0}-${e}`,style:Hd,children:n["edge.a11yDescription.default"]}),!t&&u.jsx(ZS,{rfId:e})]})}const vr=C.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},s)=>{const i=`${e}`.split("-");return u.jsx("div",{className:we(["react-flow__panel",n,...i]),style:r,ref:s,...o,children:t})});vr.displayName="Panel";function JS({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:u.jsx(vr,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const e2=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},ps=e=>e.id;function t2(e,t){return me(e.selectedNodes.map(ps),t.selectedNodes.map(ps))&&me(e.selectedEdges.map(ps),t.selectedEdges.map(ps))}function n2({onSelectionChange:e}){const t=fe(),{selectedNodes:n,selectedEdges:r}=re(e2,t2);return C.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(s=>s(o))},[n,r,e]),null}const r2=e=>!!e.onSelectionChangeHandlers;function o2({onSelectionChange:e}){const t=re(r2);return e||t?u.jsx(n2,{onSelectionChange:e}):null}const A0=[0,0],s2={x:0,y:0,zoom:1},i2=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig"],Vd=[...i2,"rfId"],l2=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Bd={translateExtent:ko,nodeOrigin:A0,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function a2(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:s,setNodeExtent:i,reset:l,setDefaultNodesAndEdges:a}=re(l2,me),c=fe();C.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{h.current=Bd,l()}),[]);const h=C.useRef(Bd);return C.useEffect(()=>{for(const f of Vd){const d=e[f],m=h.current[f];d!==m&&(typeof e[f]>"u"||(f==="nodes"?t(d):f==="edges"?n(d):f==="minZoom"?r(d):f==="maxZoom"?o(d):f==="translateExtent"?s(d):f==="nodeExtent"?i(d):f==="ariaLabelConfig"?c.setState({ariaLabelConfig:IN(d)}):f==="fitView"?c.setState({fitViewQueued:d}):f==="fitViewOptions"?c.setState({fitViewOptions:d}):c.setState({[f]:d})))}h.current=e},Vd.map(f=>e[f])),null}function Ud(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function u2(e){var r;const[t,n]=C.useState(e==="system"?null:e);return C.useEffect(()=>{if(e!=="system"){n(e);return}const o=Ud(),s=()=>n(o!=null&&o.matches?"dark":"light");return s(),o==null||o.addEventListener("change",s),()=>{o==null||o.removeEventListener("change",s)}},[e]),t!==null?t:(r=Ud())!=null&&r.matches?"dark":"light"}const Wd=typeof document<"u"?document:null;function jo(e=null,t={target:Wd,actInsideInputWithModifier:!0}){const[n,r]=C.useState(!1),o=C.useRef(!1),s=C.useRef(new Set([])),[i,l]=C.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+",`
`).replace(`

`,`
+`).split(`
`)),h=c.reduce((f,d)=>f.concat(...d),[]);return[c,h]}return[[],[]]},[e]);return C.useEffect(()=>{const a=(t==null?void 0:t.target)??Wd,c=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const h=m=>{var N,g;if(o.current=m.ctrlKey||m.metaKey||m.shiftKey||m.altKey,(!o.current||o.current&&!c)&&h0(m))return!1;const v=Xd(m.code,l);if(s.current.add(m[v]),Yd(i,s.current,!1)){const y=((g=(N=m.composedPath)==null?void 0:N.call(m))==null?void 0:g[0])||m.target,p=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";t.preventDefault!==!1&&(o.current||!p)&&m.preventDefault(),r(!0)}},f=m=>{const x=Xd(m.code,l);Yd(i,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(m[x]),m.key==="Meta"&&s.current.clear(),o.current=!1},d=()=>{s.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",h),a==null||a.addEventListener("keyup",f),window.addEventListener("blur",d),window.addEventListener("contextmenu",d),()=>{a==null||a.removeEventListener("keydown",h),a==null||a.removeEventListener("keyup",f),window.removeEventListener("blur",d),window.removeEventListener("contextmenu",d)}}},[e,r]),n}function Yd(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Xd(e,t){return t.includes(e)?"code":"key"}const c2=()=>{const e=fe();return C.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,s],panZoom:i}=e.getState();return i?(await i.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:s,maxZoom:i,panZoom:l}=e.getState(),a=Du(t,r,o,s,i,(n==null?void 0:n.padding)??.1);return l?(await l.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:s,domNode:i}=e.getState();if(!i)return t;const{x:l,y:a}=i.getBoundingClientRect(),c={x:t.x-l,y:t.y-a},h=n.snapGrid??o,f=n.snapToGrid??s;return Fo(c,r,f,h)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:s}=r.getBoundingClientRect(),i=fi(t,n);return{x:i.x+o,y:i.y+s}}}),[])};function R0(e,t){const n=[],r=new Map,o=[];for(const s of e)if(s.type==="add"){o.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const i=r.get(s.id);i?i.push(s):r.set(s.id,[s])}for(const s of t){const i=r.get(s.id);if(!i){n.push(s);continue}if(i[0].type==="remove")continue;if(i[0].type==="replace"){n.push({...i[0].item});continue}const l={...s};for(const a of i)d2(a,l);n.push(l)}return o.length&&o.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function d2(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function F0(e,t){return R0(e,t)}function O0(e,t){return R0(e,t)}function pn(e,t){return{id:e,type:"select",selected:t}}function Gn(e,t=new Set,n=!1){const r=[];for(const[o,s]of e){const i=t.has(o);!(s.selected===void 0&&!i)&&s.selected!==i&&(n&&(s.selected=i),r.push(pn(s.id,i)))}return r}function Qd({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(s=>[s.id,s]));for(const[s,i]of e.entries()){const l=t.get(i.id),a=((o=l==null?void 0:l.internals)==null?void 0:o.userNode)??l;a!==void 0&&a!==i&&n.push({id:i.id,item:i,type:"replace"}),a===void 0&&n.push({item:i,type:"add",index:s})}for(const[s]of t)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function Gd(e){return{id:e.id,type:"remove"}}const Kd=e=>SN(e),f2=e=>s0(e);function H0(e){return C.forwardRef(e)}const h2=typeof window<"u"?C.useLayoutEffect:C.useEffect;function Zd(e){const[t,n]=C.useState(BigInt(0)),[r]=C.useState(()=>p2(()=>n(o=>o+BigInt(1))));return h2(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function p2(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const V0=C.createContext(null);function g2({children:e}){const t=fe(),n=C.useCallback(l=>{const{nodes:a=[],setNodes:c,hasDefaultNodes:h,onNodesChange:f,nodeLookup:d,fitViewQueued:m}=t.getState();let x=a;for(const N of l)x=typeof N=="function"?N(x):N;const v=Qd({items:x,lookup:d});h&&c(x),v.length>0?f==null||f(v):m&&window.requestAnimationFrame(()=>{const{fitViewQueued:N,nodes:g,setNodes:y}=t.getState();N&&y(g)})},[]),r=Zd(n),o=C.useCallback(l=>{const{edges:a=[],setEdges:c,hasDefaultEdges:h,onEdgesChange:f,edgeLookup:d}=t.getState();let m=a;for(const x of l)m=typeof x=="function"?x(m):x;h?c(m):f&&f(Qd({items:m,lookup:d}))},[]),s=Zd(o),i=C.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return u.jsx(V0.Provider,{value:i,children:e})}function m2(){const e=C.useContext(V0);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const y2=e=>!!e.panZoom;function kr(){const e=c2(),t=fe(),n=m2(),r=re(y2),o=C.useMemo(()=>{const s=f=>t.getState().nodeLookup.get(f),i=f=>{n.nodeQueue.push(f)},l=f=>{n.edgeQueue.push(f)},a=f=>{var g,y;const{nodeLookup:d,nodeOrigin:m}=t.getState(),x=Kd(f)?f:d.get(f.id),v=x.parentId?d0(x.position,x.measured,x.parentId,d,m):x.position,N={...x,position:v,width:((g=x.measured)==null?void 0:g.width)??x.width,height:((y=x.measured)==null?void 0:y.height)??x.height};return gr(N)},c=(f,d,m={replace:!1})=>{i(x=>x.map(v=>{if(v.id===f){const N=typeof d=="function"?d(v):d;return m.replace&&Kd(N)?N:{...v,...N}}return v}))},h=(f,d,m={replace:!1})=>{l(x=>x.map(v=>{if(v.id===f){const N=typeof d=="function"?d(v):d;return m.replace&&f2(N)?N:{...v,...N}}return v}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var d;return(d=s(f))==null?void 0:d.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(d=>({...d}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:i,setEdges:l,addNodes:f=>{const d=Array.isArray(f)?f:[f];n.nodeQueue.push(m=>[...m,...d])},addEdges:f=>{const d=Array.isArray(f)?f:[f];n.edgeQueue.push(m=>[...m,...d])},toObject:()=>{const{nodes:f=[],edges:d=[],transform:m}=t.getState(),[x,v,N]=m;return{nodes:f.map(g=>({...g})),edges:d.map(g=>({...g})),viewport:{x,y:v,zoom:N}}},deleteElements:async({nodes:f=[],edges:d=[]})=>{const{nodes:m,edges:x,onNodesDelete:v,onEdgesDelete:N,triggerNodeChanges:g,triggerEdgeChanges:y,onDelete:p,onBeforeDelete:w}=t.getState(),{nodes:S,edges:k}=await CN({nodesToRemove:f,edgesToRemove:d,nodes:m,edges:x,onBeforeDelete:w}),E=k.length>0,P=S.length>0;if(E){const I=k.map(Gd);N==null||N(k),y(I)}if(P){const I=S.map(Gd);v==null||v(S),g(I)}return(P||E)&&(p==null||p({nodes:S,edges:k})),{deletedNodes:S,deletedEdges:k}},getIntersectingNodes:(f,d=!0,m)=>{const x=bd(f),v=x?f:a(f),N=m!==void 0;return v?(m||t.getState().nodes).filter(g=>{const y=t.getState().nodeLookup.get(g.id);if(y&&!x&&(g.id===f.id||!y.internals.positionAbsolute))return!1;const p=gr(N?g:y),w=Eo(p,v);return d&&w>0||w>=p.width*p.height||w>=v.width*v.height}):[]},isNodeIntersecting:(f,d,m=!0)=>{const v=bd(f)?f:a(f);if(!v)return!1;const N=Eo(v,d);return m&&N>0||N>=d.width*d.height||N>=v.width*v.height},updateNode:c,updateNodeData:(f,d,m={replace:!1})=>{c(f,x=>{const v=typeof d=="function"?d(x):d;return m.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},m)},updateEdge:h,updateEdgeData:(f,d,m={replace:!1})=>{h(f,x=>{const v=typeof d=="function"?d(x):d;return m.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},m)},getNodesBounds:f=>{const{nodeLookup:d,nodeOrigin:m}=t.getState();return kN(f,{nodeLookup:d,nodeOrigin:m})},getHandleConnections:({type:f,id:d,nodeId:m})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${m}-${f}${d?`-${d}`:""}`))==null?void 0:x.values())??[])},getNodeConnections:({type:f,handleId:d,nodeId:m})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${m}${f?d?`-${f}-${d}`:`-${f}`:""}`))==null?void 0:x.values())??[])},fitView:async f=>{const d=t.getState().fitViewResolver??TN();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:d}),n.nodeQueue.push(m=>[...m]),d.promise}}},[]);return C.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const qd=e=>e.selected,x2=typeof window<"u"?window:void 0;function v2({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=fe(),{deleteElements:r}=kr(),o=jo(e,{actInsideInputWithModifier:!1}),s=jo(t,{target:x2});C.useEffect(()=>{if(o){const{edges:i,nodes:l}=n.getState();r({nodes:l.filter(qd),edges:i.filter(qd)}),n.setState({nodesSelectionActive:!1})}},[o]),C.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function w2(e){const t=fe();C.useEffect(()=>{const n=()=>{var o,s,i,l;if(!e.current||!(((s=(o=e.current).checkVisibility)==null?void 0:s.call(o))??!0))return!1;const r=Au(e.current);(r.height===0||r.width===0)&&((l=(i=t.getState()).onError)==null||l.call(i,"004",_t.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Oi={position:"absolute",width:"100%",height:"100%",top:0,left:0},N2=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function S2({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:s=Sn.Free,zoomOnDoubleClick:i=!0,panOnDrag:l=!0,defaultViewport:a,translateExtent:c,minZoom:h,maxZoom:f,zoomActivationKeyCode:d,preventScrolling:m=!0,children:x,noWheelClassName:v,noPanClassName:N,onViewportChange:g,isControlledViewport:y,paneClickDistance:p,selectionOnDrag:w}){const S=fe(),k=C.useRef(null),{userSelectionActive:E,lib:P,connectionInProgress:I}=re(N2,me),R=jo(d),L=C.useRef();w2(k);const D=C.useCallback(A=>{g==null||g({x:A[0],y:A[1],zoom:A[2]}),y||S.setState({transform:A})},[g,y]);return C.useEffect(()=>{if(k.current){L.current=hS({domNode:k.current,minZoom:h,maxZoom:f,translateExtent:c,viewport:a,onDraggingChange:T=>S.setState({paneDragging:T}),onPanZoomStart:(T,M)=>{const{onViewportChangeStart:_,onMoveStart:j}=S.getState();j==null||j(T,M),_==null||_(M)},onPanZoom:(T,M)=>{const{onViewportChange:_,onMove:j}=S.getState();j==null||j(T,M),_==null||_(M)},onPanZoomEnd:(T,M)=>{const{onViewportChangeEnd:_,onMoveEnd:j}=S.getState();j==null||j(T,M),_==null||_(M)}});const{x:A,y:b,zoom:z}=L.current.getViewport();return S.setState({panZoom:L.current,transform:[A,b,z],domNode:k.current.closest(".react-flow")}),()=>{var T;(T=L.current)==null||T.destroy()}}},[]),C.useEffect(()=>{var A;(A=L.current)==null||A.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:s,zoomOnDoubleClick:i,panOnDrag:l,zoomActivationKeyPressed:R,preventScrolling:m,noPanClassName:N,userSelectionActive:E,noWheelClassName:v,lib:P,onTransformChange:D,connectionInProgress:I,selectionOnDrag:w,paneClickDistance:p})},[e,t,n,r,o,s,i,l,R,m,N,E,v,P,D,I,w,p]),u.jsx("div",{className:"react-flow__renderer",ref:k,style:Oi,children:x})}const k2=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function _2(){const{userSelectionActive:e,userSelectionRect:t}=re(k2,me);return e&&t?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const _l=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},E2=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function b2({isSelecting:e,selectionKeyPressed:t,selectionMode:n=_o.Full,panOnDrag:r,paneClickDistance:o,selectionOnDrag:s,onSelectionStart:i,onSelectionEnd:l,onPaneClick:a,onPaneContextMenu:c,onPaneScroll:h,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:m,children:x}){const v=fe(),{userSelectionActive:N,elementsSelectable:g,dragging:y,connectionInProgress:p}=re(E2,me),w=g&&(e||N),S=C.useRef(null),k=C.useRef(),E=C.useRef(new Set),P=C.useRef(new Set),I=C.useRef(!1),R=_=>{if(I.current||p){I.current=!1;return}a==null||a(_),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},L=_=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){_.preventDefault();return}c==null||c(_)},D=h?_=>h(_):void 0,A=_=>{I.current&&(_.stopPropagation(),I.current=!1)},b=_=>{var Q,G;const{domNode:j}=v.getState();if(k.current=j==null?void 0:j.getBoundingClientRect(),!k.current)return;const $=_.target===S.current;if(!$&&!!_.target.closest(".nokey")||!e||!(s&&$||t)||_.button!==0||!_.isPrimary)return;(G=(Q=_.target)==null?void 0:Q.setPointerCapture)==null||G.call(Q,_.pointerId),I.current=!1;const{x:B,y:U}=dt(_.nativeEvent,k.current);v.setState({userSelectionRect:{width:0,height:0,startX:B,startY:U,x:B,y:U}}),$||(_.stopPropagation(),_.preventDefault())},z=_=>{const{userSelectionRect:j,transform:$,nodeLookup:F,edgeLookup:O,connectionLookup:B,triggerNodeChanges:U,triggerEdgeChanges:Q,defaultEdgeOptions:G,resetSelectedElements:X}=v.getState();if(!k.current||!j)return;const{x:V,y:K}=dt(_.nativeEvent,k.current),{startX:ee,startY:J}=j;if(!I.current){const se=t?0:o;if(Math.hypot(V-ee,K-J)<=se)return;X(),i==null||i(_)}I.current=!0;const q={startX:ee,startY:J,x:V<ee?V:ee,y:K<J?K:J,width:Math.abs(V-ee),height:Math.abs(K-J)},Z=E.current,te=P.current;E.current=new Set(Lu(F,q,$,n===_o.Partial,!0).map(se=>se.id)),P.current=new Set;const ae=(G==null?void 0:G.selectable)??!0;for(const se of E.current){const Ee=B.get(se);if(Ee)for(const{edgeId:bt}of Ee.values()){const dn=O.get(bt);dn&&(dn.selectable??ae)&&P.current.add(bt)}}if(!Cd(Z,E.current)){const se=Gn(F,E.current,!0);U(se)}if(!Cd(te,P.current)){const se=Gn(O,P.current);Q(se)}v.setState({userSelectionRect:q,userSelectionActive:!0,nodesSelectionActive:!1})},T=_=>{var j,$;_.button===0&&(($=(j=_.target)==null?void 0:j.releasePointerCapture)==null||$.call(j,_.pointerId),!N&&_.target===S.current&&v.getState().userSelectionRect&&(R==null||R(_)),v.setState({userSelectionActive:!1,userSelectionRect:null}),I.current&&(l==null||l(_),v.setState({nodesSelectionActive:E.current.size>0})))},M=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:we(["react-flow__pane",{draggable:M,dragging:y,selection:e}]),onClick:w?void 0:_l(R,S),onContextMenu:_l(L,S),onWheel:_l(D,S),onPointerEnter:w?void 0:f,onPointerMove:w?z:d,onPointerUp:w?T:void 0,onPointerDownCapture:w?b:void 0,onClickCapture:w?A:void 0,onPointerLeave:m,ref:S,style:Oi,children:[x,u.jsx(_2,{})]})}function Ia({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:i,nodeLookup:l,onError:a}=t.getState(),c=l.get(e);if(!c){a==null||a("012",_t.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&i)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var h;return(h=r==null?void 0:r.current)==null?void 0:h.blur()})):o([e])}function B0({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:s,nodeClickDistance:i}){const l=fe(),[a,c]=C.useState(!1),h=C.useRef();return C.useEffect(()=>{h.current=JN({getStoreItems:()=>l.getState(),onNodeMouseDown:f=>{Ia({id:f,store:l,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),C.useEffect(()=>{var f,d;if(t)(f=h.current)==null||f.destroy();else if(e.current)return(d=h.current)==null||d.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:s,nodeId:o,nodeClickDistance:i}),()=>{var m;(m=h.current)==null||m.destroy()}},[n,r,t,s,e,o]),a}const C2=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function U0(){const e=fe();return C.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:s,nodesDraggable:i,onError:l,updateNodePositions:a,nodeLookup:c,nodeOrigin:h}=e.getState(),f=new Map,d=C2(i),m=o?s[0]:5,x=o?s[1]:5,v=n.direction.x*m*n.factor,N=n.direction.y*x*n.factor;for(const[,g]of c){if(!d(g))continue;let y={x:g.internals.positionAbsolute.x+v,y:g.internals.positionAbsolute.y+N};o&&(y=Ro(y,s));const{position:p,positionAbsolute:w}=i0({nodeId:g.id,nextPosition:y,nodeLookup:c,nodeExtent:r,nodeOrigin:h,onError:l});g.position=p,g.internals.positionAbsolute=w,f.set(g.id,g)}a(f)},[])}const Uu=C.createContext(null),j2=Uu.Provider;Uu.Consumer;const W0=()=>C.useContext(Uu),M2=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),P2=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:s,connection:i}=r,{fromHandle:l,toHandle:a,isValid:c}=i,h=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n,connectingTo:h,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:s===hr.Strict?(l==null?void 0:l.type)!==n:e!==(l==null?void 0:l.nodeId)||t!==(l==null?void 0:l.id),connectionInProcess:!!l,clickConnectionInProcess:!!o,valid:h&&c}};function T2({type:e="source",position:t=Y.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:i,onConnect:l,children:a,className:c,onMouseDown:h,onTouchStart:f,...d},m){var z,T;const x=i||null,v=e==="target",N=fe(),g=W0(),{connectOnClick:y,noPanClassName:p,rfId:w}=re(M2,me),{connectingFrom:S,connectingTo:k,clickConnecting:E,isPossibleEndHandle:P,connectionInProcess:I,clickConnectionInProcess:R,valid:L}=re(P2(g,x,e),me);g||(T=(z=N.getState()).onError)==null||T.call(z,"010",_t.error010());const D=M=>{const{defaultEdgeOptions:_,onConnect:j,hasDefaultEdges:$}=N.getState(),F={..._,...M};if($){const{edges:O,setEdges:B}=N.getState();B(y0(F,O))}j==null||j(F),l==null||l(F)},A=M=>{if(!g)return;const _=p0(M.nativeEvent);if(o&&(_&&M.button===0||!_)){const j=N.getState();Ta.onPointerDown(M.nativeEvent,{handleDomNode:M.currentTarget,autoPanOnConnect:j.autoPanOnConnect,connectionMode:j.connectionMode,connectionRadius:j.connectionRadius,domNode:j.domNode,nodeLookup:j.nodeLookup,lib:j.lib,isTarget:v,handleId:x,nodeId:g,flowId:j.rfId,panBy:j.panBy,cancelConnection:j.cancelConnection,onConnectStart:j.onConnectStart,onConnectEnd:j.onConnectEnd,updateConnection:j.updateConnection,onConnect:D,isValidConnection:n||j.isValidConnection,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,autoPanSpeed:j.autoPanSpeed,dragThreshold:j.connectionDragThreshold})}_?h==null||h(M):f==null||f(M)},b=M=>{const{onClickConnectStart:_,onClickConnectEnd:j,connectionClickStartHandle:$,connectionMode:F,isValidConnection:O,lib:B,rfId:U,nodeLookup:Q,connection:G}=N.getState();if(!g||!$&&!o)return;if(!$){_==null||_(M.nativeEvent,{nodeId:g,handleId:x,handleType:e}),N.setState({connectionClickStartHandle:{nodeId:g,type:e,id:x}});return}const X=f0(M.target),V=n||O,{connection:K,isValid:ee}=Ta.isValid(M.nativeEvent,{handle:{nodeId:g,id:x,type:e},connectionMode:F,fromNodeId:$.nodeId,fromHandleId:$.id||null,fromType:$.type,isValidConnection:V,flowId:U,doc:X,lib:B,nodeLookup:Q});ee&&K&&D(K);const J=structuredClone(G);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,j==null||j(M,J),N.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":x,"data-nodeid":g,"data-handlepos":t,"data-id":`${w}-${g}-${x}-${e}`,className:we(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",p,c,{source:!v,target:v,connectable:r,connectablestart:o,connectableend:s,clickconnecting:E,connectingfrom:S,connectingto:k,valid:L,connectionindicator:r&&(!I||P)&&(I||R?s:o)}]),onMouseDown:A,onTouchStart:A,onClick:y?b:void 0,ref:m,...d,children:a})}const Le=C.memo(H0(T2));function I2({data:e,isConnectable:t,sourcePosition:n=Y.Bottom}){return u.jsxs(u.Fragment,{children:[e==null?void 0:e.label,u.jsx(Le,{type:"source",position:n,isConnectable:t})]})}function $2({data:e,isConnectable:t,targetPosition:n=Y.Top,sourcePosition:r=Y.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(Le,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,u.jsx(Le,{type:"source",position:r,isConnectable:t})]})}function z2(){return null}function L2({data:e,isConnectable:t,targetPosition:n=Y.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(Le,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const hi={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Jd={input:I2,default:$2,output:L2,group:z2};function D2(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const A2=e=>{const{width:t,height:n,x:r,y:o}=Ao(e.nodeLookup,{filter:s=>!!s.selected});return{width:ct(t)?t:null,height:ct(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function R2({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=fe(),{width:o,height:s,transformString:i,userSelectionActive:l}=re(A2,me),a=U0(),c=C.useRef(null);if(C.useEffect(()=>{var d;n||(d=c.current)==null||d.focus({preventScroll:!0})},[n]),B0({nodeRef:c}),l||!o||!s)return null;const h=e?d=>{const m=r.getState().nodes.filter(x=>x.selected);e(d,m)}:void 0,f=d=>{Object.prototype.hasOwnProperty.call(hi,d.key)&&(d.preventDefault(),a({direction:hi[d.key],factor:d.shiftKey?4:1}))};return u.jsx("div",{className:we(["react-flow__nodesselection","react-flow__container",t]),style:{transform:i},children:u.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:o,height:s}})})}const ef=typeof window<"u"?window:void 0,F2=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Y0({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,paneClickDistance:l,deleteKeyCode:a,selectionKeyCode:c,selectionOnDrag:h,selectionMode:f,onSelectionStart:d,onSelectionEnd:m,multiSelectionKeyCode:x,panActivationKeyCode:v,zoomActivationKeyCode:N,elementsSelectable:g,zoomOnScroll:y,zoomOnPinch:p,panOnScroll:w,panOnScrollSpeed:S,panOnScrollMode:k,zoomOnDoubleClick:E,panOnDrag:P,defaultViewport:I,translateExtent:R,minZoom:L,maxZoom:D,preventScrolling:A,onSelectionContextMenu:b,noWheelClassName:z,noPanClassName:T,disableKeyboardA11y:M,onViewportChange:_,isControlledViewport:j}){const{nodesSelectionActive:$,userSelectionActive:F}=re(F2),O=jo(c,{target:ef}),B=jo(v,{target:ef}),U=B||P,Q=B||w,G=h&&U!==!0,X=O||F||G;return v2({deleteKeyCode:a,multiSelectionKeyCode:x}),u.jsx(S2,{onPaneContextMenu:s,elementsSelectable:g,zoomOnScroll:y,zoomOnPinch:p,panOnScroll:Q,panOnScrollSpeed:S,panOnScrollMode:k,zoomOnDoubleClick:E,panOnDrag:!O&&U,defaultViewport:I,translateExtent:R,minZoom:L,maxZoom:D,zoomActivationKeyCode:N,preventScrolling:A,noWheelClassName:z,noPanClassName:T,onViewportChange:_,isControlledViewport:j,paneClickDistance:l,selectionOnDrag:G,children:u.jsxs(b2,{onSelectionStart:d,onSelectionEnd:m,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:U,isSelecting:!!X,selectionMode:f,selectionKeyPressed:O,paneClickDistance:l,selectionOnDrag:G,children:[e,$&&u.jsx(R2,{onSelectionContextMenu:b,noPanClassName:T,disableKeyboardA11y:M})]})})}Y0.displayName="FlowRenderer";const O2=C.memo(Y0),H2=e=>t=>e?Lu(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function V2(e){return re(C.useCallback(H2(e),[e]),me)}const B2=e=>e.updateNodeInternals;function U2(){const e=re(B2),[t]=C.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const s=o.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:o.target,force:!0})}),e(r)}));return C.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function W2({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=fe(),s=C.useRef(null),i=C.useRef(null),l=C.useRef(e.sourcePosition),a=C.useRef(e.targetPosition),c=C.useRef(t),h=n&&!!e.internals.handleBounds;return C.useEffect(()=>{s.current&&!e.hidden&&(!h||i.current!==s.current)&&(i.current&&(r==null||r.unobserve(i.current)),r==null||r.observe(s.current),i.current=s.current)},[h,e.hidden]),C.useEffect(()=>()=>{i.current&&(r==null||r.unobserve(i.current),i.current=null)},[]),C.useEffect(()=>{if(s.current){const f=c.current!==t,d=l.current!==e.sourcePosition,m=a.current!==e.targetPosition;(f||d||m)&&(c.current=t,l.current=e.sourcePosition,a.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function Y2({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:s,onDoubleClick:i,nodesDraggable:l,elementsSelectable:a,nodesConnectable:c,nodesFocusable:h,resizeObserver:f,noDragClassName:d,noPanClassName:m,disableKeyboardA11y:x,rfId:v,nodeTypes:N,nodeClickDistance:g,onError:y}){const{node:p,internals:w,isParent:S}=re(V=>{const K=V.nodeLookup.get(e),ee=V.parentLookup.has(e);return{node:K,internals:K.internals,isParent:ee}},me);let k=p.type||"default",E=(N==null?void 0:N[k])||Jd[k];E===void 0&&(y==null||y("003",_t.error003(k)),k="default",E=(N==null?void 0:N.default)||Jd.default);const P=!!(p.draggable||l&&typeof p.draggable>"u"),I=!!(p.selectable||a&&typeof p.selectable>"u"),R=!!(p.connectable||c&&typeof p.connectable>"u"),L=!!(p.focusable||h&&typeof p.focusable>"u"),D=fe(),A=c0(p),b=W2({node:p,nodeType:k,hasDimensions:A,resizeObserver:f}),z=B0({nodeRef:b,disabled:p.hidden||!P,noDragClassName:d,handleSelector:p.dragHandle,nodeId:e,isSelectable:I,nodeClickDistance:g}),T=U0();if(p.hidden)return null;const M=Ot(p),_=D2(p),j=I||P||t||n||r||o,$=n?V=>n(V,{...w.userNode}):void 0,F=r?V=>r(V,{...w.userNode}):void 0,O=o?V=>o(V,{...w.userNode}):void 0,B=s?V=>s(V,{...w.userNode}):void 0,U=i?V=>i(V,{...w.userNode}):void 0,Q=V=>{const{selectNodesOnDrag:K,nodeDragThreshold:ee}=D.getState();I&&(!K||!P||ee>0)&&Ia({id:e,store:D,nodeRef:b}),t&&t(V,{...w.userNode})},G=V=>{if(!(h0(V.nativeEvent)||x)){if(t0.includes(V.key)&&I){const K=V.key==="Escape";Ia({id:e,store:D,unselect:K,nodeRef:b})}else if(P&&p.selected&&Object.prototype.hasOwnProperty.call(hi,V.key)){V.preventDefault();const{ariaLabelConfig:K}=D.getState();D.setState({ariaLiveMessage:K["node.a11yDescription.ariaLiveMessage"]({direction:V.key.replace("Arrow","").toLowerCase(),x:~~w.positionAbsolute.x,y:~~w.positionAbsolute.y})}),T({direction:hi[V.key],factor:V.shiftKey?4:1})}}},X=()=>{var te;if(x||!((te=b.current)!=null&&te.matches(":focus-visible")))return;const{transform:V,width:K,height:ee,autoPanOnNodeFocus:J,setCenter:q}=D.getState();if(!J)return;Lu(new Map([[e,p]]),{x:0,y:0,width:K,height:ee},V,!0).length>0||q(p.position.x+M.width/2,p.position.y+M.height/2,{zoom:V[2]})};return u.jsx("div",{className:we(["react-flow__node",`react-flow__node-${k}`,{[m]:P},p.className,{selected:p.selected,selectable:I,parent:S,draggable:P,dragging:z}]),ref:b,style:{zIndex:w.z,transform:`translate(${w.positionAbsolute.x}px,${w.positionAbsolute.y}px)`,pointerEvents:j?"all":"none",visibility:A?"visible":"hidden",...p.style,..._},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:$,onMouseMove:F,onMouseLeave:O,onContextMenu:B,onClick:Q,onDoubleClick:U,onKeyDown:L?G:void 0,tabIndex:L?0:void 0,onFocus:L?X:void 0,role:p.ariaRole??(L?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${L0}-${v}`,"aria-label":p.ariaLabel,...p.domAttributes,children:u.jsx(j2,{value:e,children:u.jsx(E,{id:e,data:p.data,type:k,positionAbsoluteX:w.positionAbsolute.x,positionAbsoluteY:w.positionAbsolute.y,selected:p.selected??!1,selectable:I,draggable:P,deletable:p.deletable??!0,isConnectable:R,sourcePosition:p.sourcePosition,targetPosition:p.targetPosition,dragging:z,dragHandle:p.dragHandle,zIndex:w.z,parentId:p.parentId,...M})})})}var X2=C.memo(Y2);const Q2=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function X0(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:s}=re(Q2,me),i=V2(e.onlyRenderVisibleElements),l=U2();return u.jsx("div",{className:"react-flow__nodes",style:Oi,children:i.map(a=>u.jsx(X2,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:s},a))})}X0.displayName="NodeRenderer";const G2=C.memo(X0);function K2(e){return re(C.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const s=n.nodeLookup.get(o.source),i=n.nodeLookup.get(o.target);s&&i&&LN({sourceNode:s,targetNode:i,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),me)}const Z2=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return u.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},q2=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return u.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},tf={[ci.Arrow]:Z2,[ci.ArrowClosed]:q2};function J2(e){const t=fe();return C.useMemo(()=>{var o,s;return Object.prototype.hasOwnProperty.call(tf,e)?tf[e]:((s=(o=t.getState()).onError)==null||s.call(o,"009",_t.error009(e)),null)},[e])}const ek=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:l="auto-start-reverse"})=>{const a=J2(t);return a?u.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:u.jsx(a,{color:n,strokeWidth:i})}):null},Q0=({defaultColor:e,rfId:t})=>{const n=re(s=>s.edges),r=re(s=>s.defaultEdgeOptions),o=C.useMemo(()=>VN(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:o.map(s=>u.jsx(ek,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};Q0.displayName="MarkerDefinitions";var tk=C.memo(Q0);function G0({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:s,labelBgPadding:i=[2,4],labelBgBorderRadius:l=2,children:a,className:c,...h}){const[f,d]=C.useState({x:1,y:0,width:0,height:0}),m=we(["react-flow__edge-textwrapper",c]),x=C.useRef(null);return C.useEffect(()=>{if(x.current){const v=x.current.getBBox();d({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?u.jsxs("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:m,visibility:f.width?"visible":"hidden",...h,children:[o&&u.jsx("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),u.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:x,style:r,children:n}),a]}):null}G0.displayName="EdgeText";const nk=C.memo(G0);function _r({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:a,interactionWidth:c=20,...h}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...h,d:e,fill:"none",className:we(["react-flow__edge-path",h.className])}),c?u.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&ct(t)&&ct(n)?u.jsx(nk,{x:t,y:n,label:r,labelStyle:o,labelShowBg:s,labelBgStyle:i,labelBgPadding:l,labelBgBorderRadius:a}):null]})}function nf({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Y.Left||e===Y.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function K0({sourceX:e,sourceY:t,sourcePosition:n=Y.Bottom,targetX:r,targetY:o,targetPosition:s=Y.Top}){const[i,l]=nf({pos:n,x1:e,y1:t,x2:r,y2:o}),[a,c]=nf({pos:s,x1:r,y1:o,x2:e,y2:t}),[h,f,d,m]=g0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:l,targetControlX:a,targetControlY:c});return[`M${e},${t} C${i},${l} ${a},${c} ${r},${o}`,h,f,d,m]}function Z0(e){return C.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,sourcePosition:i,targetPosition:l,label:a,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:m,style:x,markerEnd:v,markerStart:N,interactionWidth:g})=>{const[y,p,w]=K0({sourceX:n,sourceY:r,sourcePosition:i,targetX:o,targetY:s,targetPosition:l}),S=e.isInternal?void 0:t;return u.jsx(_r,{id:S,path:y,labelX:p,labelY:w,label:a,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:m,style:x,markerEnd:v,markerStart:N,interactionWidth:g})})}const rk=Z0({isInternal:!1}),q0=Z0({isInternal:!0});rk.displayName="SimpleBezierEdge";q0.displayName="SimpleBezierEdgeInternal";function J0(e){return C.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:f,style:d,sourcePosition:m=Y.Bottom,targetPosition:x=Y.Top,markerEnd:v,markerStart:N,pathOptions:g,interactionWidth:y})=>{const[p,w,S]=ja({sourceX:n,sourceY:r,sourcePosition:m,targetX:o,targetY:s,targetPosition:x,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset,stepPosition:g==null?void 0:g.stepPosition}),k=e.isInternal?void 0:t;return u.jsx(_r,{id:k,path:p,labelX:w,labelY:S,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:f,style:d,markerEnd:v,markerStart:N,interactionWidth:y})})}const eg=J0({isInternal:!1}),tg=J0({isInternal:!0});eg.displayName="SmoothStepEdge";tg.displayName="SmoothStepEdgeInternal";function ng(e){return C.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return u.jsx(eg,{...n,id:r,pathOptions:C.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const ok=ng({isInternal:!1}),rg=ng({isInternal:!0});ok.displayName="StepEdge";rg.displayName="StepEdgeInternal";function og(e){return C.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:x,interactionWidth:v})=>{const[N,g,y]=Fu({sourceX:n,sourceY:r,targetX:o,targetY:s}),p=e.isInternal?void 0:t;return u.jsx(_r,{id:p,path:N,labelX:g,labelY:y,label:i,labelStyle:l,labelShowBg:a,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:f,style:d,markerEnd:m,markerStart:x,interactionWidth:v})})}const sk=og({isInternal:!1}),sg=og({isInternal:!0});sk.displayName="StraightEdge";sg.displayName="StraightEdgeInternal";function ig(e){return C.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,sourcePosition:i=Y.Bottom,targetPosition:l=Y.Top,label:a,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:m,style:x,markerEnd:v,markerStart:N,pathOptions:g,interactionWidth:y})=>{const[p,w,S]=Ru({sourceX:n,sourceY:r,sourcePosition:i,targetX:o,targetY:s,targetPosition:l,curvature:g==null?void 0:g.curvature}),k=e.isInternal?void 0:t;return u.jsx(_r,{id:k,path:p,labelX:w,labelY:S,label:a,labelStyle:c,labelShowBg:h,labelBgStyle:f,labelBgPadding:d,labelBgBorderRadius:m,style:x,markerEnd:v,markerStart:N,interactionWidth:y})})}const ik=ig({isInternal:!1}),lg=ig({isInternal:!0});ik.displayName="BezierEdge";lg.displayName="BezierEdgeInternal";const rf={default:lg,straight:sg,step:rg,smoothstep:tg,simplebezier:q0},of={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},lk=(e,t,n)=>n===Y.Left?e-t:n===Y.Right?e+t:e,ak=(e,t,n)=>n===Y.Top?e-t:n===Y.Bottom?e+t:e,sf="react-flow__edgeupdater";function lf({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:i,type:l}){return u.jsx("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:i,className:we([sf,`${sf}-${l}`]),cx:lk(t,r,e),cy:ak(n,r,e),r,stroke:"transparent",fill:"transparent"})}function uk({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:s,targetY:i,sourcePosition:l,targetPosition:a,onReconnect:c,onReconnectStart:h,onReconnectEnd:f,setReconnecting:d,setUpdateHover:m}){const x=fe(),v=(w,S)=>{if(w.button!==0)return;const{autoPanOnConnect:k,domNode:E,isValidConnection:P,connectionMode:I,connectionRadius:R,lib:L,onConnectStart:D,onConnectEnd:A,cancelConnection:b,nodeLookup:z,rfId:T,panBy:M,updateConnection:_}=x.getState(),j=S.type==="target",$=(B,U)=>{d(!1),f==null||f(B,n,S.type,U)},F=B=>c==null?void 0:c(n,B),O=(B,U)=>{d(!0),h==null||h(w,n,S.type),D==null||D(B,U)};Ta.onPointerDown(w.nativeEvent,{autoPanOnConnect:k,connectionMode:I,connectionRadius:R,domNode:E,handleId:S.id,nodeId:S.nodeId,nodeLookup:z,isTarget:j,edgeUpdaterType:S.type,lib:L,flowId:T,cancelConnection:b,panBy:M,isValidConnection:P,onConnect:F,onConnectStart:O,onConnectEnd:A,onReconnectEnd:$,updateConnection:_,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:w.currentTarget})},N=w=>v(w,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),g=w=>v(w,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>m(!0),p=()=>m(!1);return u.jsxs(u.Fragment,{children:[(e===!0||e==="source")&&u.jsx(lf,{position:l,centerX:r,centerY:o,radius:t,onMouseDown:N,onMouseEnter:y,onMouseOut:p,type:"source"}),(e===!0||e==="target")&&u.jsx(lf,{position:a,centerX:s,centerY:i,radius:t,onMouseDown:g,onMouseEnter:y,onMouseOut:p,type:"target"})]})}function ck({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:s,onContextMenu:i,onMouseEnter:l,onMouseMove:a,onMouseLeave:c,reconnectRadius:h,onReconnect:f,onReconnectStart:d,onReconnectEnd:m,rfId:x,edgeTypes:v,noPanClassName:N,onError:g,disableKeyboardA11y:y}){let p=re(q=>q.edgeLookup.get(e));const w=re(q=>q.defaultEdgeOptions);p=w?{...w,...p}:p;let S=p.type||"default",k=(v==null?void 0:v[S])||rf[S];k===void 0&&(g==null||g("011",_t.error011(S)),S="default",k=(v==null?void 0:v.default)||rf.default);const E=!!(p.focusable||t&&typeof p.focusable>"u"),P=typeof f<"u"&&(p.reconnectable||n&&typeof p.reconnectable>"u"),I=!!(p.selectable||r&&typeof p.selectable>"u"),R=C.useRef(null),[L,D]=C.useState(!1),[A,b]=C.useState(!1),z=fe(),{zIndex:T,sourceX:M,sourceY:_,targetX:j,targetY:$,sourcePosition:F,targetPosition:O}=re(C.useCallback(q=>{const Z=q.nodeLookup.get(p.source),te=q.nodeLookup.get(p.target);if(!Z||!te)return{zIndex:p.zIndex,...of};const ae=HN({id:e,sourceNode:Z,targetNode:te,sourceHandle:p.sourceHandle||null,targetHandle:p.targetHandle||null,connectionMode:q.connectionMode,onError:g});return{zIndex:zN({selected:p.selected,zIndex:p.zIndex,sourceNode:Z,targetNode:te,elevateOnSelect:q.elevateEdgesOnSelect}),...ae||of}},[p.source,p.target,p.sourceHandle,p.targetHandle,p.selected,p.zIndex]),me),B=C.useMemo(()=>p.markerStart?`url('#${Ma(p.markerStart,x)}')`:void 0,[p.markerStart,x]),U=C.useMemo(()=>p.markerEnd?`url('#${Ma(p.markerEnd,x)}')`:void 0,[p.markerEnd,x]);if(p.hidden||M===null||_===null||j===null||$===null)return null;const Q=q=>{var se;const{addSelectedEdges:Z,unselectNodesAndEdges:te,multiSelectionActive:ae}=z.getState();I&&(z.setState({nodesSelectionActive:!1}),p.selected&&ae?(te({nodes:[],edges:[p]}),(se=R.current)==null||se.blur()):Z([e])),o&&o(q,p)},G=s?q=>{s(q,{...p})}:void 0,X=i?q=>{i(q,{...p})}:void 0,V=l?q=>{l(q,{...p})}:void 0,K=a?q=>{a(q,{...p})}:void 0,ee=c?q=>{c(q,{...p})}:void 0,J=q=>{var Z;if(!y&&t0.includes(q.key)&&I){const{unselectNodesAndEdges:te,addSelectedEdges:ae}=z.getState();q.key==="Escape"?((Z=R.current)==null||Z.blur(),te({edges:[p]})):ae([e])}};return u.jsx("svg",{style:{zIndex:T},children:u.jsxs("g",{className:we(["react-flow__edge",`react-flow__edge-${S}`,p.className,N,{selected:p.selected,animated:p.animated,inactive:!I&&!o,updating:L,selectable:I}]),onClick:Q,onDoubleClick:G,onContextMenu:X,onMouseEnter:V,onMouseMove:K,onMouseLeave:ee,onKeyDown:E?J:void 0,tabIndex:E?0:void 0,role:p.ariaRole??(E?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":p.ariaLabel===null?void 0:p.ariaLabel||`Edge from ${p.source} to ${p.target}`,"aria-describedby":E?`${D0}-${x}`:void 0,ref:R,...p.domAttributes,children:[!A&&u.jsx(k,{id:e,source:p.source,target:p.target,type:p.type,selected:p.selected,animated:p.animated,selectable:I,deletable:p.deletable??!0,label:p.label,labelStyle:p.labelStyle,labelShowBg:p.labelShowBg,labelBgStyle:p.labelBgStyle,labelBgPadding:p.labelBgPadding,labelBgBorderRadius:p.labelBgBorderRadius,sourceX:M,sourceY:_,targetX:j,targetY:$,sourcePosition:F,targetPosition:O,data:p.data,style:p.style,sourceHandleId:p.sourceHandle,targetHandleId:p.targetHandle,markerStart:B,markerEnd:U,pathOptions:"pathOptions"in p?p.pathOptions:void 0,interactionWidth:p.interactionWidth}),P&&u.jsx(uk,{edge:p,isReconnectable:P,reconnectRadius:h,onReconnect:f,onReconnectStart:d,onReconnectEnd:m,sourceX:M,sourceY:_,targetX:j,targetY:$,sourcePosition:F,targetPosition:O,setUpdateHover:D,setReconnecting:b})]})})}var dk=C.memo(ck);const fk=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ag({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:s,onEdgeContextMenu:i,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:c,onEdgeClick:h,reconnectRadius:f,onEdgeDoubleClick:d,onReconnectStart:m,onReconnectEnd:x,disableKeyboardA11y:v}){const{edgesFocusable:N,edgesReconnectable:g,elementsSelectable:y,onError:p}=re(fk,me),w=K2(t);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(tk,{defaultColor:e,rfId:n}),w.map(S=>u.jsx(dk,{id:S,edgesFocusable:N,edgesReconnectable:g,elementsSelectable:y,noPanClassName:o,onReconnect:s,onContextMenu:i,onMouseEnter:l,onMouseMove:a,onMouseLeave:c,onClick:h,reconnectRadius:f,onDoubleClick:d,onReconnectStart:m,onReconnectEnd:x,rfId:n,onError:p,edgeTypes:r,disableKeyboardA11y:v},S))]})}ag.displayName="EdgeRenderer";const hk=C.memo(ag),pk=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function gk({children:e}){const t=re(pk);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function mk(e){const t=kr(),n=C.useRef(!1);C.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const yk=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function xk(e){const t=re(yk),n=fe();return C.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function vk(e){return e.connection.inProgress?{...e.connection,to:Fo(e.connection.to,e.transform)}:{...e.connection}}function wk(e){return vk}function Nk(e){const t=wk();return re(t,me)}const Sk=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function kk({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:s,height:i,isValid:l,inProgress:a}=re(Sk,me);return!(s&&o&&a)?null:u.jsx("svg",{style:e,width:s,height:i,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:we(["react-flow__connection",o0(l)]),children:u.jsx(ug,{style:t,type:n,CustomComponent:r,isValid:l})})})}const ug=({style:e,type:t=Qt.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:s,fromNode:i,fromHandle:l,fromPosition:a,to:c,toNode:h,toHandle:f,toPosition:d}=Nk();if(!o)return;if(n)return u.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:i,fromHandle:l,fromX:s.x,fromY:s.y,toX:c.x,toY:c.y,fromPosition:a,toPosition:d,connectionStatus:o0(r),toNode:h,toHandle:f});let m="";const x={sourceX:s.x,sourceY:s.y,sourcePosition:a,targetX:c.x,targetY:c.y,targetPosition:d};switch(t){case Qt.Bezier:[m]=Ru(x);break;case Qt.SimpleBezier:[m]=K0(x);break;case Qt.Step:[m]=ja({...x,borderRadius:0});break;case Qt.SmoothStep:[m]=ja(x);break;default:[m]=Fu(x)}return u.jsx("path",{d:m,fill:"none",className:"react-flow__connection-path",style:e})};ug.displayName="ConnectionLine";const _k={};function af(e=_k){C.useRef(e),fe(),C.useEffect(()=>{},[e])}function Ek(){fe(),C.useRef(!1),C.useEffect(()=>{},[])}function cg({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:s,onEdgeDoubleClick:i,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:c,onNodeContextMenu:h,onSelectionContextMenu:f,onSelectionStart:d,onSelectionEnd:m,connectionLineType:x,connectionLineStyle:v,connectionLineComponent:N,connectionLineContainerStyle:g,selectionKeyCode:y,selectionOnDrag:p,selectionMode:w,multiSelectionKeyCode:S,panActivationKeyCode:k,zoomActivationKeyCode:E,deleteKeyCode:P,onlyRenderVisibleElements:I,elementsSelectable:R,defaultViewport:L,translateExtent:D,minZoom:A,maxZoom:b,preventScrolling:z,defaultMarkerColor:T,zoomOnScroll:M,zoomOnPinch:_,panOnScroll:j,panOnScrollSpeed:$,panOnScrollMode:F,zoomOnDoubleClick:O,panOnDrag:B,onPaneClick:U,onPaneMouseEnter:Q,onPaneMouseMove:G,onPaneMouseLeave:X,onPaneScroll:V,onPaneContextMenu:K,paneClickDistance:ee,nodeClickDistance:J,onEdgeContextMenu:q,onEdgeMouseEnter:Z,onEdgeMouseMove:te,onEdgeMouseLeave:ae,reconnectRadius:se,onReconnect:Ee,onReconnectStart:bt,onReconnectEnd:dn,noDragClassName:Oo,noWheelClassName:Ho,noPanClassName:Er,disableKeyboardA11y:br,nodeExtent:Hi,rfId:Vo,viewport:$n,onViewportChange:Cr}){return af(e),af(t),Ek(),mk(n),xk($n),u.jsx(O2,{onPaneClick:U,onPaneMouseEnter:Q,onPaneMouseMove:G,onPaneMouseLeave:X,onPaneContextMenu:K,onPaneScroll:V,paneClickDistance:ee,deleteKeyCode:P,selectionKeyCode:y,selectionOnDrag:p,selectionMode:w,onSelectionStart:d,onSelectionEnd:m,multiSelectionKeyCode:S,panActivationKeyCode:k,zoomActivationKeyCode:E,elementsSelectable:R,zoomOnScroll:M,zoomOnPinch:_,zoomOnDoubleClick:O,panOnScroll:j,panOnScrollSpeed:$,panOnScrollMode:F,panOnDrag:B,defaultViewport:L,translateExtent:D,minZoom:A,maxZoom:b,onSelectionContextMenu:f,preventScrolling:z,noDragClassName:Oo,noWheelClassName:Ho,noPanClassName:Er,disableKeyboardA11y:br,onViewportChange:Cr,isControlledViewport:!!$n,children:u.jsxs(gk,{children:[u.jsx(hk,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:i,onReconnect:Ee,onReconnectStart:bt,onReconnectEnd:dn,onlyRenderVisibleElements:I,onEdgeContextMenu:q,onEdgeMouseEnter:Z,onEdgeMouseMove:te,onEdgeMouseLeave:ae,reconnectRadius:se,defaultMarkerColor:T,noPanClassName:Er,disableKeyboardA11y:br,rfId:Vo}),u.jsx(kk,{style:v,type:x,component:N,containerStyle:g}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(G2,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:a,onNodeMouseLeave:c,onNodeContextMenu:h,nodeClickDistance:J,onlyRenderVisibleElements:I,noPanClassName:Er,noDragClassName:Oo,disableKeyboardA11y:br,nodeExtent:Hi,rfId:Vo}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}cg.displayName="GraphView";const bk=C.memo(cg),uf=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:i,fitViewOptions:l,minZoom:a=.5,maxZoom:c=2,nodeOrigin:h,nodeExtent:f}={})=>{const d=new Map,m=new Map,x=new Map,v=new Map,N=r??t??[],g=n??e??[],y=h??[0,0],p=f??ko;w0(x,v,N);const w=Pa(g,d,m,{nodeOrigin:y,nodeExtent:p,elevateNodesOnSelect:!1});let S=[0,0,1];if(i&&o&&s){const k=Ao(d,{filter:R=>!!((R.width||R.initialWidth)&&(R.height||R.initialHeight))}),{x:E,y:P,zoom:I}=Du(k,o,s,a,c,(l==null?void 0:l.padding)??.1);S=[E,P,I]}return{rfId:"1",width:o??0,height:s??0,transform:S,nodes:g,nodesInitialized:w,nodeLookup:d,parentLookup:m,edges:N,edgeLookup:v,connectionLookup:x,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:c,translateExtent:ko,nodeExtent:p,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:hr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:i??!1,fitViewOptions:l,fitViewResolver:null,connection:{...r0},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:jN,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:n0}},Ck=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:i,fitViewOptions:l,minZoom:a,maxZoom:c,nodeOrigin:h,nodeExtent:f})=>WS((d,m)=>{async function x(){const{nodeLookup:v,panZoom:N,fitViewOptions:g,fitViewResolver:y,width:p,height:w,minZoom:S,maxZoom:k}=m();N&&(await bN({nodes:v,width:p,height:w,panZoom:N,minZoom:S,maxZoom:k},g),y==null||y.resolve(!0),d({fitViewResolver:null}))}return{...uf({nodes:e,edges:t,width:o,height:s,fitView:i,fitViewOptions:l,minZoom:a,maxZoom:c,nodeOrigin:h,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:v=>{const{nodeLookup:N,parentLookup:g,nodeOrigin:y,elevateNodesOnSelect:p,fitViewQueued:w}=m(),S=Pa(v,N,g,{nodeOrigin:y,nodeExtent:f,elevateNodesOnSelect:p,checkEquality:!0});w&&S?(x(),d({nodes:v,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):d({nodes:v,nodesInitialized:S})},setEdges:v=>{const{connectionLookup:N,edgeLookup:g}=m();w0(N,g,v),d({edges:v})},setDefaultNodesAndEdges:(v,N)=>{if(v){const{setNodes:g}=m();g(v),d({hasDefaultNodes:!0})}if(N){const{setEdges:g}=m();g(N),d({hasDefaultEdges:!0})}},updateNodeInternals:v=>{const{triggerNodeChanges:N,nodeLookup:g,parentLookup:y,domNode:p,nodeOrigin:w,nodeExtent:S,debug:k,fitViewQueued:E}=m(),{changes:P,updatedInternals:I}=GN(v,g,y,p,w,S);I&&(WN(g,y,{nodeOrigin:w,nodeExtent:S}),E?(x(),d({fitViewQueued:!1,fitViewOptions:void 0})):d({}),(P==null?void 0:P.length)>0&&(k&&console.log("React Flow: trigger node changes",P),N==null||N(P)))},updateNodePositions:(v,N=!1)=>{const g=[],y=[],{nodeLookup:p,triggerNodeChanges:w}=m();for(const[S,k]of v){const E=p.get(S),P=!!(E!=null&&E.expandParent&&(E!=null&&E.parentId)&&(k!=null&&k.position)),I={id:S,type:"position",position:P?{x:Math.max(0,k.position.x),y:Math.max(0,k.position.y)}:k.position,dragging:N};P&&E.parentId&&g.push({id:S,parentId:E.parentId,rect:{...k.internals.positionAbsolute,width:k.measured.width??0,height:k.measured.height??0}}),y.push(I)}if(g.length>0){const{parentLookup:S,nodeOrigin:k}=m(),E=Bu(g,p,S,k);y.push(...E)}w(y)},triggerNodeChanges:v=>{const{onNodesChange:N,setNodes:g,nodes:y,hasDefaultNodes:p,debug:w}=m();if(v!=null&&v.length){if(p){const S=F0(v,y);g(S)}w&&console.log("React Flow: trigger node changes",v),N==null||N(v)}},triggerEdgeChanges:v=>{const{onEdgesChange:N,setEdges:g,edges:y,hasDefaultEdges:p,debug:w}=m();if(v!=null&&v.length){if(p){const S=O0(v,y);g(S)}w&&console.log("React Flow: trigger edge changes",v),N==null||N(v)}},addSelectedNodes:v=>{const{multiSelectionActive:N,edgeLookup:g,nodeLookup:y,triggerNodeChanges:p,triggerEdgeChanges:w}=m();if(N){const S=v.map(k=>pn(k,!0));p(S);return}p(Gn(y,new Set([...v]),!0)),w(Gn(g))},addSelectedEdges:v=>{const{multiSelectionActive:N,edgeLookup:g,nodeLookup:y,triggerNodeChanges:p,triggerEdgeChanges:w}=m();if(N){const S=v.map(k=>pn(k,!0));w(S);return}w(Gn(g,new Set([...v]))),p(Gn(y,new Set,!0))},unselectNodesAndEdges:({nodes:v,edges:N}={})=>{const{edges:g,nodes:y,nodeLookup:p,triggerNodeChanges:w,triggerEdgeChanges:S}=m(),k=v||y,E=N||g,P=k.map(R=>{const L=p.get(R.id);return L&&(L.selected=!1),pn(R.id,!1)}),I=E.map(R=>pn(R.id,!1));w(P),S(I)},setMinZoom:v=>{const{panZoom:N,maxZoom:g}=m();N==null||N.setScaleExtent([v,g]),d({minZoom:v})},setMaxZoom:v=>{const{panZoom:N,minZoom:g}=m();N==null||N.setScaleExtent([g,v]),d({maxZoom:v})},setTranslateExtent:v=>{var N;(N=m().panZoom)==null||N.setTranslateExtent(v),d({translateExtent:v})},resetSelectedElements:()=>{const{edges:v,nodes:N,triggerNodeChanges:g,triggerEdgeChanges:y,elementsSelectable:p}=m();if(!p)return;const w=N.reduce((k,E)=>E.selected?[...k,pn(E.id,!1)]:k,[]),S=v.reduce((k,E)=>E.selected?[...k,pn(E.id,!1)]:k,[]);g(w),y(S)},setNodeExtent:v=>{const{nodes:N,nodeLookup:g,parentLookup:y,nodeOrigin:p,elevateNodesOnSelect:w,nodeExtent:S}=m();v[0][0]===S[0][0]&&v[0][1]===S[0][1]&&v[1][0]===S[1][0]&&v[1][1]===S[1][1]||(Pa(N,g,y,{nodeOrigin:p,nodeExtent:v,elevateNodesOnSelect:w,checkEquality:!1}),d({nodeExtent:v}))},panBy:v=>{const{transform:N,width:g,height:y,panZoom:p,translateExtent:w}=m();return KN({delta:v,panZoom:p,transform:N,translateExtent:w,width:g,height:y})},setCenter:async(v,N,g)=>{const{width:y,height:p,maxZoom:w,panZoom:S}=m();if(!S)return Promise.resolve(!1);const k=typeof(g==null?void 0:g.zoom)<"u"?g.zoom:w;return await S.setViewport({x:y/2-v*k,y:p/2-N*k,zoom:k},{duration:g==null?void 0:g.duration,ease:g==null?void 0:g.ease,interpolate:g==null?void 0:g.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{d({connection:{...r0}})},updateConnection:v=>{d({connection:v})},reset:()=>d({...uf()})}},Object.is);function jk({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:s,initialMinZoom:i,initialMaxZoom:l,initialFitViewOptions:a,fitView:c,nodeOrigin:h,nodeExtent:f,children:d}){const[m]=C.useState(()=>Ck({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:c,minZoom:i,maxZoom:l,fitViewOptions:a,nodeOrigin:h,nodeExtent:f}));return u.jsx(YS,{value:m,children:u.jsx(g2,{children:d})})}function Mk({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:s,height:i,fitView:l,fitViewOptions:a,minZoom:c,maxZoom:h,nodeOrigin:f,nodeExtent:d}){return C.useContext(Fi)?u.jsx(u.Fragment,{children:e}):u.jsx(jk,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:s,initialHeight:i,fitView:l,initialFitViewOptions:a,initialMinZoom:c,initialMaxZoom:h,nodeOrigin:f,nodeExtent:d,children:e})}const Pk={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Tk({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:s,edgeTypes:i,onNodeClick:l,onEdgeClick:a,onInit:c,onMove:h,onMoveStart:f,onMoveEnd:d,onConnect:m,onConnectStart:x,onConnectEnd:v,onClickConnectStart:N,onClickConnectEnd:g,onNodeMouseEnter:y,onNodeMouseMove:p,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:k,onNodeDragStart:E,onNodeDrag:P,onNodeDragStop:I,onNodesDelete:R,onEdgesDelete:L,onDelete:D,onSelectionChange:A,onSelectionDragStart:b,onSelectionDrag:z,onSelectionDragStop:T,onSelectionContextMenu:M,onSelectionStart:_,onSelectionEnd:j,onBeforeDelete:$,connectionMode:F,connectionLineType:O=Qt.Bezier,connectionLineStyle:B,connectionLineComponent:U,connectionLineContainerStyle:Q,deleteKeyCode:G="Backspace",selectionKeyCode:X="Shift",selectionOnDrag:V=!1,selectionMode:K=_o.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:J=bo()?"Meta":"Control",zoomActivationKeyCode:q=bo()?"Meta":"Control",snapToGrid:Z,snapGrid:te,onlyRenderVisibleElements:ae=!1,selectNodesOnDrag:se,nodesDraggable:Ee,autoPanOnNodeFocus:bt,nodesConnectable:dn,nodesFocusable:Oo,nodeOrigin:Ho=A0,edgesFocusable:Er,edgesReconnectable:br,elementsSelectable:Hi=!0,defaultViewport:Vo=s2,minZoom:$n=.5,maxZoom:Cr=2,translateExtent:Wu=ko,preventScrolling:gg=!0,nodeExtent:Vi,defaultMarkerColor:mg="#b1b1b7",zoomOnScroll:yg=!0,zoomOnPinch:xg=!0,panOnScroll:vg=!1,panOnScrollSpeed:wg=.5,panOnScrollMode:Ng=Sn.Free,zoomOnDoubleClick:Sg=!0,panOnDrag:kg=!0,onPaneClick:_g,onPaneMouseEnter:Eg,onPaneMouseMove:bg,onPaneMouseLeave:Cg,onPaneScroll:jg,onPaneContextMenu:Mg,paneClickDistance:Pg=0,nodeClickDistance:Tg=0,children:Ig,onReconnect:$g,onReconnectStart:zg,onReconnectEnd:Lg,onEdgeContextMenu:Dg,onEdgeDoubleClick:Ag,onEdgeMouseEnter:Rg,onEdgeMouseMove:Fg,onEdgeMouseLeave:Og,reconnectRadius:Hg=10,onNodesChange:Vg,onEdgesChange:Bg,noDragClassName:Ug="nodrag",noWheelClassName:Wg="nowheel",noPanClassName:Yu="nopan",fitView:Xu,fitViewOptions:Qu,connectOnClick:Yg,attributionPosition:Xg,proOptions:Qg,defaultEdgeOptions:Gg,elevateNodesOnSelect:Kg,elevateEdgesOnSelect:Zg,disableKeyboardA11y:Gu=!1,autoPanOnConnect:qg,autoPanOnNodeDrag:Jg,autoPanSpeed:em,connectionRadius:tm,isValidConnection:nm,onError:rm,style:om,id:Ku,nodeDragThreshold:sm,connectionDragThreshold:im,viewport:lm,onViewportChange:am,width:um,height:cm,colorMode:dm="light",debug:fm,onScroll:Bo,ariaLabelConfig:hm,...pm},gm){const Bi=Ku||"1",mm=u2(dm),ym=C.useCallback(Zu=>{Zu.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Bo==null||Bo(Zu)},[Bo]);return u.jsx("div",{"data-testid":"rf__wrapper",...pm,onScroll:ym,style:{...om,...Pk},ref:gm,className:we(["react-flow",o,mm]),id:Ku,role:"application",children:u.jsxs(Mk,{nodes:e,edges:t,width:um,height:cm,fitView:Xu,fitViewOptions:Qu,minZoom:$n,maxZoom:Cr,nodeOrigin:Ho,nodeExtent:Vi,children:[u.jsx(bk,{onInit:c,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:y,onNodeMouseMove:p,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:k,nodeTypes:s,edgeTypes:i,connectionLineType:O,connectionLineStyle:B,connectionLineComponent:U,connectionLineContainerStyle:Q,selectionKeyCode:X,selectionOnDrag:V,selectionMode:K,deleteKeyCode:G,multiSelectionKeyCode:J,panActivationKeyCode:ee,zoomActivationKeyCode:q,onlyRenderVisibleElements:ae,defaultViewport:Vo,translateExtent:Wu,minZoom:$n,maxZoom:Cr,preventScrolling:gg,zoomOnScroll:yg,zoomOnPinch:xg,zoomOnDoubleClick:Sg,panOnScroll:vg,panOnScrollSpeed:wg,panOnScrollMode:Ng,panOnDrag:kg,onPaneClick:_g,onPaneMouseEnter:Eg,onPaneMouseMove:bg,onPaneMouseLeave:Cg,onPaneScroll:jg,onPaneContextMenu:Mg,paneClickDistance:Pg,nodeClickDistance:Tg,onSelectionContextMenu:M,onSelectionStart:_,onSelectionEnd:j,onReconnect:$g,onReconnectStart:zg,onReconnectEnd:Lg,onEdgeContextMenu:Dg,onEdgeDoubleClick:Ag,onEdgeMouseEnter:Rg,onEdgeMouseMove:Fg,onEdgeMouseLeave:Og,reconnectRadius:Hg,defaultMarkerColor:mg,noDragClassName:Ug,noWheelClassName:Wg,noPanClassName:Yu,rfId:Bi,disableKeyboardA11y:Gu,nodeExtent:Vi,viewport:lm,onViewportChange:am}),u.jsx(a2,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:m,onConnectStart:x,onConnectEnd:v,onClickConnectStart:N,onClickConnectEnd:g,nodesDraggable:Ee,autoPanOnNodeFocus:bt,nodesConnectable:dn,nodesFocusable:Oo,edgesFocusable:Er,edgesReconnectable:br,elementsSelectable:Hi,elevateNodesOnSelect:Kg,elevateEdgesOnSelect:Zg,minZoom:$n,maxZoom:Cr,nodeExtent:Vi,onNodesChange:Vg,onEdgesChange:Bg,snapToGrid:Z,snapGrid:te,connectionMode:F,translateExtent:Wu,connectOnClick:Yg,defaultEdgeOptions:Gg,fitView:Xu,fitViewOptions:Qu,onNodesDelete:R,onEdgesDelete:L,onDelete:D,onNodeDragStart:E,onNodeDrag:P,onNodeDragStop:I,onSelectionDrag:z,onSelectionDragStart:b,onSelectionDragStop:T,onMove:h,onMoveStart:f,onMoveEnd:d,noPanClassName:Yu,nodeOrigin:Ho,rfId:Bi,autoPanOnConnect:qg,autoPanOnNodeDrag:Jg,autoPanSpeed:em,onError:rm,connectionRadius:tm,isValidConnection:nm,selectNodesOnDrag:se,nodeDragThreshold:sm,connectionDragThreshold:im,onBeforeDelete:$,debug:fm,ariaLabelConfig:hm}),u.jsx(o2,{onSelectionChange:A}),Ig,u.jsx(JS,{proOptions:Qg,position:Xg}),u.jsx(qS,{rfId:Bi,disableKeyboardA11y:Gu})]})})}var Ik=H0(Tk);const $k=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function dg({children:e}){const t=re($k);return t?_p.createPortal(e,t):null}function zk(e){const[t,n]=C.useState(e),r=C.useCallback(o=>n(s=>F0(o,s)),[]);return[t,n,r]}function Lk(e){const[t,n]=C.useState(e),r=C.useCallback(o=>n(s=>O0(o,s)),[]);return[t,n,r]}function Dk({dimensions:e,lineWidth:t,variant:n,className:r}){return u.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:we(["react-flow__background-pattern",n,r])})}function Ak({radius:e,className:t}){return u.jsx("circle",{cx:e,cy:e,r:e,className:we(["react-flow__background-pattern","dots",t])})}var kt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(kt||(kt={}));const Rk={[kt.Dots]:1,[kt.Lines]:1,[kt.Cross]:6},Fk=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function fg({id:e,variant:t=kt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=0,color:i,bgColor:l,style:a,className:c,patternClassName:h}){const f=C.useRef(null),{transform:d,patternId:m}=re(Fk,me),x=r||Rk[t],v=t===kt.Dots,N=t===kt.Cross,g=Array.isArray(n)?n:[n,n],y=[g[0]*d[2]||1,g[1]*d[2]||1],p=x*d[2],w=Array.isArray(s)?s:[s,s],S=N?[p,p]:y,k=[w[0]*d[2]||1+S[0]/2,w[1]*d[2]||1+S[1]/2],E=`${m}${e||""}`;return u.jsxs("svg",{className:we(["react-flow__background",c]),style:{...a,...Oi,"--xy-background-color-props":l,"--xy-background-pattern-color-props":i},ref:f,"data-testid":"rf__background",children:[u.jsx("pattern",{id:E,x:d[0]%y[0],y:d[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`,children:v?u.jsx(Ak,{radius:p/2,className:h}):u.jsx(Dk,{dimensions:S,lineWidth:o,variant:t,className:h})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E})`})]})}fg.displayName="Background";const Ok=C.memo(fg);function Hk(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Vk(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Bk(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Uk(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Wk(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function gs({children:e,className:t,...n}){return u.jsx("button",{type:"button",className:we(["react-flow__controls-button",t]),...n,children:e})}const Yk=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function hg({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:i,onFitView:l,onInteractiveChange:a,className:c,children:h,position:f="bottom-left",orientation:d="vertical","aria-label":m}){const x=fe(),{isInteractive:v,minZoomReached:N,maxZoomReached:g,ariaLabelConfig:y}=re(Yk,me),{zoomIn:p,zoomOut:w,fitView:S}=kr(),k=()=>{p(),s==null||s()},E=()=>{w(),i==null||i()},P=()=>{S(o),l==null||l()},I=()=>{x.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),a==null||a(!v)},R=d==="horizontal"?"horizontal":"vertical";return u.jsxs(vr,{className:we(["react-flow__controls",R,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":m??y["controls.ariaLabel"],children:[t&&u.jsxs(u.Fragment,{children:[u.jsx(gs,{onClick:k,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:g,children:u.jsx(Hk,{})}),u.jsx(gs,{onClick:E,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:N,children:u.jsx(Vk,{})})]}),n&&u.jsx(gs,{className:"react-flow__controls-fitview",onClick:P,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:u.jsx(Bk,{})}),r&&u.jsx(gs,{className:"react-flow__controls-interactive",onClick:I,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:v?u.jsx(Wk,{}):u.jsx(Uk,{})}),h]})}hg.displayName="Controls";const Xk=C.memo(hg);function Qk({id:e,x:t,y:n,width:r,height:o,style:s,color:i,strokeColor:l,strokeWidth:a,className:c,borderRadius:h,shapeRendering:f,selected:d,onClick:m}){const{background:x,backgroundColor:v}=s||{},N=i||x||v;return u.jsx("rect",{className:we(["react-flow__minimap-node",{selected:d},c]),x:t,y:n,rx:h,ry:h,width:r,height:o,style:{fill:N,stroke:l,strokeWidth:a},shapeRendering:f,onClick:m?g=>m(g,e):void 0})}const Gk=C.memo(Qk),Kk=e=>e.nodes.map(t=>t.id),El=e=>e instanceof Function?e:()=>e;function Zk({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:s=Gk,onClick:i}){const l=re(Kk,me),a=El(t),c=El(e),h=El(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:l.map(d=>u.jsx(Jk,{id:d,nodeColorFunc:a,nodeStrokeColorFunc:c,nodeClassNameFunc:h,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:s,onClick:i,shapeRendering:f},d))})}function qk({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:s,shapeRendering:i,NodeComponent:l,onClick:a}){const{node:c,x:h,y:f,width:d,height:m}=re(x=>{const{internals:v}=x.nodeLookup.get(e),N=v.userNode,{x:g,y}=v.positionAbsolute,{width:p,height:w}=Ot(N);return{node:N,x:g,y,width:p,height:w}},me);return!c||c.hidden||!c0(c)?null:u.jsx(l,{x:h,y:f,width:d,height:m,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:o,strokeColor:n(c),strokeWidth:s,shapeRendering:i,onClick:a,id:c.id})}const Jk=C.memo(qk);var e_=C.memo(Zk);const t_=200,n_=150,r_=e=>!e.hidden,o_=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?u0(Ao(e.nodeLookup,{filter:r_}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},s_="react-flow__minimap-desc";function pg({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:i,nodeComponent:l,bgColor:a,maskColor:c,maskStrokeColor:h,maskStrokeWidth:f,position:d="bottom-right",onClick:m,onNodeClick:x,pannable:v=!1,zoomable:N=!1,ariaLabel:g,inversePan:y,zoomStep:p=1,offsetScale:w=5}){const S=fe(),k=C.useRef(null),{boundingRect:E,viewBB:P,rfId:I,panZoom:R,translateExtent:L,flowWidth:D,flowHeight:A,ariaLabelConfig:b}=re(o_,me),z=(e==null?void 0:e.width)??t_,T=(e==null?void 0:e.height)??n_,M=E.width/z,_=E.height/T,j=Math.max(M,_),$=j*z,F=j*T,O=w*j,B=E.x-($-E.width)/2-O,U=E.y-(F-E.height)/2-O,Q=$+O*2,G=F+O*2,X=`${s_}-${I}`,V=C.useRef(0),K=C.useRef();V.current=j,C.useEffect(()=>{if(k.current&&R)return K.current=sS({domNode:k.current,panZoom:R,getTransform:()=>S.getState().transform,getViewScale:()=>V.current}),()=>{var Z;(Z=K.current)==null||Z.destroy()}},[R]),C.useEffect(()=>{var Z;(Z=K.current)==null||Z.update({translateExtent:L,width:D,height:A,inversePan:y,pannable:v,zoomStep:p,zoomable:N})},[v,N,y,p,L,D,A]);const ee=m?Z=>{var se;const[te,ae]=((se=K.current)==null?void 0:se.pointer(Z))||[0,0];m(Z,{x:te,y:ae})}:void 0,J=x?C.useCallback((Z,te)=>{const ae=S.getState().nodeLookup.get(te).internals.userNode;x(Z,ae)},[]):void 0,q=g??b["minimap.ariaLabel"];return u.jsx(vr,{position:d,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*j:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof i=="number"?i:void 0},className:we(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:z,height:T,viewBox:`${B} ${U} ${Q} ${G}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":X,ref:k,onClick:ee,children:[q&&u.jsx("title",{id:X,children:q}),u.jsx(e_,{onClick:J,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:l}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${B-O},${U-O}h${Q+O*2}v${G+O*2}h${-Q-O*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}pg.displayName="MiniMap";const i_=C.memo(pg),l_=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,a_={[yr.Line]:"right",[yr.Handle]:"bottom-right"};function u_({nodeId:e,position:t,variant:n=yr.Handle,className:r,style:o=void 0,children:s,color:i,minWidth:l=10,minHeight:a=10,maxWidth:c=Number.MAX_VALUE,maxHeight:h=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:d,autoScale:m=!0,shouldResize:x,onResizeStart:v,onResize:N,onResizeEnd:g}){const y=W0(),p=typeof e=="string"?e:y,w=fe(),S=C.useRef(null),k=n===yr.Handle,E=re(C.useCallback(l_(k&&m),[k,m]),me),P=C.useRef(null),I=t??a_[n];C.useEffect(()=>{if(!(!S.current||!p))return P.current||(P.current=vS({domNode:S.current,nodeId:p,getStoreItems:()=>{const{nodeLookup:L,transform:D,snapGrid:A,snapToGrid:b,nodeOrigin:z,domNode:T}=w.getState();return{nodeLookup:L,transform:D,snapGrid:A,snapToGrid:b,nodeOrigin:z,paneDomNode:T}},onChange:(L,D)=>{const{triggerNodeChanges:A,nodeLookup:b,parentLookup:z,nodeOrigin:T}=w.getState(),M=[],_={x:L.x,y:L.y},j=b.get(p);if(j&&j.expandParent&&j.parentId){const $=j.origin??T,F=L.width??j.measured.width??0,O=L.height??j.measured.height??0,B={id:j.id,parentId:j.parentId,rect:{width:F,height:O,...d0({x:L.x??j.position.x,y:L.y??j.position.y},{width:F,height:O},j.parentId,b,$)}},U=Bu([B],b,z,T);M.push(...U),_.x=L.x?Math.max($[0]*F,L.x):void 0,_.y=L.y?Math.max($[1]*O,L.y):void 0}if(_.x!==void 0&&_.y!==void 0){const $={id:p,type:"position",position:{..._}};M.push($)}if(L.width!==void 0&&L.height!==void 0){const F={id:p,type:"dimensions",resizing:!0,setAttributes:d?d==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};M.push(F)}for(const $ of D){const F={...$,type:"position"};M.push(F)}A(M)},onEnd:({width:L,height:D})=>{const A={id:p,type:"dimensions",resizing:!1,dimensions:{width:L,height:D}};w.getState().triggerNodeChanges([A])}})),P.current.update({controlPosition:I,boundaries:{minWidth:l,minHeight:a,maxWidth:c,maxHeight:h},keepAspectRatio:f,resizeDirection:d,onResizeStart:v,onResize:N,onResizeEnd:g,shouldResize:x}),()=>{var L;(L=P.current)==null||L.destroy()}},[I,l,a,c,h,f,v,N,g,x]);const R=I.split("-");return u.jsx("div",{className:we(["react-flow__resize-control","nodrag",...R,n,r]),ref:S,style:{...o,scale:E,...i&&{[k?"backgroundColor":"borderColor"]:i}},children:s})}C.memo(u_);const c_=C.memo(({data:e})=>{const[t,n]=C.useState(!0),[r,o]=C.useState(!1),s=e.cameraId?`http://localhost:8000/api/video/${e.cameraId}/mjpeg`:null;return u.jsxs("div",{className:"shadow-lg rounded-lg border-2 border-blue-500 bg-gray-900 min-w-[240px] max-w-[300px]",children:[t&&s&&!r&&u.jsxs("div",{className:"relative bg-black rounded-t-lg overflow-hidden",style:{height:"135px"},children:[u.jsx("img",{src:s,alt:e.cameraName,className:"w-full h-full object-contain",onError:()=>o(!0)}),u.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-black/70 rounded text-xs text-white",children:"LIVE"})]}),u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("div",{className:"font-bold text-sm",children:e.label||e.cameraName})]}),u.jsx("button",{onClick:()=>n(!t),className:"text-xs text-gray-400 hover:text-white",children:t?"":""})]}),u.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[u.jsxs("div",{children:["ID: ",e.cameraId]}),e.quality&&u.jsxs("div",{children:["Quality: ",e.quality.toUpperCase()]}),e.resolution&&u.jsxs("div",{children:["Resolution: ",e.resolution]})]})]}),u.jsx(Le,{type:"source",position:Y.Right,className:"w-3 h-3 bg-blue-500",id:"video-output"})]})}),d_=C.memo(({data:e,id:t})=>{const[n,r]=C.useState(!0),[o,s]=C.useState(null),[i,l]=C.useState(null),[a,c]=C.useState(!1),[h,f]=C.useState(!0),[d,m]=C.useState(30),[x,v]=C.useState(0),[N,g]=C.useState(0),y=C.useRef(null),p=C.useRef(null),w=I=>{const R=I.target.files[0];if(!R)return;const L=URL.createObjectURL(R),D=R.type.startsWith("video/")?"video":"image";s(L),l(D),c(!1),v(0)},S=()=>{y.current&&(a?y.current.pause():y.current.play(),c(!a))},k=()=>{y.current&&v(y.current.currentTime)},E=()=>{y.current&&g(y.current.duration)},P=I=>{const R=Math.floor(I/60),L=Math.floor(I%60);return`${R}:${L.toString().padStart(2,"0")}`};return C.useEffect(()=>()=>{o&&URL.revokeObjectURL(o)},[o]),u.jsxs("div",{className:"shadow-lg rounded-lg border-2 border-purple-500 bg-gray-900 min-w-[280px] max-w-[350px]",children:[u.jsx(Le,{type:"source",position:Y.Right,className:"w-3 h-3 bg-purple-500"}),u.jsx("div",{className:"px-4 py-3 bg-gray-950 border-b border-gray-800",children:u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("div",{className:"font-bold text-sm text-purple-400",children:"Video Input"})]}),u.jsx("button",{onClick:()=>r(!n),className:"text-xs px-2 py-1 bg-gray-800 rounded hover:bg-gray-700",title:"Toggle preview",children:""})]})}),u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("input",{ref:p,type:"file",accept:"video/*,image/*",onChange:w,className:"hidden"}),u.jsx("button",{onClick:()=>{var I;return(I=p.current)==null?void 0:I.click()},className:"w-full px-3 py-2 bg-purple-600 hover:bg-purple-700 rounded text-sm font-medium transition-colors",children:o?" Change File":" Upload Video/Image"})]}),o&&u.jsxs("div",{className:"mb-3 p-2 bg-gray-950 rounded border border-gray-800",children:[u.jsxs("div",{className:"text-xs text-gray-400 flex justify-between items-center",children:[u.jsxs("span",{children:["Type: ",i==="video"?" Video":" Image"]}),i==="video"&&u.jsxs("span",{className:"text-green-400",children:[d," fps"]})]}),i==="video"&&N>0&&u.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Duration: ",P(N)]})]}),n&&o&&u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:"relative bg-black rounded overflow-hidden border border-gray-800",children:i==="video"?u.jsx("video",{ref:y,src:o,className:"w-full h-auto",loop:h,onTimeUpdate:k,onLoadedMetadata:E,onEnded:()=>c(!1)}):u.jsx("img",{src:o,alt:"Uploaded",className:"w-full h-auto"})}),i==="video"&&u.jsxs("div",{className:"mt-2 space-y-2",children:[u.jsx("div",{className:"relative h-1 bg-gray-800 rounded overflow-hidden",children:u.jsx("div",{className:"absolute h-full bg-purple-500 transition-all",style:{width:`${x/N*100}%`}})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:S,className:"px-3 py-1 bg-gray-800 hover:bg-gray-700 rounded text-xs",children:a?" Pause":" Play"}),u.jsx("button",{onClick:()=>f(!h),className:`px-2 py-1 rounded text-xs ${h?"bg-purple-600 text-white":"bg-gray-800 text-gray-400"}`,title:"Loop video",children:""})]}),u.jsxs("div",{className:"text-xs text-gray-500 font-mono",children:[P(x)," / ",P(N)]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"text-xs text-gray-400 block mb-1",children:["Processing FPS: ",d]}),u.jsx("input",{type:"range",min:"1",max:"60",value:d,onChange:I=>m(parseInt(I.target.value)),className:"w-full h-1 bg-gray-800 rounded-lg appearance-none cursor-pointer accent-purple-500"}),u.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[u.jsx("span",{children:"1 fps"}),u.jsx("span",{children:"60 fps"})]})]})]}),i==="image"&&u.jsx("div",{className:"mt-2 p-2 bg-gray-950 rounded border border-gray-800",children:u.jsx("div",{className:"text-xs text-gray-400",children:" Image will be processed as a single frame"})})]}),!o&&u.jsxs("div",{className:"text-center py-6 text-gray-600",children:[u.jsx("div",{className:"text-3xl mb-2",children:""}),u.jsx("div",{className:"text-xs",children:"Upload a video or image"}),u.jsx("div",{className:"text-[10px] text-gray-700 mt-2",children:"For testing AI models"})]}),o&&u.jsx("div",{className:"mt-3 p-2 bg-green-900/20 border border-green-500/30 rounded",children:u.jsxs("div",{className:"text-xs text-green-400 flex items-center",children:[u.jsx("span",{className:"mr-2",children:""}),u.jsx("span",{children:"Ready to process"})]})})]})]})}),f_=C.memo(({data:e,id:t})=>{const[n,r]=C.useState(!1),[o,s]=C.useState(e.youtubeUrl||""),[i,l]=C.useState(e.streamType||"video"),[a,c]=C.useState(e.quality||"best"),[h,f]=C.useState("idle"),[d,m]=C.useState(null),[x,v]=C.useState(null),{setNodes:N}=kr(),g=S=>{const k=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,E=S.match(k);return E&&E[2].length===11?E[2]:null},y=S=>{s(S),N(E=>E.map(P=>P.id===t?{...P,data:{...P.data,youtubeUrl:S}}:P));const k=g(S);k?(m(`https://img.youtube.com/vi/${k}/mqdefault.jpg`),f("idle"),v({title:"YouTube Video",duration:"00:00",isLive:S.includes("/live/")})):(m(null),v(null))},p=()=>{o&&(f("loading"),setTimeout(()=>{f("connected")},1500))},w=()=>{f("idle")};return u.jsxs("div",{className:"shadow-lg rounded-lg border-2 border-red-500 bg-gray-900 min-w-[280px] max-w-[350px]",children:[u.jsx(Le,{type:"source",position:Y.Right,className:"w-3 h-3 bg-red-500"}),u.jsxs("div",{className:"px-4 py-3 bg-gray-950 border-b border-gray-800",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("div",{className:"font-bold text-sm text-red-400",children:"YouTube Stream"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[h==="connected"&&u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),u.jsx("button",{onClick:()=>r(!n),className:"text-gray-400 hover:text-white",title:"Toggle configuration",children:""})]})]}),u.jsxs("div",{className:"text-xs",children:[h==="idle"&&u.jsx("span",{className:"text-gray-500",children:"Not connected"}),h==="loading"&&u.jsx("span",{className:"text-yellow-400",children:"Connecting..."}),h==="connected"&&u.jsx("span",{className:"text-green-400",children:" Live"}),h==="error"&&u.jsx("span",{className:"text-red-400",children:"Connection failed"})]})]}),u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"YouTube URL"}),u.jsx("input",{type:"text",value:o,onChange:S=>y(S.target.value),placeholder:"https://youtube.com/watch?v=...",className:"w-full px-2 py-1.5 bg-gray-800 border border-gray-700 rounded text-xs"})]}),h==="connected"&&o&&u.jsxs("div",{className:"mb-3",children:[u.jsx("div",{className:"relative aspect-video bg-black rounded border border-gray-700 overflow-hidden",children:u.jsx("iframe",{src:`https://www.youtube.com/embed/${g(o)}?autoplay=1&mute=1&controls=0&modestbranding=1`,className:"absolute inset-0 w-full h-full",allow:"autoplay",frameBorder:"0",title:"YouTube preview"})}),x&&u.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[u.jsx("div",{className:"truncate",children:x.title}),x.isLive&&u.jsxs("div",{className:"text-red-400 mt-1 flex items-center space-x-1",children:[u.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),u.jsx("span",{children:"LIVE"})]})]})]}),d&&h!=="connected"&&u.jsxs("div",{className:"mb-3",children:[u.jsx("img",{src:d,alt:"Video thumbnail",className:"w-full h-auto rounded border border-gray-700",onError:()=>m(null)}),x&&u.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[u.jsx("div",{className:"truncate",children:x.title}),x.isLive&&u.jsx("div",{className:"text-red-400 mt-1",children:" LIVE STREAM"})]})]}),n&&u.jsxs("div",{className:"mb-3 p-3 bg-gray-950 rounded border border-gray-800 space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Stream Type"}),u.jsxs("select",{value:i,onChange:S=>l(S.target.value),className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs",children:[u.jsx("option",{value:"video",children:"Regular Video"}),u.jsx("option",{value:"live",children:"Live Stream"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Quality"}),u.jsxs("select",{value:a,onChange:S=>c(S.target.value),className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs",children:[u.jsx("option",{value:"best",children:"Best Available"}),u.jsx("option",{value:"1080p",children:"1080p"}),u.jsx("option",{value:"720p",children:"720p"}),u.jsx("option",{value:"480p",children:"480p"}),u.jsx("option",{value:"360p",children:"360p"})]})]})]}),o&&h!=="connected"&&u.jsx("button",{onClick:p,disabled:h==="loading",className:"w-full px-3 py-2 bg-red-600 hover:bg-red-700 rounded text-sm font-medium transition-colors disabled:opacity-50",children:h==="loading"?" Connecting...":" Connect Stream"}),h==="connected"&&u.jsx("button",{onClick:w,className:"w-full px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm font-medium transition-colors",children:" Disconnect"}),!o&&u.jsxs("div",{className:"text-center py-4 text-gray-600",children:[u.jsx("div",{className:"text-2xl mb-2",children:""}),u.jsx("div",{className:"text-xs",children:"Enter YouTube URL"}),u.jsx("div",{className:"text-[10px] text-gray-700 mt-2",children:"Live streams & videos supported"})]}),h==="connected"&&u.jsx("div",{className:"mt-3 p-2 bg-green-900/20 border border-green-500/30 rounded",children:u.jsxs("div",{className:"text-xs text-green-400 flex items-center",children:[u.jsx("span",{className:"mr-2",children:""}),u.jsx("span",{children:"Stream active - Processing video"})]})})]})]})}),h_=C.memo(({data:e,id:t})=>{const[n,r]=C.useState(e.confidence||.7),[o,s]=C.useState(e.classes||"person"),[i,l]=C.useState(!1),[a,c]=C.useState(!1),[h,f]=C.useState(0),[d,m]=C.useState(null);C.useEffect(()=>{if(a){const v=setInterval(()=>{f(N=>N+Math.random()>.7?1:0)},2e3);return()=>clearInterval(v)}},[a]);const x={fast:"bg-green-500/20 text-green-400",medium:"bg-yellow-500/20 text-yellow-400",slow:"bg-red-500/20 text-red-400"};return u.jsxs("div",{className:"shadow-lg rounded-lg border-2 border-green-500 bg-gray-900 min-w-[240px] max-w-[300px]",children:[u.jsx(Le,{type:"target",position:Y.Left,className:"w-3 h-3 bg-green-500",id:"video-input"}),a&&u.jsxs("div",{className:"bg-gray-950 border-b border-gray-800 p-3",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Live Detections"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm font-mono text-green-400",children:[h," detected"]}),u.jsxs("div",{className:"text-xs text-gray-500",children:["conf: ",(n*100).toFixed(0),"%+"]})]}),d&&u.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Last: ",d]})]}),u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("div",{className:"font-bold text-sm",children:e.label||e.modelName})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("button",{onClick:()=>c(!a),className:"text-xs px-2 py-1 bg-gray-800 rounded hover:bg-gray-700",title:"Toggle detection preview",children:""}),u.jsx("button",{onClick:()=>l(!i),className:"text-gray-400 hover:text-white",children:""})]})]}),u.jsxs("div",{className:"flex items-center justify-between text-xs mb-2",children:[u.jsx("span",{className:"text-gray-500",children:e.modelId}),e.speed&&u.jsx("span",{className:`px-2 py-0.5 rounded ${x[e.speed]}`,children:e.speed})]}),i&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700 space-y-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Confidence"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:n,onChange:v=>r(parseFloat(v.target.value)),className:"w-full"}),u.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[(n*100).toFixed(0),"%"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Detect Classes"}),u.jsx("input",{type:"text",value:o,onChange:v=>s(v.target.value),placeholder:"person, car, truck",className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Processing FPS"}),u.jsx("input",{type:"number",min:"1",max:"30",defaultValue:"10",className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs"})]})]})]}),u.jsx(Le,{type:"source",position:Y.Right,className:"w-3 h-3 bg-green-500",id:"detections-output"}),u.jsx(Le,{type:"source",position:Y.Bottom,className:"w-3 h-3 bg-gray-500",id:"data-output",style:{background:"#6b7280"}})]})}),p_=C.memo(({data:e})=>{const[t,n]=C.useState(!1),[r,o]=C.useState(!1),[s,i]=C.useState(e.polygon||"[[100,100],[200,100],[200,200],[100,200]]"),[l,a]=C.useState(e.minConfidence||.7),c={polygon:"",confidence:"",class:"",time:""},h=()=>{try{const f=JSON.parse(s);if(!Array.isArray(f)||f.length<3)return null;const d=Math.max(...f.map(N=>N[0])),m=Math.max(...f.map(N=>N[1])),x=80/Math.max(d,m),v=f.map(N=>`${N[0]*x},${N[1]*x}`).join(" ");return u.jsx("svg",{width:"100",height:"80",className:"bg-gray-950 rounded border border-gray-700",children:u.jsx("polygon",{points:v,fill:"rgba(234, 179, 8, 0.2)",stroke:"#eab308",strokeWidth:"2"})})}catch{return null}};return u.jsxs("div",{className:"shadow-lg rounded-lg border-2 border-yellow-500 bg-gray-900 min-w-[240px] max-w-[300px]",children:[u.jsx(Le,{type:"target",position:Y.Left,className:"w-3 h-3 bg-yellow-500"}),r&&e.zoneType==="polygon"&&u.jsx("div",{className:"p-3 border-b border-gray-800 flex justify-center",children:h()}),u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xl",children:c[e.zoneType]||""}),u.jsx("div",{className:"font-bold text-sm",children:e.label})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[e.zoneType==="polygon"&&u.jsx("button",{onClick:()=>o(!r),className:"text-xs px-2 py-1 bg-gray-800 rounded hover:bg-gray-700",title:"Toggle zone preview",children:""}),u.jsx("button",{onClick:()=>n(!t),className:"text-gray-400 hover:text-white",children:""})]})]}),t&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700 space-y-2",children:[e.zoneType==="polygon"&&u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Polygon Points"}),u.jsx("textarea",{value:s,onChange:f=>i(f.target.value),placeholder:"[[x1,y1],[x2,y2],...]",className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs h-16"}),u.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Format: [[x,y],[x,y],...]"})]}),e.zoneType==="confidence"&&u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Min Confidence"}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:l,onChange:f=>a(parseFloat(f.target.value)),className:"w-full"}),u.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[(l*100).toFixed(0),"%"]})]}),e.zoneType==="class"&&u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Classes"}),u.jsxs("select",{className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs",children:[u.jsx("option",{children:"person"}),u.jsx("option",{children:"car"}),u.jsx("option",{children:"truck"}),u.jsx("option",{children:"bicycle"}),u.jsx("option",{children:"motorcycle"})]})]})]})]}),u.jsx(Le,{type:"source",position:Y.Right,className:"w-3 h-3 bg-yellow-500"})]})}),g_=C.memo(({data:e})=>{const[t,n]=C.useState(!1),[r,o]=C.useState(!1),[s,i]=C.useState(e.email||""),[l,a]=C.useState(e.webhookUrl||""),[c,h]=C.useState(e.recordDuration||30),[f,d]=C.useState(0),m={alarm:"",email:"",webhook:"",record:"",snapshot:""},x={alarm:"border-red-500",email:"border-purple-500",webhook:"border-purple-500",record:"border-orange-500",snapshot:"border-pink-500"};return C.useEffect(()=>{if(r){const v=setInterval(()=>{d(N=>N+(Math.random()>.8?1:0))},3e3);return()=>clearInterval(v)}},[r]),u.jsxs("div",{className:`shadow-lg rounded-lg border-2 ${x[e.actionType]||"border-purple-500"} bg-gray-900 min-w-[240px] max-w-[300px]`,children:[u.jsx(Le,{type:"target",position:Y.Left,className:"w-3 h-3 bg-purple-500"}),r&&u.jsxs("div",{className:"bg-gray-950 border-b border-gray-800 px-4 py-2",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Activity"}),u.jsxs("div",{className:"text-sm font-mono text-purple-400",children:[f," triggered"]})]}),u.jsxs("div",{className:"px-4 py-3",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xl",children:m[e.actionType]||""}),u.jsx("div",{className:"font-bold text-sm",children:e.label})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("button",{onClick:()=>o(!r),className:"text-xs px-2 py-1 bg-gray-800 rounded hover:bg-gray-700",title:"Toggle activity monitor",children:""}),u.jsx("button",{onClick:()=>n(!t),className:"text-gray-400 hover:text-white",children:""})]})]}),t&&u.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700 space-y-2",children:[e.actionType==="email"&&u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Email Address"}),u.jsx("input",{type:"email",value:s,onChange:v=>i(v.target.value),placeholder:"security@company.com",className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs"})]}),e.actionType==="webhook"&&u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Webhook URL"}),u.jsx("input",{type:"url",value:l,onChange:v=>a(v.target.value),placeholder:"https://api.example.com/alert",className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs"})]}),e.actionType==="alarm"&&u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Alarm Centre"}),u.jsxs("select",{className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs",children:[u.jsx("option",{children:"Central Monitoring"}),u.jsx("option",{children:"Local Security"}),u.jsx("option",{children:"Police Dispatch"})]})]}),e.actionType==="record"&&u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Duration (seconds)"}),u.jsx("input",{type:"number",value:c,onChange:v=>h(parseInt(v.target.value)),min:"10",max:"300",className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs"})]})]})]})]})}),m_=C.memo(({data:e,id:t})=>{var f;const[n,r]=C.useState(null),[o,s]=C.useState(!0),[i,l]=C.useState({total:0,fps:0}),{getEdges:a}=kr(),c=()=>a().some(m=>m.target===t),h=()=>{var m;const d=a().filter(x=>x.target===t);return d.length===0?null:{nodeId:d[0].source,type:((m=d[0].data)==null?void 0:m.type)||"unknown"}};return C.useEffect(()=>{if(!c()){r(null);return}const d=window.location.protocol==="https:"?"wss:":"ws:",m=window.location.hostname,x=window.location.port||"80",v=`${d}//${m}:${x}/api/ws`,N=new WebSocket(v);return N.onopen=()=>{console.log(`DataPreviewNode ${t}: WebSocket connected`)},N.onmessage=g=>{var y;try{const p=JSON.parse(g.data);console.log(`DataPreviewNode ${t}: Received WebSocket message`,p),p.type==="detection_data"&&p.node_id===t?(console.log(`DataPreviewNode ${t}: Processing detection data`,p),r({timestamp:p.timestamp,source:((y=h())==null?void 0:y.nodeId)||"unknown",frame_id:p.frame_id||0,resolution:p.resolution||{width:1920,height:1080},detections:p.detections||[],count:p.count||0,processing_time_ms:p.processing_time_ms||0,zone_violations:p.zone_violations||0}),l(w=>({total:w.total+(p.count||0),fps:p.fps||w.fps}))):console.log(`DataPreviewNode ${t}: Skipping message - type: ${p.type}, node_id: ${p.node_id}, my id: ${t}`)}catch(p){console.error("Error parsing WebSocket message:",p)}},N.onerror=g=>{console.error(`DataPreviewNode ${t}: WebSocket error`,g)},N.onclose=()=>{console.log(`DataPreviewNode ${t}: WebSocket disconnected`)},()=>{N.close()}},[t,a]),u.jsxs("div",{className:"shadow-lg rounded-lg border-2 border-indigo-500 bg-gray-900 min-w-[320px] max-w-[450px]",children:[u.jsx(Le,{type:"target",position:Y.Left,className:"w-3 h-3 bg-indigo-500"}),u.jsxs("div",{className:"px-4 py-3 bg-gray-950 border-b border-gray-800",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("div",{className:"font-bold text-sm text-indigo-400",children:"Detection Data"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[c()&&i.fps>0&&u.jsxs("div",{className:"text-xs bg-green-900/50 text-green-300 px-2 py-1 rounded font-mono",children:[i.fps," fps"]}),u.jsx("button",{onClick:()=>s(!o),className:"text-xs px-2 py-1 bg-gray-800 rounded hover:bg-gray-700",children:o?"":""})]})]}),c()&&i.total>0&&u.jsxs("div",{className:"text-xs text-gray-500",children:["Total detected: ",i.total]})]}),u.jsx("div",{className:"px-4 py-3 max-h-[500px] overflow-y-auto",children:c()?n?u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"bg-gray-950 rounded p-3 border border-gray-800",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsxs("div",{className:"text-xs text-gray-400",children:["Frame #",n.frame_id]}),u.jsx("div",{className:"text-xs text-gray-500",children:new Date(n.timestamp).toLocaleTimeString()})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Objects:"}),u.jsx("span",{className:"text-white ml-2 font-bold",children:n.count})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Process:"}),u.jsxs("span",{className:"text-green-400 ml-2",children:[n.processing_time_ms,"ms"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Resolution:"}),u.jsxs("span",{className:"text-gray-400 ml-2",children:[n.resolution.width,"x",n.resolution.height]})]}),n.zone_violations>0&&u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Violations:"}),u.jsx("span",{className:"text-red-400 ml-2 font-bold",children:n.zone_violations})]})]})]}),o&&n.detections.length>0&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"text-xs text-gray-400 font-semibold",children:"Detected Objects:"}),n.detections.map((d,m)=>u.jsxs("div",{className:"bg-gray-950 rounded p-2 border border-gray-800",children:[u.jsxs("div",{className:"flex justify-between items-start mb-1",children:[u.jsx("div",{className:"text-sm font-semibold text-indigo-400",children:d.class}),u.jsxs("div",{className:"text-xs bg-green-900/50 text-green-300 px-2 py-0.5 rounded",children:[(d.confidence*100).toFixed(1),"%"]})]}),u.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5 font-mono",children:[u.jsxs("div",{children:["BBox: [",d.bbox.x,", ",d.bbox.y,", ",d.bbox.width,", ",d.bbox.height,"]"]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("span",{children:["Track ID: ",d.track_id]}),d.speed&&u.jsxs("span",{className:"text-yellow-500",children:["Speed: ",d.speed," km/h"]})]})]})]},m))]}),o&&n.detections.length===0&&u.jsx("div",{className:"text-xs text-gray-600 text-center py-2",children:"No objects detected in this frame"}),o&&u.jsxs("details",{className:"text-xs",children:[u.jsx("summary",{className:"text-gray-500 cursor-pointer hover:text-gray-400 mb-2",children:"View Raw JSON"}),u.jsx("pre",{className:"bg-black rounded p-2 text-indigo-400 font-mono text-[10px] overflow-x-auto border border-gray-800",children:JSON.stringify(n,null,2)})]})]}):u.jsxs("div",{className:"text-xs text-gray-600 text-center py-4",children:[u.jsx("div",{className:"animate-pulse",children:"Waiting for detections..."}),u.jsxs("div",{className:"text-[10px] text-gray-700 mt-1",children:["Connected to ",(f=h())==null?void 0:f.nodeId]})]}):u.jsxs("div",{className:"text-gray-600 text-center py-8",children:[u.jsx("div",{className:"text-2xl mb-2",children:""}),u.jsx("div",{className:"text-xs",children:"Connect a detection node"}),u.jsx("div",{className:"text-[10px] text-gray-700 mt-2",children:"Wire a model or filter output here"})]})})]})}),y_=C.memo(({data:e,id:t})=>{const[n,r]=C.useState(!0),[o,s]=C.useState([]),[i,l]=C.useState(0),[a,c]=C.useState(10),{getEdges:h}=kr(),f=()=>h().some(x=>x.target===t);C.useEffect(()=>{console.log(`DebugNode ${t}: useEffect triggered, checking connections...`);const m=f();if(console.log(`DebugNode ${t}: hasConnections() = ${m}`),!m){console.log(`DebugNode ${t}: No connections, skipping WebSocket setup`);return}const x=window.location.protocol==="https:"?"wss:":"ws:",v=window.location.hostname,N=window.location.port||"80",g=`${x}//${v}:${N}/api/ws`;console.log(`DebugNode ${t}: Attempting WebSocket connection to ${g}`);const y=new WebSocket(g);return y.onopen=()=>{console.log(`DebugNode ${t}: WebSocket connected`)},y.onmessage=p=>{try{const w=JSON.parse(p.data);if(console.log(`DebugNode ${t}: Received WebSocket message`,w),w.type==="debug_message"&&w.node_id===t){console.log(`DebugNode ${t}: Processing debug message`,w);const S={timestamp:w.timestamp,source:"workflow",type:"debug",message:w.message,detections:w.detections||[]};s(k=>{const E=[S,...k].slice(0,a);return console.log(`DebugNode ${t}: Updated messages, new count: ${E.length}`),E}),l(k=>k+1)}else console.log(`DebugNode ${t}: Skipping message - type: ${w.type}, node_id: ${w.node_id}, my id: ${t}`)}catch(w){console.error("Error parsing WebSocket message:",w)}},y.onerror=p=>{console.error(`DebugNode ${t}: WebSocket error`,p)},y.onclose=()=>{console.log(`DebugNode ${t}: WebSocket disconnected`)},()=>{y.close()}},[a,t,h]);const d=()=>{s([]),l(0)};return u.jsxs("div",{className:"shadow-lg rounded-lg border-2 border-cyan-500 bg-gray-900 min-w-[300px] max-w-[400px]",children:[u.jsx(Le,{type:"target",position:Y.Left,className:"w-3 h-3 bg-cyan-500",style:{top:"50%"}}),u.jsxs("div",{className:"px-4 py-3 bg-gray-950 border-b border-gray-800",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-xl",children:""}),u.jsx("div",{className:"font-bold text-sm text-cyan-400",children:"Debug Console"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("div",{className:"text-xs bg-cyan-900/50 text-cyan-300 px-2 py-1 rounded",children:[i," msgs"]}),u.jsx("button",{onClick:()=>r(!n),className:"text-xs px-2 py-1 bg-gray-800 rounded hover:bg-gray-700",title:"Toggle debug view",children:n?"":""})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("button",{onClick:d,className:"text-xs px-2 py-1 bg-red-900/50 text-red-300 rounded hover:bg-red-900/70",children:"Clear"}),u.jsxs("select",{value:a,onChange:m=>c(parseInt(m.target.value)),className:"text-xs px-2 py-1 bg-gray-800 border border-gray-700 rounded",children:[u.jsx("option",{value:"5",children:"5 msgs"}),u.jsx("option",{value:"10",children:"10 msgs"}),u.jsx("option",{value:"20",children:"20 msgs"}),u.jsx("option",{value:"50",children:"50 msgs"})]}),u.jsxs("div",{className:"text-[10px] text-gray-600",children:["Arr: ",o.length]})]})]}),n&&u.jsx("div",{className:"p-3 bg-black font-mono text-xs max-h-[400px] overflow-y-auto",children:f()?o.length===0?u.jsxs("div",{className:"text-gray-600 text-center py-4",children:[u.jsx("div",{className:"text-xs",children:"Waiting for data..."}),u.jsx("div",{className:"text-[10px] text-gray-700 mt-1",children:"Connected - listening for messages"})]}):u.jsx("div",{className:"space-y-2",children:o.map((m,x)=>u.jsxs("div",{className:"border-l-2 border-cyan-500 pl-2 pb-2",children:[u.jsxs("div",{className:"text-gray-500 text-[10px] mb-1 flex justify-between",children:[u.jsx("span",{children:new Date(m.timestamp).toLocaleTimeString()}),u.jsxs("span",{className:"text-cyan-600",children:[" ",m.source]})]}),u.jsx("pre",{className:"text-cyan-400 whitespace-pre-wrap break-words",children:JSON.stringify(m,null,2)})]},x))}):u.jsxs("div",{className:"text-gray-600 text-center py-8",children:[u.jsx("div",{className:"text-2xl mb-2",children:""}),u.jsx("div",{className:"text-xs",children:"Connect a node to start debugging"}),u.jsx("div",{className:"text-[10px] text-gray-700 mt-2",children:"Wire any node's output to this debug console"})]})}),!n&&u.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 text-center",children:"Click  to view debug output"})]})});function x_({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:s,targetPosition:i,style:l={},markerEnd:a,data:c}){const[h,f,d]=Ru({sourceX:t,sourceY:n,sourcePosition:s,targetX:r,targetY:o,targetPosition:i}),[m,x]=C.useState(0),[v,N]=C.useState(!1);C.useEffect(()=>{const p=setInterval(()=>{const w=Math.random()>.3;N(w),w&&x(Math.floor(Math.random()*30)+1)},2e3);return()=>clearInterval(p)},[]);const y=(c==null?void 0:c.type)==="video"?"#3b82f6":(c==null?void 0:c.type)==="detections"?"#10b981":(c==null?void 0:c.type)==="events"?"#f59e0b":(c==null?void 0:c.type)==="zones"?"#8b5cf6":"#6b7280";return u.jsxs(u.Fragment,{children:[u.jsx(_r,{path:h,markerEnd:a,style:{...l,strokeWidth:v?3:2,stroke:v?y:"#4b5563",strokeDasharray:v?"0":"5,5",transition:"all 0.3s ease"}}),v&&u.jsxs(u.Fragment,{children:[u.jsx("path",{d:h,fill:"none",stroke:y,strokeWidth:"3",strokeOpacity:"0.4",className:"animate-pulse"}),u.jsx("circle",{r:"4",fill:y,className:"opacity-80",children:u.jsx("animateMotion",{dur:"1.5s",repeatCount:"indefinite",path:h})}),u.jsx("circle",{r:"4",fill:y,className:"opacity-60",children:u.jsx("animateMotion",{dur:"1.5s",repeatCount:"indefinite",path:h,begin:"0.5s"})}),u.jsx("circle",{r:"4",fill:y,className:"opacity-40",children:u.jsx("animateMotion",{dur:"1.5s",repeatCount:"indefinite",path:h,begin:"1s"})})]}),v&&u.jsx(dg,{children:u.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${d}px)`,fontSize:10,pointerEvents:"all"},className:"nodrag nopan bg-gray-900 border border-gray-700 rounded px-2 py-1 text-xs font-mono",children:u.jsxs("span",{style:{color:y},children:[" ",m," fps"]})})})]})}function v_({id:e,sourceX:t,sourceY:n,targetX:r,targetY:o,sourcePosition:s,targetPosition:i,style:l={},markerEnd:a,data:c}){const[h,f,d]=Fu({sourceX:t,sourceY:n,targetX:r,targetY:o}),[m,x]=C.useState(0),[v,N]=C.useState(!1);return C.useEffect(()=>{const g=setInterval(()=>{const y=Math.random()>.5;N(y),y&&x(p=>p+1)},1500);return()=>clearInterval(g)},[]),u.jsxs(u.Fragment,{children:[u.jsx(_r,{path:h,markerEnd:a,style:{...l,strokeWidth:2,stroke:"#6366f1",strokeDasharray:"8,4",strokeDashoffset:v?"0":"12",animation:v?"dash 1s linear infinite":"none"}}),v&&u.jsxs("circle",{r:"3",fill:"#6366f1",children:[u.jsx("animateMotion",{dur:"1s",repeatCount:"1",path:h}),u.jsx("animate",{attributeName:"opacity",values:"1;0",dur:"1s",repeatCount:"1"})]}),m>0&&u.jsx(dg,{children:u.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${d}px)`,fontSize:9,pointerEvents:"all"},className:"nodrag nopan bg-indigo-900/80 border border-indigo-600 rounded-full px-2 py-0.5 text-xs font-mono text-indigo-200",children:m})}),u.jsx("style",{children:`
        @keyframes dash {
          to {
            stroke-dashoffset: 0;
          }
        }
      `})]})}const w_=({cameras:e,models:t,actions:n,filters:r})=>{var a,c,h,f;const[o,s]=C.useState("inputs");console.log("Sidebar received:",{cameras:e==null?void 0:e.length,models:t==null?void 0:t.length,actions:n==null?void 0:n.length,filters:r==null?void 0:r.length});const i=(d,m,x={})=>{d.dataTransfer.setData("application/reactflow",m),d.dataTransfer.setData("application/json",JSON.stringify(x)),d.dataTransfer.effectAllowed="move"},l={inputs:{name:"Input Sources",icon:"",items:[{type:"camera",label:"Camera Feed",icon:"",description:"Live camera stream"},{type:"videoInput",label:"Video File",icon:"",description:"Upload video file"},{type:"youtube",label:"YouTube",icon:"",description:"YouTube video stream"}]},models:{name:"AI Models",icon:"",items:t.map(d=>({type:"model",label:d.name||d.id,icon:"",description:d.type||"Detection model",data:{modelId:d.id,modelName:d.name}}))},processing:{name:"Processing",icon:"",items:[{type:"zone",label:"Zone Filter",icon:"",description:"Define detection zones"}]},actions:{name:"Actions",icon:"",items:n.map(d=>({type:"action",label:d.name||d.id,icon:"",description:d.description||"Trigger action",data:{actionId:d.id,actionType:d.type}}))},debug:{name:"Debug & Output",icon:"",items:[{type:"dataPreview",label:"Data Preview",icon:"",description:"View detection data"},{type:"debug",label:"Debug Node",icon:"",description:"Debug output"}]}};return u.jsxs("div",{className:"w-80 bg-gray-900 border-r border-gray-800 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-gray-800",children:[u.jsx("h2",{className:"text-lg font-semibold text-white",children:"Components"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Drag items onto the canvas"})]}),u.jsx("div",{className:"flex overflow-x-auto border-b border-gray-800 bg-gray-900/50",children:Object.entries(l).map(([d,m])=>u.jsx("button",{onClick:()=>s(d),className:`flex-1 px-3 py-2 text-xs font-medium border-b-2 transition-colors whitespace-nowrap ${o===d?"border-blue-500 text-blue-400 bg-gray-800/50":"border-transparent text-gray-400 hover:text-gray-300 hover:bg-gray-800/30"}`,children:u.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[u.jsx("span",{className:"text-base",children:m.icon}),u.jsx("span",{children:m.name.split(" ")[0]})]})},d))}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u.jsxs("div",{className:"space-y-2",children:[(c=(a=l[o])==null?void 0:a.items)==null?void 0:c.map((d,m)=>u.jsx("div",{draggable:!0,onDragStart:x=>i(x,d.type,d.data),className:"bg-gray-800 hover:bg-gray-750 border border-gray-700 hover:border-gray-600 rounded-lg p-3 cursor-move transition-all active:scale-95",children:u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:"text-2xl",children:d.icon}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("div",{className:"font-medium text-white text-sm",children:d.label}),u.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:d.description})]})]})},m)),(!((h=l[o])!=null&&h.items)||((f=l[o])==null?void 0:f.items.length)===0)&&u.jsxs("div",{className:"text-center py-8 text-gray-500 text-sm",children:[u.jsx("div",{className:"text-2xl mb-2",children:""}),u.jsx("div",{children:"No items available"}),u.jsx("div",{className:"text-xs mt-1",children:"Configure models/actions in settings"})]})]})}),e.length>0&&o==="inputs"&&u.jsxs("div",{className:"border-t border-gray-800 p-4",children:[u.jsx("div",{className:"text-xs font-medium text-gray-400 mb-2",children:"Available Cameras"}),u.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:e.map((d,m)=>u.jsxs("div",{draggable:!0,onDragStart:x=>i(x,"camera",{cameraId:d.id,cameraName:d.name}),className:"text-xs bg-gray-800/50 hover:bg-gray-700 border border-gray-700/50 rounded px-2 py-1 cursor-move transition-colors",children:[u.jsx("div",{className:"font-medium text-gray-300",children:d.name}),u.jsx("div",{className:"text-gray-500",children:d.id})]},m))})]}),u.jsx("div",{className:"p-3 border-t border-gray-800 bg-gray-900/50",children:u.jsx("div",{className:"text-xs text-gray-500 text-center",children:" Drag and drop to build your workflow"})})]})},N_=({onSave:e,onClear:t,onExecute:n,nodeCount:r,edgeCount:o,isExecuting:s})=>u.jsxs("div",{className:"bg-gray-900/90 backdrop-blur-sm border border-gray-800 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[u.jsxs("div",{className:"text-sm",children:[u.jsx("span",{className:"text-gray-400",children:"Nodes:"})," ",u.jsx("span",{className:"font-medium",children:r})]}),u.jsxs("div",{className:"text-sm",children:[u.jsx("span",{className:"text-gray-400",children:"Connections:"})," ",u.jsx("span",{className:"font-medium",children:o})]}),s&&u.jsxs("div",{className:"text-sm flex items-center space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),u.jsx("span",{className:"text-green-400 font-medium",children:"Running"})]})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:n,disabled:r===0,className:`px-4 py-2 rounded text-sm font-medium transition-colors ${s?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed"}`,children:s?" Stop":" Execute"}),u.jsx("button",{onClick:e,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-medium transition-colors",children:" Save"}),u.jsx("button",{onClick:t,className:"px-4 py-2 bg-gray-800 hover:bg-gray-700 text-gray-300 border border-gray-700 rounded text-sm font-medium transition-colors",children:" Clear"})]})]});function S_({onBackgroundChange:e,currentBackground:t}){const[n,r]=C.useState(!1),[o,s]=C.useState("none"),[i,l]=C.useState(null),[a,c]=C.useState(.85),[h,f]=C.useState({lat:51.505,lng:-.09}),[d,m]=C.useState(15),[x,v]=C.useState({north:51.51,south:51.5,east:-.08,west:-.1}),[N,g]=C.useState(!1),[y,p]=C.useState(!1),[w,S]=C.useState("standard"),k=C.useRef(null),E=()=>{g(!0),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(A=>{const b=A.coords.latitude,z=A.coords.longitude;f({lat:b,lng:z}),g(!1),console.log("User location:",b,z),o==="map"&&e({type:"map",center:{lat:b,lng:z},zoom:d,bounds:x,opacity:a})},A=>{console.error("Error getting location:",A),g(!1)}):(console.error("Geolocation not supported"),g(!1))},P=A=>{const b=A.target.files[0];if(!b)return;const z=new FileReader;z.onload=T=>{const M=T.target.result;l(M),s("image"),e({type:"image",url:M,opacity:a})},z.readAsDataURL(b)},I=()=>{s("none"),l(null),e({type:"none"})},R=A=>{c(A),o==="image"&&i?e({type:"image",url:i,opacity:A}):o==="map"&&e({type:"map",center:h,zoom:d,bounds:x,opacity:A})},L=()=>{h.lat===51.505&&h.lng===-.09&&E(),s("map"),e({type:"map",center:h,zoom:d,bounds:x,opacity:a,syncWithViewport:y,style:w})},D=()=>{e({type:"map",center:h,zoom:d,bounds:x,opacity:a,syncWithViewport:y,style:w})};return u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>r(!n),className:"px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg hover:border-gray-500 transition-colors text-sm flex items-center space-x-2",title:"Background Settings",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"text-gray-300",children:"Background"}),o!=="none"&&u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})]}),n&&u.jsxs("div",{className:"absolute top-12 right-0 w-80 bg-gray-900 border border-gray-700 rounded-lg shadow-xl p-4 z-50",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"font-bold text-sm text-white",children:"Background Settings"}),u.jsx("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-white",children:""})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"text-xs text-gray-400 block mb-2",children:"Background Type"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:()=>I(),className:`w-full px-3 py-2 rounded text-sm text-left ${o==="none"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"None (Grid Only)"}),u.jsx("button",{onClick:()=>{var A;return(A=k.current)==null?void 0:A.click()},className:`w-full px-3 py-2 rounded text-sm text-left ${o==="image"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:" Upload Floor Plan/Image"}),u.jsx("button",{onClick:L,className:`w-full px-3 py-2 rounded text-sm text-left ${o==="map"?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:" Geographic Map"})]}),u.jsx("input",{ref:k,type:"file",accept:"image/*",onChange:P,className:"hidden"})]}),o==="image"&&i&&u.jsxs("div",{className:"mb-4 p-3 bg-gray-950 border border-gray-800 rounded",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Preview:"}),u.jsx("img",{src:i,alt:"Background",className:"w-full h-24 object-cover rounded border border-gray-700"}),u.jsx("button",{onClick:I,className:"mt-2 w-full px-2 py-1 bg-red-900/50 text-red-300 rounded text-xs hover:bg-red-900/70",children:"Remove Image"})]}),o==="map"&&u.jsxs("div",{className:"mb-4 p-3 bg-gray-950 border border-gray-800 rounded",children:[u.jsx("div",{className:"text-xs text-gray-400 mb-3",children:"Map Settings:"}),u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Map Style"}),u.jsxs("select",{value:w,onChange:A=>{const b=A.target.value;S(b),e({type:"map",center:h,zoom:d,bounds:x,opacity:a,syncWithViewport:y,style:b})},className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs",children:[u.jsx("option",{value:"standard",children:" Standard"}),u.jsx("option",{value:"dark",children:" Dark Mode"}),u.jsx("option",{value:"satellite",children:" Satellite"}),u.jsx("option",{value:"terrain",children:" Terrain"})]})]}),u.jsxs("div",{className:"mb-3 p-2 bg-gray-900 rounded border border-gray-800",children:[u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:y,onChange:A=>{const b=A.target.checked;p(b),e({type:"map",center:h,zoom:d,bounds:x,opacity:a,syncWithViewport:b,style:w})},className:"mr-2"}),u.jsx("span",{className:"text-xs text-gray-300",children:" Sync map with canvas pan/zoom"})]}),u.jsx("div",{className:"text-[10px] text-gray-600 mt-1 ml-6",children:"Map follows when you move the canvas"})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Center (Lat, Lng)"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("input",{type:"number",step:"0.0001",value:h.lat,onChange:A=>{const b=parseFloat(A.target.value);f({...h,lat:b})},onBlur:()=>{e({type:"map",center:h,zoom:d,bounds:x,opacity:a})},className:"flex-1 px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs",placeholder:"Latitude"}),u.jsx("input",{type:"number",step:"0.0001",value:h.lng,onChange:A=>{const b=parseFloat(A.target.value);f({...h,lng:b})},onBlur:()=>{e({type:"map",center:h,zoom:d,bounds:x,opacity:a})},className:"flex-1 px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs",placeholder:"Longitude"})]})]}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("label",{className:"text-xs text-gray-500 block mb-1",children:["Zoom Level: ",d]}),u.jsx("input",{type:"range",min:"1",max:"20",value:d,onChange:A=>{const b=parseInt(A.target.value);m(b),e({type:"map",center:h,zoom:b,bounds:x,opacity:a,syncWithViewport:y,style:w})},className:"w-full"}),u.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[u.jsx("span",{children:"World"}),u.jsx("span",{children:"Street"})]})]}),u.jsxs("details",{className:"mb-2",children:[u.jsx("summary",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-400",children:"Define Bounds (Optional)"}),u.jsxs("div",{className:"mt-2 space-y-2",children:[u.jsx("input",{type:"number",step:"0.0001",value:x.north,onChange:A=>v({...x,north:parseFloat(A.target.value)}),className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs",placeholder:"North"}),u.jsx("input",{type:"number",step:"0.0001",value:x.south,onChange:A=>v({...x,south:parseFloat(A.target.value)}),className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs",placeholder:"South"}),u.jsx("input",{type:"number",step:"0.0001",value:x.east,onChange:A=>v({...x,east:parseFloat(A.target.value)}),className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs",placeholder:"East"}),u.jsx("input",{type:"number",step:"0.0001",value:x.west,onChange:A=>v({...x,west:parseFloat(A.target.value)}),className:"w-full px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs",placeholder:"West"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:E,disabled:N,className:"w-full px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 disabled:opacity-50",children:N?" Getting Location...":" Use My Location"}),u.jsx("button",{onClick:D,className:"w-full px-2 py-1 bg-blue-600 text-white rounded text-xs hover:bg-blue-700",children:"Update Map"})]})]}),o!=="none"&&u.jsxs("div",{className:"mb-4",children:[u.jsxs("label",{className:"text-xs text-gray-400 block mb-2",children:["Opacity: ",Math.round(a*100),"%"]}),u.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:a,onChange:A=>R(parseFloat(A.target.value)),className:"w-full"}),u.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mt-1",children:[u.jsx("span",{children:"Transparent"}),u.jsx("span",{children:"Opaque"})]})]}),u.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded",children:[u.jsx("div",{className:"text-xs text-blue-400 mb-1 font-medium",children:" Tips:"}),u.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[u.jsx("li",{children:" Upload floor plans or site maps"}),u.jsx("li",{children:" Use maps for outdoor locations"}),u.jsx("li",{children:" Nodes will snap to real positions"}),u.jsx("li",{children:" Adjust opacity for visibility"})]})]})]})]})}function k_({config:e}){const t=C.useRef(null),n=C.useRef({});return C.useEffect(()=>{var i,l;if(!e||e.type==="none")return;const r=t.current;if(!r)return;const o=r.getContext("2d"),s=r.parentElement.getBoundingClientRect();if(r.width=s.width,r.height=s.height,o.clearRect(0,0,r.width,r.height),e.type==="image"&&e.url){const a=new Image;a.onload=()=>{o.globalAlpha=e.opacity||.3;const c=Math.max(r.width/a.width,r.height/a.height),h=(r.width-a.width*c)/2,f=(r.height-a.height*c)/2;o.drawImage(a,h,f,a.width*c,a.height*c)},a.src=e.url}else if(e.type==="map"){const a=e.zoom||13,c=((i=e.center)==null?void 0:i.lat)||51.505,h=((l=e.center)==null?void 0:l.lng)||-.09,f=e.style||"standard",d=256,m=Math.pow(2,a),x=Math.floor((h+180)/360*m),v=Math.floor((1-Math.log(Math.tan(c*Math.PI/180)+1/Math.cos(c*Math.PI/180))/Math.PI)/2*m),N=Math.ceil(r.width/d)+2,g=Math.ceil(r.height/d)+2;o.globalAlpha=e.opacity||.85;const y=(S,k,E)=>{switch(f){case"dark":return`https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/${S}/${k}/${E}.png`;case"satellite":return`https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/${S}/${E}/${k}`;case"terrain":return`https://tile.opentopomap.org/${S}/${k}/${E}.png`;default:return`https://tile.openstreetmap.org/${S}/${k}/${E}.png`}};for(let S=-Math.floor(N/2);S<=Math.floor(N/2);S++)for(let k=-Math.floor(g/2);k<=Math.floor(g/2);k++){const E=x+S,P=v+k;if(E<0||P<0||E>=m||P>=m)continue;const I=y(a,E,P),R=`${f}-${a}-${E}-${P}`;if(n.current[R]){const L=n.current[R];L.complete&&o.drawImage(L,r.width/2+S*d-d/2,r.height/2+k*d-d/2,d,d)}else{const L=new Image;L.crossOrigin="anonymous",L.onload=()=>{o.globalAlpha=e.opacity||.85,o.drawImage(L,r.width/2+S*d-d/2,r.height/2+k*d-d/2,d,d)},L.onerror=()=>{o.fillStyle="#1f2937",o.fillRect(r.width/2+S*d-d/2,r.height/2+k*d-d/2,d,d),o.strokeStyle="#374151",o.strokeRect(r.width/2+S*d-d/2,r.height/2+k*d-d/2,d,d)},L.src=I,n.current[R]=L}}o.globalAlpha=1;const p=r.width/2,w=r.height/2;o.fillStyle="#3b82f6",o.beginPath(),o.arc(p,w,8,0,2*Math.PI),o.fill(),o.fillStyle="#ffffff",o.beginPath(),o.arc(p,w,4,0,2*Math.PI),o.fill(),o.fillStyle="#000000",o.fillRect(5,5,250,45),o.fillStyle="#ffffff",o.font="bold 12px monospace",o.fillText(` ${c.toFixed(5)}, ${h.toFixed(5)}`,10,20),o.fillText(` Zoom: ${a}`,10,40)}},[e]),!e||e.type==="none"?null:u.jsx("canvas",{ref:t,className:"absolute inset-0 pointer-events-none",style:{zIndex:0}})}function __({onToggle:e,isDisplayMode:t}){return u.jsx("button",{onClick:e,className:`px-4 py-2 rounded-lg border transition-all ${t?"bg-blue-600 border-blue-500 text-white":"bg-gray-900 border-gray-700 text-gray-300 hover:border-gray-500"}`,title:t?"Exit Display Mode":"Enter Display Mode",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{children:t?"":""}),u.jsx("span",{className:"text-sm font-medium",children:t?"Edit Mode":"Display Mode"})]})})}function E_({isOpen:e,onClose:t}){var m,x,v,N;const[n,r]=C.useState(null),[o,s]=C.useState(null),[i,l]=C.useState(!0),[a,c]=C.useState("models");C.useEffect(()=>{e&&(h(),f())},[e]);const h=async()=>{try{const y=await(await fetch("http://localhost:8000/api/config/")).json();r(y),l(!1)}catch(g){console.error("Failed to load config:",g),l(!1)}},f=async()=>{try{const y=await(await fetch("http://localhost:8000/api/config/check-requirements",{method:"POST"})).json();s(y)}catch(g){console.error("Failed to check requirements:",g)}},d=async(g,y)=>{try{(await(await fetch(`http://localhost:8000/api/config/${g}/${y}/toggle`,{method:"POST"})).json()).status==="success"&&h()}catch(p){console.error("Failed to toggle item:",p)}};return e?u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg w-[800px] max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"px-6 py-4 border-b border-gray-800 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-white",children:"Workflow Configuration"}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Manage available models and nodes"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-2xl",children:""})]}),u.jsxs("div",{className:"px-6 pt-4 flex space-x-4 border-b border-gray-800",children:[u.jsxs("button",{onClick:()=>c("models"),className:`pb-3 px-2 text-sm font-medium border-b-2 transition-colors ${a==="models"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[" AI Models (",((m=n==null?void 0:n.models)==null?void 0:m.length)||0,")"]}),u.jsxs("button",{onClick:()=>c("nodes"),className:`pb-3 px-2 text-sm font-medium border-b-2 transition-colors ${a==="nodes"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:[" Input Nodes (",((x=n==null?void 0:n.nodes)==null?void 0:x.length)||0,")"]}),u.jsx("button",{onClick:()=>c("settings"),className:`pb-3 px-2 text-sm font-medium border-b-2 transition-colors ${a==="settings"?"border-blue-500 text-blue-400":"border-transparent text-gray-400 hover:text-gray-300"}`,children:" Settings"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?u.jsx("div",{className:"text-center py-12 text-gray-400",children:"Loading configuration..."}):u.jsxs(u.Fragment,{children:[a==="models"&&u.jsx("div",{className:"space-y-3",children:(v=n==null?void 0:n.models)==null?void 0:v.map(g=>{var p;const y=(p=o==null?void 0:o.models)==null?void 0:p[g.id];return u.jsx("div",{className:`p-4 rounded-lg border ${g.enabled?"bg-gray-800 border-gray-700":"bg-gray-900/50 border-gray-800 opacity-60"}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("h3",{className:"font-semibold text-white",children:g.id}),u.jsxs("span",{className:"text-xs bg-blue-900/50 text-blue-300 px-2 py-0.5 rounded",children:["v",g.version]}),y&&!y.all_met&&u.jsx("span",{className:"text-xs bg-red-900/50 text-red-300 px-2 py-0.5 rounded",children:" Requirements missing"})]}),g.notes&&u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:g.notes}),g.requirements&&g.requirements.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Requirements:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:g.requirements.map((w,S)=>{var E,P;const k=(P=(E=y==null?void 0:y.requirements)==null?void 0:E[S])==null?void 0:P.installed;return u.jsxs("span",{className:`text-xs px-2 py-0.5 rounded font-mono ${k===!1?"bg-red-900/30 text-red-400":"bg-gray-700 text-gray-300"}`,children:[k===!1&&" ",w]},S)})})]})]}),u.jsx("button",{onClick:()=>d("models",g.id),className:`px-4 py-2 rounded font-medium text-sm transition-colors ${g.enabled?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:g.enabled?" Enabled":"Disabled"})]})},g.id)})}),a==="nodes"&&u.jsx("div",{className:"space-y-3",children:(N=n==null?void 0:n.nodes)==null?void 0:N.map(g=>{var p;const y=(p=o==null?void 0:o.nodes)==null?void 0:p[g.id];return u.jsx("div",{className:`p-4 rounded-lg border ${g.enabled?"bg-gray-800 border-gray-700":"bg-gray-900/50 border-gray-800 opacity-60"}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("h3",{className:"font-semibold text-white capitalize",children:g.id}),u.jsxs("span",{className:"text-xs bg-blue-900/50 text-blue-300 px-2 py-0.5 rounded",children:["v",g.version]}),y&&!y.all_met&&u.jsx("span",{className:"text-xs bg-red-900/50 text-red-300 px-2 py-0.5 rounded",children:" Requirements missing"})]}),g.notes&&u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:g.notes}),g.requirements&&g.requirements.length>0&&u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Requirements:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:g.requirements.map((w,S)=>{var E,P;const k=(P=(E=y==null?void 0:y.requirements)==null?void 0:E[S])==null?void 0:P.installed;return u.jsxs("span",{className:`text-xs px-2 py-0.5 rounded font-mono ${k===!1?"bg-red-900/30 text-red-400":"bg-gray-700 text-gray-300"}`,children:[k===!1&&" ",w]},S)})})]})]}),u.jsx("button",{onClick:()=>d("nodes",g.id),className:`px-4 py-2 rounded font-medium text-sm transition-colors ${g.enabled?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:g.enabled?" Enabled":"Disabled"})]})},g.id)})}),a==="settings"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border border-gray-700",children:[u.jsx("h3",{className:"font-semibold text-white mb-3",children:"Global Settings"}),(n==null?void 0:n.global_settings)&&Object.entries(n.global_settings).map(([g,y])=>u.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-700 last:border-0",children:[u.jsx("span",{className:"text-sm text-gray-300 capitalize",children:g.replace(/_/g," ")}),u.jsx("span",{className:"text-sm text-gray-400 font-mono",children:y.toString()})]},g))]}),u.jsxs("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:[u.jsx("div",{className:"text-sm font-medium text-blue-400 mb-2",children:" Coming Soon"}),u.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[u.jsx("li",{children:" Per-user model assignments"}),u.jsx("li",{children:" Model usage quotas"}),u.jsx("li",{children:" Performance monitoring"}),u.jsx("li",{children:" Auto-update settings"})]})]})]})]})}),u.jsxs("div",{className:"px-6 py-4 border-t border-gray-800 flex items-center justify-between",children:[u.jsx("button",{onClick:f,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-sm text-white",children:" Check Requirements"}),u.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded text-sm text-white font-medium",children:"Done"})]})]})}):null}const b_={camera:c_,videoInput:d_,youtube:f_,model:h_,zone:p_,action:g_,dataPreview:m_,debug:y_},C_={animated:x_,data:v_},j_=[{id:"welcome",type:"default",position:{x:250,y:100},data:{label:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"font-bold mb-2",children:" Overwatch Workflow Builder"}),u.jsx("div",{className:"text-xs text-gray-400",children:"Drag components from the left to build your workflow"})]})}}];function M_(){const[e,t,n]=zk(j_),[r,o,s]=Lk([]),[i,l]=C.useState([]),[a,c]=C.useState([]),[h,f]=C.useState([]),[d,m]=C.useState([]),[x,v]=C.useState(null),[N,g]=C.useState({type:"none"}),[y,p]=C.useState(!1),[w,S]=C.useState(!1),[k,E]=C.useState(!1),[P,I]=C.useState(null);C.useEffect(()=>{const M=async()=>{if(P)try{await fetch(`/api/workflow-builder/${P}/stop`,{method:"POST",keepalive:!0})}catch(_){console.error("Cleanup error:",_)}};return window.addEventListener("beforeunload",M),()=>{window.removeEventListener("beforeunload",M),M()}},[P]),C.useEffect(()=>{fetch("/api/cameras/").then(M=>{if(console.log("Cameras response status:",M.status),!M.ok)throw new Error(`HTTP ${M.status}`);return M.json()}).then(M=>{console.log("Loaded cameras:",M.cameras),l(M.cameras||[])}).catch(M=>{console.error("Failed to load cameras:",M),l([])}),fetch("/api/workflow-components/models").then(M=>{if(console.log("Models response status:",M.status),!M.ok)throw new Error(`HTTP ${M.status}`);return M.json()}).then(M=>{var _;console.log("Loaded models:",M.models,"Count:",(_=M.models)==null?void 0:_.length),c(M.models||[])}).catch(M=>{console.error("Failed to load models:",M),c([])}),fetch("/api/workflow-components/actions").then(M=>(console.log("Actions response status:",M.status),M.json())).then(M=>{var _;console.log("Loaded actions:",M.actions,"Count:",(_=M.actions)==null?void 0:_.length),f(M.actions||[])}).catch(M=>{console.error("Failed to load actions:",M),f([])}),fetch("/api/workflow-components/filters").then(M=>(console.log("Filters response status:",M.status),M.json())).then(M=>{var _;console.log("Loaded filters:",M.filters,"Count:",(_=M.filters)==null?void 0:_.length),m(M.filters||[])}).catch(M=>{console.error("Failed to load filters:",M),m([])})},[]);const R=C.useCallback(M=>{const _=e.find(B=>B.id===M.source),j=e.find(B=>B.id===M.target);let $="animated",F={};(_==null?void 0:_.type)==="camera"||(_==null?void 0:_.type)==="videoInput"||(_==null?void 0:_.type)==="youtube"?($="animated",F={type:"video"}):(_==null?void 0:_.type)==="model"?(j==null?void 0:j.type)==="dataPreview"||(j==null?void 0:j.type)==="debug"?($="data",F={type:"raw_data"}):($="animated",F={type:"detections"}):(_==null?void 0:_.type)==="zone"&&($="animated",F={type:"zones"}),(j==null?void 0:j.type)==="debug"&&($="data",F={type:"debug"});const O={...M,type:$,data:F,animated:!0,style:{strokeWidth:2}};o(B=>y0(O,B))},[o,e]),L=C.useCallback(M=>{M.preventDefault(),M.dataTransfer.dropEffect="move"},[]),D=C.useCallback(M=>{M.preventDefault();const _=M.dataTransfer.getData("application/reactflow"),j=JSON.parse(M.dataTransfer.getData("application/json")||"{}");if(typeof _>"u"||!_)return;const $={x:M.clientX-250,y:M.clientY-40},F={id:`${_}-${Date.now()}`,type:_,position:$,data:{...j}};t(O=>O.concat(F))},[t]),A=C.useCallback(()=>{const M={nodes:e,edges:r,site:x,timestamp:new Date().toISOString()};console.log("Saving workflow:",M);const _=new Blob([JSON.stringify(M,null,2)],{type:"application/json"}),j=URL.createObjectURL(_),$=document.createElement("a");$.href=j,$.download=`workflow-${x||"default"}-${Date.now()}.json`,$.click()},[e,r,x]);C.useCallback(M=>{t(M.nodes||[]),o(M.edges||[]),v(M.site)},[t,o]);const b=C.useCallback(()=>{t([]),o([])},[t,o]),z=C.useCallback(async()=>{if(k)try{P&&await fetch(`/api/workflow-builder/${P}/stop`,{method:"POST"}),E(!1),I(null),console.log("Workflow stopped")}catch(M){console.error("Failed to stop workflow:",M)}else try{const M=`workflow-${Date.now()}`;I(M);const _=await fetch("/api/workflow-builder/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:M,name:"Test Workflow",nodes:e,edges:r})});_.ok?(E(!0),console.log("Workflow execution started")):console.error("Failed to start workflow:",await _.text())}catch(M){console.error("Failed to execute workflow:",M)}},[k,P,e,r]),T=C.useCallback((M,_)=>{N.type==="map"&&N.syncWithViewport&&g(j=>({...j}))},[N]);return u.jsxs("div",{className:"h-screen w-screen flex bg-gray-950",children:[!y&&u.jsx(w_,{cameras:i,models:a,actions:h,filters:d}),u.jsx("div",{className:"flex-1 relative",children:u.jsxs(Ik,{nodes:e,edges:r,onNodesChange:n,onEdgesChange:s,onConnect:R,onDrop:D,onDragOver:L,onMove:T,nodeTypes:b_,edgeTypes:C_,fitView:!0,className:"bg-gray-950",nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y,children:[u.jsx(k_,{config:N}),!y&&u.jsxs(u.Fragment,{children:[u.jsx(Xk,{className:"bg-gray-900 border-gray-700"}),u.jsx(i_,{className:"bg-gray-900 border-gray-700",nodeColor:"#374151",maskColor:"rgba(0, 0, 0, 0.6)"})]}),u.jsx(Ok,{variant:N.type==="none"?kt.Dots:kt.Lines,gap:12,size:1,color:N.type==="none"?"#374151":"#1f2937",style:{opacity:N.type==="none"?1:.3}}),u.jsxs(vr,{position:"top-left",className:`${y?"bg-black/80":"bg-gray-900/50"} backdrop-blur-sm border border-gray-800 rounded-lg p-4`,children:[u.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:"OVERWATCH"}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:y?"Live Monitoring":"Workflow Builder"})]}),u.jsxs(vr,{position:"top-right",className:"space-y-2",children:[u.jsx(__,{isDisplayMode:y,onToggle:()=>p(!y)}),!y&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>S(!0),className:"px-3 py-2 bg-gray-900 border border-gray-700 rounded-lg hover:border-gray-500 transition-colors text-sm flex items-center space-x-2 w-full",title:"Configuration",children:[u.jsx("span",{children:""}),u.jsx("span",{className:"text-gray-300",children:"Configuration"})]}),u.jsx(S_,{onBackgroundChange:g,currentBackground:N}),u.jsx(N_,{onSave:A,onClear:b,onExecute:z,nodeCount:e.length,edgeCount:r.length,isExecuting:k})]})]})]})}),u.jsx(E_,{isOpen:w,onClose:()=>S(!1)})]})}bl.createRoot(document.getElementById("root")).render(u.jsx(Nf.StrictMode,{children:u.jsx(M_,{})}));
